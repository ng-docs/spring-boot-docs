<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<title>生产功能</title>
<link rel="stylesheet" href="css/site.css">
<script src="js/setup.js"></script><script defer="" src="js/site.js"></script>
<script type="application/json" id="anchor-rewrite">
{
"actuator-properties":"application-properties.actuator",
"auto-configuration-classes-from-actuator":"auto-configuration-classes.actuator",
"auto-configuration-classes-from-autoconfigure-module":"auto-configuration-classes.core",
"boot-documentation":"documentation",
"boot-documentation-about":"documentation.about",
"boot-documentation-advanced":"documentation.advanced",
"boot-documentation-first-steps":"documentation.first-steps",
"boot-documentation-getting-help":"documentation.getting-help",
"boot-documentation-learning":"documentation.features",
"boot-documentation-production":"documentation.actuator",
"boot-documentation-upgrading":"documentation.upgrading",
"boot-documentation-workingwith":"documentation.using",
"boot-features":"features",
"boot-features-activemq":"features.messaging.jms.activemq",
"boot-features-adding-active-profiles":"features.profiles.adding-active-profiles",
"boot-features-amqp":"features.messaging.amqp",
"boot-features-application-admin":"features.spring-application.admin",
"boot-features-application-arguments":"features.spring-application.application-arguments",
"boot-features-application-availability":"features.spring-application.application-availability",
"boot-features-application-availability-liveness-state":"features.spring-application.application-availability.liveness",
"boot-features-application-availability-managing":"features.spring-application.application-availability.managing",
"boot-features-application-availability-readiness-state":"features.spring-application.application-availability.readiness",
"boot-features-application-events-and-listeners":"features.spring-application.application-events-and-listeners",
"boot-features-application-exit":"features.spring-application.application-exit",
"boot-features-application-startup-tracking":"features.spring-application.startup-tracking",
"boot-features-artemis":"features.messaging.jms.artemis",
"boot-features-banner":"features.spring-application.banner",
"boot-features-bean-conditions":"features.developing-auto-configuration.condition-annotations.bean-conditions",
"boot-features-caching":"features.caching",
"boot-features-caching-provider":"features.caching.provider",
"boot-features-caching-provider-caffeine":"features.caching.provider.caffeine",
"boot-features-caching-provider-couchbase":"features.caching.provider.couchbase",
"boot-features-caching-provider-ehcache2":"features.caching.provider.ehcache2",
"boot-features-caching-provider-generic":"features.caching.provider.generic",
"boot-features-caching-provider-hazelcast":"features.caching.provider.hazelcast",
"boot-features-caching-provider-infinispan":"features.caching.provider.infinispan",
"boot-features-caching-provider-jcache":"features.caching.provider.jcache",
"boot-features-caching-provider-none":"features.caching.provider.none",
"boot-features-caching-provider-redis":"features.caching.provider.redis",
"boot-features-caching-provider-simple":"features.caching.provider.simple",
"boot-features-cassandra":"features.nosql.cassandra",
"boot-features-class-conditions":"features.developing-auto-configuration.condition-annotations.class-conditions",
"boot-features-command-line-runner":"features.spring-application.command-line-runner",
"boot-features-condition-annotations":"features.developing-auto-configuration.condition-annotations",
"boot-features-configfileapplicationcontextinitializer-test-utility":"features.testing.utilities.config-data-application-context-initializer",
"boot-features-configure-datasource":"features.sql.datasource",
"boot-features-connect-to-production-database":"features.sql.datasource.production",
"boot-features-connect-to-production-database-configuration":"features.sql.datasource.configuration",
"boot-features-connect-to-production-database-connection-pool":"features.sql.datasource.connection-pool",
"boot-features-connecting-to-a-jndi-datasource":"features.sql.datasource.jndi",
"boot-features-connecting-to-cassandra":"features.nosql.cassandra.connecting",
"boot-features-connecting-to-couchbase":"features.nosql.couchbase.connecting",
"boot-features-connecting-to-elasticsearch-reactive-rest":"features.nosql.elasticsearch.connecting-using-reactive-rest",
"boot-features-connecting-to-elasticsearch-rest":"features.nosql.elasticsearch.connecting-using-rest",
"boot-features-connecting-to-elasticsearch-spring-data":"features.nosql.elasticsearch.connecting-using-spring-data",
"boot-features-connecting-to-influxdb":"features.nosql.influxdb.connecting",
"boot-features-connecting-to-mongodb":"features.nosql.mongodb.connecting",
"boot-features-connecting-to-neo4j":"features.nosql.neo4j.connecting",
"boot-features-connecting-to-redis":"features.nosql.redis.connecting",
"boot-features-connecting-to-solr":"features.nosql.solr.connecting",
"boot-features-container-images":"features.container-images",
"boot-features-container-images-building":"features.container-images.building",
"boot-features-container-images-buildpacks":"features.container-images.building.buildpacks",
"boot-features-container-images-docker":"features.container-images.building.dockerfiles",
"boot-features-cors":"features.developing-web-applications.spring-mvc.cors",
"boot-features-couchbase":"features.nosql.couchbase",
"boot-features-creating-and-dropping-jpa-databases":"features.sql.jpa-and-spring-data.creating-and-dropping",
"boot-features-custom-log-configuration":"features.logging.custom-log-configuration",
"boot-features-custom-log-groups":"features.logging.log-groups",
"boot-features-custom-log-levels":"features.logging.log-levels",
"boot-features-custom-starter":"features.developing-auto-configuration.custom-starter",
"boot-features-custom-starter-configuration-keys":"features.developing-auto-configuration.custom-starter.configuration-keys",
"boot-features-custom-starter-module-autoconfigure":"features.developing-auto-configuration.custom-starter.autoconfigure-module",
"boot-features-custom-starter-module-starter":"features.developing-auto-configuration.custom-starter.starter-module",
"boot-features-custom-starter-naming":"features.developing-auto-configuration.custom-starter.naming",
"boot-features-customizing-configurableservletwebserverfactory-directly":"features.developing-web-applications.embedded-container.customizing.direct",
"boot-features-customizing-embedded-containers":"features.developing-web-applications.embedded-container.customizing",
"boot-features-customizing-spring-application":"features.spring-application.customizing-spring-application",
"boot-features-data-jdbc":"features.sql.jdbc",
"boot-features-developing-auto-configuration":"features.developing-auto-configuration",
"boot-features-developing-web-applications":"features.developing-web-applications",
"boot-features-elasticsearch":"features.nosql.elasticsearch",
"boot-features-email":"features.email",
"boot-features-embedded-container":"features.developing-web-applications.embedded-container",
"boot-features-embedded-container-application-context":"features.developing-web-applications.embedded-container.application-context",
"boot-features-embedded-container-context-initializer":"features.developing-web-applications.embedded-container.context-initializer",
"boot-features-embedded-container-servlets-filters-listeners":"features.developing-web-applications.embedded-container.servlets-filters-listeners",
"boot-features-embedded-container-servlets-filters-listeners-beans":"features.developing-web-applications.embedded-container.servlets-filters-listeners.beans",
"boot-features-embedded-container-servlets-filters-listeners-scanning":"features.developing-web-applications.embedded-container.context-initializer.scanning",
"boot-features-embedded-database-support":"features.sql.datasource.embedded",
"boot-features-embedded-kafka":"features.messaging.kafka.embedded",
"boot-features-encrypting-properties":"features.external-config.encrypting",
"boot-features-entity-classes":"features.sql.jpa-and-spring-data.entity-classes",
"boot-features-error-handling":"features.developing-web-applications.spring-mvc.error-handling",
"boot-features-error-handling-custom-error-pages":"features.developing-web-applications.spring-mvc.error-handling.error-pages",
"boot-features-error-handling-mapping-error-pages-without-mvc":"features.developing-web-applications.spring-mvc.error-handling.error-pages-without-spring-mvc",
"boot-features-error-handling-war-deployment":"features.developing-web-applications.spring-mvc.error-handling.in-a-war-deployment",
"boot-features-external-config":"features.external-config",
"boot-features-external-config-3rd-party-configuration":"features.external-config.typesafe-configuration-properties.third-party-configuration",
"boot-features-external-config-application-json":"features.external-config.application-json",
"boot-features-external-config-application-property-files":"features.external-config.files",
"boot-features-external-config-command-line-args":"features.external-config.command-line-args",
"boot-features-external-config-complex-type-merge":"features.external-config.typesafe-configuration-properties.merging-complex-types",
"boot-features-external-config-constructor-binding":"features.external-config.typesafe-configuration-properties.constructor-binding",
"boot-features-external-config-conversion":"features.external-config.typesafe-configuration-properties.conversion",
"boot-features-external-config-conversion-datasize":"features.external-config.typesafe-configuration-properties.conversion.data-sizes",
"boot-features-external-config-conversion-duration":"features.external-config.typesafe-configuration-properties.conversion.durations",
"boot-features-external-config-conversion-period":"features.external-config.typesafe-configuration-properties.conversion.periods",
"boot-features-external-config-enabling":"features.external-config.typesafe-configuration-properties.enabling-annotated-types",
"boot-features-external-config-exposing-yaml-to-spring":"features.external-config.yaml.directly-loading",
"boot-features-external-config-file-activation-properties":"features.external-config.files.activation-properties",
"boot-features-external-config-files":"features.external-config.files",
"boot-features-external-config-files-configtree":"features.external-config.files.configtree",
"boot-features-external-config-files-importing":"features.external-config.files.importing",
"boot-features-external-config-files-importing-extensionless":"features.external-config.file.importing-extensionless",
"boot-features-external-config-files-multi-document":"features.external-config.files.multi-document",
"boot-features-external-config-files-profile-specific":"features.external-config.files.profile-specific",
"boot-features-external-config-files-wildcards":"features.external-config.files.wildcard-locations",
"boot-features-external-config-java-bean-binding":"features.external-config.typesafe-configuration-properties.java-bean-binding",
"boot-features-external-config-loading-yaml":"features.external-config.yaml.directly-loading",
"boot-features-external-config-optional-prefix":"features.external-config.files.optional-prefix",
"boot-features-external-config-placeholders-in-properties":"features.external-config.files.property-placeholders",
"boot-features-external-config-random-values":"features.external-config.random-values",
"boot-features-external-config-relaxed-binding":"features.external-config.typesafe-configuration-properties.relaxed-binding",
"boot-features-external-config-relaxed-binding-from-environment-variables":"features.external-config.typesafe-configuration-properties.relaxed-binding.environment-variables",
"boot-features-external-config-relaxed-binding-maps":"features.external-config.typesafe-configuration-properties.relaxed-binding.maps",
"boot-features-external-config-system-environment":"features.external-config.system-environment",
"boot-features-external-config-typesafe-configuration-properties":"features.external-config.typesafe-configuration-properties",
"boot-features-external-config-using":"features.external-config.typesafe-configuration-properties.using-annotated-types",
"boot-features-external-config-validation":"features.external-config.typesafe-configuration-properties.validation",
"boot-features-external-config-vs-value":"features.external-config.typesafe-configuration-properties.vs-value-annotation",
"boot-features-external-config-yaml":"features.external-config.yaml",
"boot-features-external-config-yaml-to-properties":"features.external-config.yaml.mapping-to-properties",
"boot-features-fluent-builder-api":"features.spring-application.fluent-builder-api",
"boot-features-graceful-shutdown":"features.graceful-shutdown",
"boot-features-hazelcast":"features.hazelcast",
"boot-features-influxdb":"features.nosql.influxdb",
"boot-features-integration":"features.spring-integration",
"boot-features-internationalization":"features.internationalization",
"boot-features-jersey":"features.developing-web-applications.jersey",
"boot-features-jms":"features.messaging.jms",
"boot-features-jms-jndi":"features.messaging.jms.jndi",
"boot-features-jmx":"features.jmx",
"boot-features-jooq":"features.sql.jooq",
"boot-features-jooq-codegen":"features.sql.jooq.codegen",
"boot-features-jooq-customizing":"features.sql.jooq.customizing",
"boot-features-jooq-dslcontext":"features.sql.jooq.dslcontext",
"boot-features-jooq-sqldialect":"features.sql.jooq.sqldialect",
"boot-features-jpa-and-spring-data":"features.sql.jpa-and-spring-data",
"boot-features-jpa-in-web-environment":"features.sql.jpa-and-spring-data.open-entity-manager-in-view",
"boot-features-json":"features.json",
"boot-features-json-components":"features.developing-web-applications.spring-mvc.json",
"boot-features-json-gson":"features.json.gson",
"boot-features-json-jackson":"features.json.jackson",
"boot-features-json-json-b":"features.json.json-b",
"boot-features-jsp-limitations":"features.developing-web-applications.embedded-container.jsp-limitations",
"boot-features-jta":"features.jta",
"boot-features-jta-atomikos":"features.jta.atomikos",
"boot-features-jta-javaee":"features.jta.javaee",
"boot-features-jta-mixed-jms":"features.jta.mixing-xa-and-non-xa-connections",
"boot-features-jta-supporting-alternative-embedded":"features.jta.supporting-alternative-embedded-transaction-manager",
"boot-features-kafka":"features.messaging.kafka",
"boot-features-kafka-extra-props":"features.messaging.kafka.additional-properties",
"boot-features-kafka-receiving-a-message":"features.messaging.kafka.receiving",
"boot-features-kafka-sending-a-message":"features.messaging.kafka.sending",
"boot-features-kafka-streams":"features.messaging.kafka.streams",
"boot-features-kotlin":"features.kotlin",
"boot-features-kotlin-api":"features.kotlin.api",
"boot-features-kotlin-api-extensions":"features.kotlin.api.extensions",
"boot-features-kotlin-api-runapplication":"features.kotlin.api.run-application",
"boot-features-kotlin-configuration-properties":"features.kotlin.configuration-properties",
"boot-features-kotlin-dependency-management":"features.kotlin.dependency-management",
"boot-features-kotlin-null-safety":"features.kotlin.null-safety",
"boot-features-kotlin-requirements":"features.kotlin.requirements",
"boot-features-kotlin-resources":"features.kotlin.resources",
"boot-features-kotlin-resources-examples":"features.kotlin.resources.examples",
"boot-features-kotlin-resources-further-reading":"features.kotlin.resources.further-reading",
"boot-features-kotlin-testing":"features.kotlin.testing",
"boot-features-lazy-initialization":"features.spring-application.lazy-initialization",
"boot-features-ldap":"features.nosql.ldap",
"boot-features-ldap-connecting":"features.nosql.ldap.connecting",
"boot-features-ldap-embedded":"features.nosql.ldap.embedded",
"boot-features-ldap-spring-data-repositories":"features.nosql.ldap.repositories",
"boot-features-locating-auto-configuration-candidates":"features.developing-auto-configuration.locating-auto-configuration-candidates",
"boot-features-log-shutdown-hook":"features.logging.shutdown-hook",
"boot-features-logback-environment-properties":"features.logging.logback-extensions.environment-properties",
"boot-features-logback-extensions":"features.logging.logback-extensions",
"boot-features-logback-extensions-profile-specific":"features.logging.logback-extensions.profile-specific",
"boot-features-logging":"features.logging",
"boot-features-logging-color-coded-output":"features.logging.console-output.color-coded",
"boot-features-logging-console-output":"features.logging.console-output",
"boot-features-logging-file-output":"features.logging.file-output",
"boot-features-logging-file-rotation":"features.logging.file-rotation",
"boot-features-logging-format":"features.logging.log-format",
"boot-features-messaging":"features.messaging",
"boot-features-mongo-embedded":"features.nosql.mongodb.embedded",
"boot-features-mongo-template":"features.nosql.mongodb.template",
"boot-features-mongodb":"features.nosql.mongodb",
"boot-features-neo4j":"features.nosql.neo4j",
"boot-features-nosql":"features.nosql",
"boot-features-output-capture-test-utility":"features.testing.utilities.output-capture",
"boot-features-profile-specific-configuration":"features.profiles.profile-specific-configuration-files",
"boot-features-profiles":"features.profiles",
"boot-features-profiles-groups":"features.profiles.groups",
"boot-features-programmatic-embedded-container-customization":"features.developing-web-applications.embedded-container.customizing.programmatic",
"boot-features-programmatically-setting-profiles":"features.profiles.programmatically-setting-profiles",
"boot-features-property-conditions":"features.developing-auto-configuration.condition-annotations.property-conditions",
"boot-features-quartz":"features.quartz",
"boot-features-r2dbc":"features.sql.r2dbc",
"boot-features-r2dbc-embedded-database":"features.sql.r2dbc.embedded",
"boot-features-r2dbc-using-database-client":"features.sql.r2dbc.using-database-client",
"boot-features-rabbitmq":"features.messaging.amqp.rabbitmq",
"boot-features-reactive-server":"features.developing-web-applications.reactive-server",
"boot-features-reactive-server-resources":"features.developing-web-applications.reactive-server-resources-configuration",
"boot-features-redis":"features.nosql.redis",
"boot-features-resource-conditions":"features.developing-auto-configuration.condition-annotations.resource-conditions",
"boot-features-rest-templates-test-utility":"features.testing.utilities.test-rest-template",
"boot-features-resttemplate":"features.resttemplate",
"boot-features-resttemplate-customization":"features.resttemplate.customization",
"boot-features-rsocket":"features.rsocket",
"boot-features-rsocket-messaging":"features.rsocket.messaging",
"boot-features-rsocket-requester":"features.rsocket.requester",
"boot-features-rsocket-server-auto-configuration":"features.rsocket.server-auto-configuration",
"boot-features-rsocket-strategies-auto-configuration":"features.rsocket.strategies-auto-configuration",
"boot-features-security":"features.security",
"boot-features-security-actuator":"features.security.actuator",
"boot-features-security-authorization-server":"features.security.oauth2.authorization-server",
"boot-features-security-csrf":"features.security.actuator.csrf",
"boot-features-security-mvc":"features.security.spring-mvc",
"boot-features-security-oauth2":"features.security.oauth2",
"boot-features-security-oauth2-client":"features.security.oauth2.client",
"boot-features-security-oauth2-common-providers":"features.security.oauth2.client.common-providers",
"boot-features-security-oauth2-server":"features.security.oauth2.server",
"boot-features-security-saml":"features.security.saml2",
"boot-features-security-saml2-relying-party":"features.security.saml2.relying-party",
"boot-features-security-webflux":"features.security.spring-webflux",
"boot-features-session":"features.spring-session",
"boot-features-solr":"features.nosql.solr",
"boot-features-spel-conditions":"features.developing-auto-configuration.condition-annotations.spel-conditions",
"boot-features-spring-application":"features.spring-application",
"boot-features-spring-data-cassandra-repositories":"features.nosql.cassandra.repositories",
"boot-features-spring-data-couchbase-repositories":"features.nosql.couchbase.repositories",
"boot-features-spring-data-elasticsearch-repositories":"features.nosql.elasticsearch.repositories",
"boot-features-spring-data-jpa-repositories":"features.sql.jpa-and-spring-data.repositories",
"boot-features-spring-data-mongo-repositories":"features.nosql.mongodb.repositories",
"boot-features-spring-data-mongodb-repositories":"features.nosql.mongodb.repositories",
"boot-features-spring-data-neo4j-repositories":"features.nosql.neo4j.repositories",
"boot-features-spring-data-r2dbc-repositories":"features.sql.r2dbc.repositories",
"boot-features-spring-hateoas":"features.developing-web-applications.spring-mvc.spring-hateoas",
"boot-features-spring-message-codes":"features.developing-web-applications.spring-mvc.message-codes",
"boot-features-spring-mvc":"features.developing-web-applications.spring-mvc",
"boot-features-spring-mvc-auto-configuration":"features.developing-web-applications.spring-mvc.auto-configuration",
"boot-features-spring-mvc-message-converters":"features.developing-web-applications.spring-mvc.message-converters",
"boot-features-spring-mvc-pathmatch":"features.developing-web-applications.spring-mvc.content-negotiation",
"boot-features-spring-mvc-static-content":"features.developing-web-applications.spring-mvc.static-content",
"boot-features-spring-mvc-template-engines":"features.developing-web-applications.spring-mvc.template-engines",
"boot-features-spring-mvc-web-binding-initializer":"features.developing-web-applications.spring-mvc.binding-initializer",
"boot-features-spring-mvc-welcome-page":"features.developing-web-applications.spring-mvc.welcome-page",
"boot-features-sql":"features.sql",
"boot-features-sql-h2-console":"features.sql.h2-web-console",
"boot-features-sql-h2-console-custom-path":"features.sql.h2-web-console.custom-path",
"boot-features-startup-failure":"features.spring-application.startup-failure",
"boot-features-task-execution-scheduling":"features.task-execution-and-scheduling",
"boot-features-test-autoconfig":"features.developing-auto-configuration.testing",
"boot-features-test-autoconfig-overriding-classpath":"features.developing-auto-configuration.testing.overriding-classpath",
"boot-features-test-autoconfig-simulating-web-context":"features.developing-auto-configuration.testing.simulating-a-web-context",
"boot-features-test-property-values":"features.testing.utilities.test-property-values",
"boot-features-test-scope-dependencies":"features.testing.test-scope-dependencies",
"boot-features-test-utilities":"features.testing.utilities",
"boot-features-testing":"features.testing",
"boot-features-testing-spring-applications":"features.testing.spring-applications",
"boot-features-testing-spring-boot-application-arguments":"features.testing.spring-boot-applications.using-application-arguments",
"boot-features-testing-spring-boot-applications":"features.testing.spring-boot-applications",
"boot-features-testing-spring-boot-applications-customizing-web-test-client":"features.testing.spring-boot-applications.customizing-web-test-client",
"boot-features-testing-spring-boot-applications-detecting-config":"features.testing.spring-boot-applications.detecting-configuration",
"boot-features-testing-spring-boot-applications-detecting-web-app-type":"features.testing.spring-boot-applications.detecting-web-app-type",
"boot-features-testing-spring-boot-applications-excluding-config":"features.testing.spring-boot-applications.excluding-configuration",
"boot-features-testing-spring-boot-applications-jmx":"features.testing.spring-boot-applications.jmx",
"boot-features-testing-spring-boot-applications-metrics":"features.testing.spring-boot-applications.metrics",
"boot-features-testing-spring-boot-applications-mocking-beans":"features.testing.spring-boot-applications.mocking-beans",
"boot-features-testing-spring-boot-applications-testing-auto-configured-additional-auto-config":"features.testing.spring-boot-applications.additional-autoconfiguration-and-slicing",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-cassandra-test":"features.testing.spring-boot-applications.autoconfigured-spring-data-cassandra",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-data-jdbc-test":"features.testing.spring-boot-applications.autoconfigured-spring-data-jdbc",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-jdbc-test":"features.testing.spring-boot-applications.autoconfigured-jdbc",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-jooq-test":"features.testing.spring-boot-applications.autoconfigured-jooq",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test":"features.testing.spring-boot-applications.autoconfigured-spring-data-jpa",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-json-tests":"features.testing.spring-boot-applications.json-tests",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-ldap-test":"features.testing.spring-boot-applications.autoconfigured-spring-data-ldap",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-mongo-test":"features.testing.spring-boot-applications.autoconfigured-spring-data-mongodb",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-mvc-tests":"features.testing.spring-boot-applications.spring-mvc-tests",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-neo4j-test":"features.testing.spring-boot-applications.autoconfigured-spring-data-neo4j",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-redis-test":"features.testing.spring-boot-applications.autoconfigured-spring-data-redis",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-client":"features.testing.spring-boot-applications.autoconfigured-rest-client",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-docs":"features.testing.spring-boot-applications.autoconfigured-spring-restdocs",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-docs-mock-mvc":"features.testing.spring-boot-applications.autoconfigured-spring-restdocs.with-mock-mvc",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-docs-rest-assured":"features.testing.spring-boot-applications.autoconfigured-spring-restdocs.with-rest-assured",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-docs-web-test-client":"features.testing.spring-boot-applications.autoconfigured-spring-restdocs.with-web-test-client",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-tests":"features.testing.spring-boot-applications.autoconfigured-tests",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-webflux-tests":"features.testing.spring-boot-applications.spring-webflux-tests",
"boot-features-testing-spring-boot-applications-testing-autoconfigured-webservices":"features.testing.spring-boot-applications.autoconfigured-webservices",
"boot-features-testing-spring-boot-applications-testing-user-configuration":"features.testing.spring-boot-applications.user-configuration-and-slicing",
"boot-features-testing-spring-boot-applications-testing-with-mock-environment":"features.testing.spring-boot-applications.with-mock-environment",
"boot-features-testing-spring-boot-applications-testing-with-running-server":"features.testing.spring-boot-applications.with-running-server",
"boot-features-testing-spring-boot-applications-with-spock":"features.testing.spring-boot-applications.spock",
"boot-features-understanding-auto-configured-beans":"features.developing-auto-configuration.understanding-auto-configured-beans",
"boot-features-using-amqp-receiving":"features.messaging.amqp.receiving",
"boot-features-using-amqp-sending":"features.messaging.amqp.sending",
"boot-features-using-jdbc-template":"features.sql.jdbc-template",
"boot-features-using-jms-receiving":"features.messaging.jms.receiving",
"boot-features-using-jms-sending":"features.messaging.jms.sending",
"boot-features-validation":"features.validation",
"boot-features-web-application-conditions":"features.developing-auto-configuration.condition-annotations.web-application-conditions",
"boot-features-web-environment":"features.spring-application.web-environment",
"boot-features-webclient":"features.webclient",
"boot-features-webclient-customization":"features.webclient.customization",
"boot-features-webclient-runtime":"features.webclient.runtime",
"boot-features-webflux":"features.developing-web-applications.spring-webflux",
"boot-features-webflux-auto-configuration":"features.developing-web-applications.spring-webflux.auto-configuration",
"boot-features-webflux-error-handling":"features.developing-web-applications.spring-webflux.error-handling",
"boot-features-webflux-error-handling-custom-error-pages":"features.developing-web-applications.spring-webflux.error-handling.error-pages",
"boot-features-webflux-httpcodecs":"features.developing-web-applications.spring-webflux.httpcodecs",
"boot-features-webflux-static-content":"features.developing-web-applications.spring-webflux.static-content",
"boot-features-webflux-template-engines":"features.developing-web-applications.spring-webflux.template-engines",
"boot-features-webflux-web-filters":"features.developing-web-applications.spring-webflux.web-filters",
"boot-features-webflux-welcome-page":"features.developing-web-applications.spring-webflux.welcome-page",
"boot-features-webservices":"features.webservices",
"boot-features-webservices-template":"features.webservices.template",
"boot-features-websockets":"features.websockets",
"boot-features-whats-next":"features.whats-next",
"boot-layering-docker-images":"features.container-images.layering",
"build-tool-plugins-antlib":"build-tool-plugins.antlib",
"build-tool-plugins-find-a-main-class":"build-tool-plugins.other-build-systems.finding-main-class",
"build-tool-plugins-gradle-plugin":"build-tool-plugins.gradle",
"build-tool-plugins-maven-plugin":"build-tool-plugins.maven",
"build-tool-plugins-nested-libraries":"build-tool-plugins.other-build-systems.nested-libraries",
"build-tool-plugins-other-build-systems":"build-tool-plugins.other-build-systems",
"build-tool-plugins-repackage-implementation":"build-tool-plugins.other-build-systems.example-repackage-implementation",
"build-tool-plugins-repackaging-archives":"build-tool-plugins.other-build-systems.repackaging-archives",
"build-tool-plugins-whats-next":"build-tool-plugins.whats-next",
"cache-properties":"application-properties.cache",
"cli-automatic-main-method":"cli.using-the-cli.run.automatic-main-method",
"cli-deduced-grab-annotations":"cli.using-the-cli.run.deduced-grab-annotations",
"cli-default-grab-deduced-coordinates":"cli.using-the-cli.run.deduced-grab-coordinates",
"cli-default-grab-deduced-coordinates-custom-dependency-management":"cli.using-the-cli.run.custom-dependency-management",
"cli-default-import-statements":"cli.using-the-cli.run.default-import-statements",
"cli-groovy-beans-dsl":"cli.groovy-beans-dsl",
"cli-init":"cli.using-the-cli.initialize-new-project",
"cli-install-uninstall":"cli.using-the-cli.extensions",
"cli-installation":"cli.installation",
"cli-jar":"cli.using-the-cli.packaging",
"cli-maven-settings":"cli.maven-setting",
"cli-multiple-source-files":"cli.using-the-cli.multiple-source-files",
"cli-run":"cli.using-the-cli.run",
"cli-shell":"cli.using-the-cli.embedded-shell",
"cli-using-the-cli":"cli.using-the-cli",
"cli-whats-next":"cli.whats-next",
"cloud-deployment":"deployment.cloud",
"cloud-deployment-aws":"deployment.cloud.aws",
"cloud-deployment-aws-beanstalk":"deployment.cloud.aws.beanstalk",
"cloud-deployment-aws-java-se-platform":"deployment.cloud.aws.beanstalk.java-se-platform",
"cloud-deployment-aws-summary":"deployment.cloud.aws.summary",
"cloud-deployment-aws-tomcat-platform":"deployment.cloud.aws.beanstalk.tomcat-platform",
"cloud-deployment-boxfuse":"deployment.cloud.boxfuse",
"cloud-deployment-cloud-foundry":"deployment.cloud.cloud-foundry",
"cloud-deployment-cloud-foundry-services":"deployment.cloud.cloud-foundry.binding-to-services",
"cloud-deployment-gae":"deployment.cloud.google",
"cloud-deployment-heroku":"deployment.cloud.heroku",
"cloud-deployment-kubernetes":"deployment.cloud.kubernetes",
"cloud-deployment-kubernetes-container-lifecycle":"deployment.cloud.kubernetes.container-lifecycle",
"cloud-deployment-openshift":"deployment.cloud.openshift",
"common-application-properties":"application-properties",
"common-application-properties-actuator":"application-properties.actuator",
"common-application-properties-cache":"application-properties.cache",
"common-application-properties-core":"application-properties.core",
"common-application-properties-data":"application-properties.data",
"common-application-properties-data-migration":"application-properties.data-migration",
"common-application-properties-devtools":"application-properties.devtools",
"common-application-properties-integration":"application-properties.integration",
"common-application-properties-json":"application-properties.json",
"common-application-properties-mail":"application-properties.mail",
"common-application-properties-rsocket":"application-properties.rsocket",
"common-application-properties-security":"application-properties.security",
"common-application-properties-server":"application-properties.server",
"common-application-properties-templating":"application-properties.templating",
"common-application-properties-testing":"application-properties.testing",
"common-application-properties-transaction":"application-properties.transaction",
"common-application-properties-web":"application-properties.web",
"configuration-metadata-additional-metadata":"configuration-metadata.annotation-processor.adding-additional-metadata",
"configuration-metadata-annotation-processor":"configuration-metadata.annotation-processor",
"configuration-metadata-annotation-processor-metadata-generation":"configuration-metadata.annotation-processor.automatic-metadata-generation",
"configuration-metadata-annotation-processor-metadata-generation-nested":"configuration-metadata.annotation-processor.automatic-metadata-generation.nested-properties",
"configuration-metadata-annotation-processor-setup":"configuration-metadata.annotation-processor.configuring",
"configuration-metadata-format":"configuration-metadata.format",
"configuration-metadata-group-attributes":"configuration-metadata.format.group",
"configuration-metadata-hints-attributes":"configuration-metadata.format.hints",
"configuration-metadata-property-attributes":"configuration-metadata.format.property",
"configuration-metadata-providing-manual-hints":"configuration-metadata.manual-hints",
"configuration-metadata-providing-manual-hints-any":"configuration-metadata.manual-hints.value-providers.any",
"configuration-metadata-providing-manual-hints-class-reference":"configuration-metadata.manual-hints.value-providers.class-reference",
"configuration-metadata-providing-manual-hints-handle-as":"configuration-metadata.manual-hints.value-providers.handle-as",
"configuration-metadata-providing-manual-hints-logger-name":"configuration-metadata.manual-hints.value-providers.logger-name",
"configuration-metadata-providing-manual-hints-spring-bean-reference":"configuration-metadata.manual-hints.value-providers.spring-bean-reference",
"configuration-metadata-providing-manual-hints-spring-profile-name":"configuration-metadata.manual-hints.value-providers.spring-profile-name",
"configuration-metadata-providing-manual-hints-value-hint":"configuration-metadata.manual-hints.value-hint",
"configuration-metadata-providing-manual-hints-value-providers":"configuration-metadata.manual-hints.value-providers",
"configuration-metadata-repeated-items":"configuration-metadata.format.repeated-items",
"configuring-file-system-watcher":"using.devtools.globalsettings.configuring-file-system-watcher",
"containers-deployment":"deployment.containers",
"core-properties":"application-properties.core",
"data-migration-properties":"application-properties.data-migration",
"data-properties":"application-properties.data",
"dependency-versions-coordinates":"dependency-versions.coordinates",
"dependency-versions-properties":"dependency-versions.properties",
"deployment-initd-service":"deployment.installing.nix-services.init-d",
"deployment-initd-service-securing":"deployment.installing.nix-services.init-d.securing",
"deployment-install":"deployment.installing",
"deployment-install-supported-operating-systems":"deployment.installing.supported-operating-systems",
"deployment-script-customization":"deployment.installing.nix-services.script-customization",
"deployment-script-customization-when-it-runs":"deployment.installing.nix-services.script-customization.when-running",
"deployment-script-customization-when-it-written":"deployment.installing.nix-services.script-customization.when-written",
"deployment-service":"deployment.installing.nix-services",
"deployment-systemd-service":"deployment.installing.nix-services.system-d",
"deployment-whats-next":"deployment.whats-next",
"deployment-windows":"deployment.installing.windows-services",
"deployment.containers":"container-images.efficient-images.unpacking",
"devtools-properties":"application-properties.devtools",
"executable-jar-alternatives":"executable-jar.alternatives",
"executable-jar-jar-file-structure":"executable-jar.nested-jars.jar-structure",
"executable-jar-jarfile":"executable-jar.jarfile-class",
"executable-jar-jarfile-compatibility":"executable-jar.jarfile-class.compatibility",
"executable-jar-launcher-manifest":"executable-jar.launching.manifest",
"executable-jar-launching":"executable-jar.launching",
"executable-jar-nested-jars":"executable-jar.nested-jars",
"executable-jar-property-launcher-features":"executable-jar.property-launcher",
"executable-jar-restrictions":"executable-jar.restrictions",
"executable-jar-war-file-structure":"executable-jar.nested-jars.war-structure",
"executable-jar-war-index-files":"executable-jar.nested-jars.index-files",
"executable-jar-war-index-files-classpath":"executable-jar.nested-jars.classpath-index",
"executable-jar-war-index-files-layers":"executable-jar.nested-jars.layer-index",
"features.caching":"io.caching",
"features.caching.provider":"io.caching.provider",
"features.caching.provider.caffeine":"io.caching.provider.caffeine",
"features.caching.provider.couchbase":"io.caching.provider.couchbase",
"features.caching.provider.ehcache2":"io.caching.provider.ehcache2",
"features.caching.provider.generic":"io.caching.provider.generic",
"features.caching.provider.hazelcast":"io.caching.provider.hazelcast",
"features.caching.provider.infinispan":"io.caching.provider.infinispan",
"features.caching.provider.jcache":"io.caching.provider.jcache",
"features.caching.provider.none":"io.caching.provider.none",
"features.caching.provider.redis":"io.caching.provider.redis",
"features.caching.provider.simple":"io.caching.provider.simple",
"features.container-images":"container-images.efficient-images",
"features.container-images.building":"container-images.efficient-images",
"features.container-images.building.buildpacks":"container-images.buildpacks",
"features.container-images.building.dockerfiles":"container-images.dockerfiles",
"features.container-images.layering":"container-images.efficient-images.layering",
"features.developing-web-applications":"web",
"features.developing-web-applications.embedded-container":"web.servlet.embedded-container",
"features.developing-web-applications.embedded-container.application-context":"web.servlet.embedded-container.application-context",
"features.developing-web-applications.embedded-container.context-initializer":"web.servlet.embedded-container.context-initializer",
"features.developing-web-applications.embedded-container.context-initializer.scanning":"web.servlet.embedded-container.context-initializer.scanning",
"features.developing-web-applications.embedded-container.customizing":"web.servlet.embedded-container.customizing",
"features.developing-web-applications.embedded-container.customizing.direct":"web.servlet.embedded-container.customizing.direct",
"features.developing-web-applications.embedded-container.customizing.programmatic":"web.servlet.embedded-container.customizing.programmatic",
"features.developing-web-applications.embedded-container.jsp-limitations":"web.servlet.embedded-container.jsp-limitations",
"features.developing-web-applications.embedded-container.servlets-filters-listeners":"web.servlet.embedded-container.servlets-filters-listeners",
"features.developing-web-applications.embedded-container.servlets-filters-listeners.beans":"web.servlet.embedded-container.servlets-filters-listeners.beans",
"features.developing-web-applications.jersey":"web.servlet.jersey",
"features.developing-web-applications.reactive-server":"web.reactive.reactive-server",
"features.developing-web-applications.reactive-server-resources-configuration":"web.reactive.reactive-server-resources-configuration",
"features.developing-web-applications.spring-mvc":"web.servlet.spring-mvc",
"features.developing-web-applications.spring-mvc.auto-configuration":"web.servlet.spring-mvc.auto-configuration",
"features.developing-web-applications.spring-mvc.binding-initializer":"web.servlet.spring-mvc.binding-initializer",
"features.developing-web-applications.spring-mvc.content-negotiation":"web.servlet.spring-mvc.content-negotiation",
"features.developing-web-applications.spring-mvc.cors":"web.servlet.spring-mvc.cors",
"features.developing-web-applications.spring-mvc.error-handling":"web.servlet.spring-mvc.error-handling",
"features.developing-web-applications.spring-mvc.error-handling.error-pages":"web.servlet.spring-mvc.error-handling.error-pages",
"features.developing-web-applications.spring-mvc.error-handling.error-pages-without-spring-mvc":"web.servlet.spring-mvc.error-handling.error-pages-without-spring-mvc",
"features.developing-web-applications.spring-mvc.error-handling.in-a-war-deployment":"web.servlet.spring-mvc.error-handling.in-a-war-deployment",
"features.developing-web-applications.spring-mvc.json":"web.servlet.spring-mvc.json",
"features.developing-web-applications.spring-mvc.message-codes":"web.servlet.spring-mvc.message-codes",
"features.developing-web-applications.spring-mvc.message-converters":"web.servlet.spring-mvc.message-converters",
"features.developing-web-applications.spring-mvc.static-content":"web.servlet.spring-mvc.static-content",
"features.developing-web-applications.spring-mvc.template-engines":"web.servlet.spring-mvc.template-engines",
"features.developing-web-applications.spring-mvc.welcome-page":"web.servlet.spring-mvc.welcome-page",
"features.developing-web-applications.spring-webflux":"web.reactive.webflux",
"features.developing-web-applications.spring-webflux.auto-configuration":"web.reactive.webflux.auto-configuration",
"features.developing-web-applications.spring-webflux.error-handling":"web.reactive.webflux.error-handling",
"features.developing-web-applications.spring-webflux.error-pages":"web.reactive.webflux.error-handling.error-pages",
"features.developing-web-applications.spring-webflux.httpcodecs":"web.reactive.webflux.httpcodecs",
"features.developing-web-applications.spring-webflux.static-context":"web.reactive.webflux.static-content",
"features.developing-web-applications.spring-webflux.template-engines":"web.reactive.webflux.template-engines",
"features.developing-web-applications.spring-webflux.web-filters":"web.reactive.webflux.web-filters",
"features.developing-web-applications.spring-webflux.welcome-page":"web.reactive.webflux.welcome-page",
"features.email":"io.email",
"features.graceful-shutdown":"web.graceful-shutdown",
"features.jmx":"actuator.jmx",
"features.jta":"io.jta",
"features.jta.atomikos":"io.jta.atomikos",
"features.jta.javaee":"io.jta.javaee",
"features.jta.mixing-xa-and-non-xa-connections":"io.jta.mixing-xa-and-non-xa-connections",
"features.jta.supporting-alternative-embedded-transaction-manager":"io.jta.supporting-alternative-embedded-transaction-manager",
"features.messaging":"messaging",
"features.messaging.amqp":"messaging.amqp",
"features.messaging.amqp.rabbit":"messaging.amqp.rabbit",
"features.messaging.amqp.receiving":"messaging.amqp.receiving",
"features.messaging.amqp.sending":"messaging.amqp.sending",
"features.messaging.jms.activemq":"messaging.jms.activemq",
"features.messaging.jms.artemis":"messaging.jms.artemis",
"features.messaging.jms.jndi":"messaging.jms.jndi",
"features.messaging.jms.receiving":"messaging.jms.receiving",
"features.messaging.jms.sending":"messaging.jms.sending",
"features.messaging.kafka":"messaging.kafka",
"features.messaging.kafka.additional-properties":"messaging.kafka.additional-properties",
"features.messaging.kafka.embedded":"messaging.kafka.embedded",
"features.messaging.kafka.receiving":"messaging.kafka.receiving",
"features.messaging.kafka.sending":"messaging.kafka.sending",
"features.messaging.kafka.streams":"messaging.kafka.streams",
"features.nosql":"data.nosql",
"features.nosql.cassandra":"data.nosql.cassandra",
"features.nosql.cassandra.connecting":"data.nosql.cassandra.connecting",
"features.nosql.cassandra.repositories":"data.nosql.cassandra.repositories",
"features.nosql.couchbase":"data.nosql.couchbase",
"features.nosql.couchbase.connecting":"data.nosql.couchbase.connecting",
"features.nosql.couchbase.repositories":"data.nosql.couchbase.repositories",
"features.nosql.elasticsearch":"data.nosql.elasticsearch",
"features.nosql.elasticsearch.connecting-using-reactive-rest":"data.nosql.elasticsearch.connecting-using-reactive-rest",
"features.nosql.elasticsearch.connecting-using-rest":"data.nosql.elasticsearch.connecting-using-rest",
"features.nosql.elasticsearch.connecting-using-spring-data":"data.nosql.elasticsearch.connecting-using-spring-data",
"features.nosql.elasticsearch.repositories":"data.nosql.elasticsearch.repositories",
"features.nosql.influxdb":"data.nosql.influxdb",
"features.nosql.influxdb.connecting":"data.nosql.influxdb.connecting",
"features.nosql.ldap":"data.nosql.ldap",
"features.nosql.ldap.connecting":"data.nosql.ldap.connecting",
"features.nosql.ldap.embedded":"data.nosql.ldap.embedded",
"features.nosql.ldap.repositories":"data.nosql.ldap.repositories",
"features.nosql.mongodb":"data.nosql.mongodb",
"features.nosql.mongodb.connecting":"data.nosql.mongodb.connecting",
"features.nosql.mongodb.embedded":"data.nosql.mongodb.embedded",
"features.nosql.mongodb.repositories":"data.nosql.mongodb.repositories",
"features.nosql.mongodb.template":"data.nosql.mongodb.template",
"features.nosql.neo4j":"data.nosql.neo4j",
"features.nosql.neo4j.connecting":"data.nosql.neo4j.connecting",
"features.nosql.neo4j.repositories":"data.nosql.neo4j.repositories",
"features.nosql.redis":"data.nosql.redis",
"features.nosql.redis.connecting":"data.nosql.redis.connecting",
"features.nosql.solr":"data.nosql.solr",
"features.nosql.solr.connecting":"data.nosql.solr.connecting",
"features.quartz":"io.quartz",
"features.resttemplate":"io.rest-client.resttemplate",
"features.resttemplate.customization":"io.rest-client.resttemplate.customization",
"features.rsocket":"messaging.rsocket",
"features.rsocket.messaging":"messaging.rsocket.messaging",
"features.rsocket.requester":"messaging.rsocket.requester",
"features.rsocket.server-auto-configuration":"messaging.rsocket.server-auto-configuration",
"features.rsocket.strategies-auto-configuration":"messaging.rsocket.strategies-auto-configuration",
"features.security":"web.security",
"features.security.actuator":"actuator.endpoints.security",
"features.security.actuator.csrf":"actuator.endpoints.security.csrf",
"features.security.authorization-server":"web.security.oauth2.authorization-server",
"features.security.oauth2":"web.security.oauth2",
"features.security.oauth2.client":"web.security.oauth2.client",
"features.security.oauth2.client.common-providers":"web.security.oauth2.client.common-providers",
"features.security.oauth2.server":"web.security.oauth2.server",
"features.security.saml2":"web.security.saml2",
"features.security.saml2.relying-party":"web.security.saml2.relying-party",
"features.security.spring-mvc":"web.security.spring-mvc",
"features.security.spring-webflux":"web.security.spring-webflux",
"features.spring-hateoas":"web.spring-hateoas",
"features.spring-integration":"messaging.spring-integration",
"features.spring-session":"web.spring-session",
"features.sql":"data.sql",
"features.sql.datasource":"data.sql.datasource",
"features.sql.datasource.configuration":"data.sql.datasource.configuration",
"features.sql.datasource.connection-pool":"data.sql.datasource.connection-pool",
"features.sql.datasource.embedded":"data.sql.datasource.embedded",
"features.sql.datasource.jndi":"data.sql.datasource.jndi",
"features.sql.datasource.production":"data.sql.datasource.production",
"features.sql.h2-web-console":"data.sql.h2-web-console",
"features.sql.h2-web-console.custom-path":"data.sql.h2-web-console.custom-path",
"features.sql.jdbc":"data.sql.jdbc",
"features.sql.jdbc-template":"data.sql.jdbc-template",
"features.sql.jooq":"data.sql.jooq",
"features.sql.jooq.codegen":"data.sql.jooq.codegen",
"features.sql.jooq.customizing":"data.sql.jooq.customizing",
"features.sql.jooq.dslcontext":"data.sql.jooq.dslcontext",
"features.sql.jooq.sqldialect":"data.sql.jooq.sqldialect",
"features.sql.jpa-and-spring-data":"data.sql.jpa-and-spring-data",
"features.sql.jpa-and-spring-data.creating-and-dropping":"data.sql.jpa-and-spring-data.creating-and-dropping",
"features.sql.jpa-and-spring-data.entity-classes":"data.sql.jpa-and-spring-data.entity-classes",
"features.sql.jpa-and-spring-data.envers-repositories":"data.sql.jpa-and-spring-data.envers-repositories",
"features.sql.jpa-and-spring-data.open-entity-manager-in-view":"data.sql.jpa-and-spring-data.open-entity-manager-in-view",
"features.sql.jpa-and-spring-data.repositories":"data.sql.jpa-and-spring-data.repositories",
"features.sql.r2dbc":"data.sql.r2dbc",
"features.sql.r2dbc.embedded":"data.sql.r2dbc.embedded",
"features.sql.r2dbc.repositories":"data.sql.r2dbc.repositories",
"features.sql.r2dbc.using-database-client":"data.sql.r2dbc.using-database-client",
"features.validation":"io.validation",
"features.webclient":"io.rest-client.webclient",
"features.webclient.customization":"io.rest-client.webclient.customization",
"features.webclient.runtime":"io.rest-client.webclient.runtime",
"features.webservices":"io.webservices",
"features.webservices.template":"io.webservices.template",
"features.websockets":"messaging.websockets",
"getting-started-cli-command-line-completion":"getting-started.installing.cli.completion",
"getting-started-cli-example":"getting-started.installing.cli.quick-start",
"getting-started-first-application":"getting-started.first-application",
"getting-started-first-application-annotations":"getting-started.first-application.code.mvc-annotations",
"getting-started-first-application-auto-configuration":"getting-started.first-application.code.enable-auto-configuration",
"getting-started-first-application-code":"getting-started.first-application.code",
"getting-started-first-application-dependencies":"getting-started.first-application.dependencies",
"getting-started-first-application-executable-jar":"getting-started.first-application.executable-jar",
"getting-started-first-application-main-method":"getting-started.first-application.code.main-method",
"getting-started-first-application-pom":"getting-started.first-application.pom",
"getting-started-first-application-run":"getting-started.first-application.run",
"getting-started-gradle-installation":"getting-started.installing.java.gradle",
"getting-started-homebrew-cli-installation":"getting-started.installing.cli.homebrew",
"getting-started-installation-instructions-for-java":"getting-started.installing.java",
"getting-started-installing-spring-boot":"getting-started.installing",
"getting-started-installing-the-cli":"getting-started.installing.cli",
"getting-started-introducing-spring-boot":"getting-started.introducing-spring-boot",
"getting-started-macports-cli-installation":"getting-started.installing.cli.macports",
"getting-started-manual-cli-installation":"getting-started.installing.cli.manual-installation",
"getting-started-maven-installation":"getting-started.installing.java.maven",
"getting-started-scoop-cli-installation":"getting-started.installing.cli.scoop",
"getting-started-sdkman-cli-installation":"getting-started.installing.cli.sdkman",
"getting-started-system-requirements":"getting-started.system-requirements",
"getting-started-system-requirements-servlet-containers":"getting-started.system-requirements.servlet-containers",
"getting-started-upgrading-from-an-earlier-version":"getting-started.installing.upgrading",
"getting-started-whats-next":"getting-started.whats-next",
"how-to-enable-http-response-compression":"howto.webserver.enable-response-compression",
"howto-actuator":"howto.actuator",
"howto-add-a-servlet-filter-or-listener":"howto.webserver.add-servlet-filter-listener",
"howto-add-a-servlet-filter-or-listener-as-spring-bean":"howto.webserver.add-servlet-filter-listener.spring-bean",
"howto-add-a-servlet-filter-or-listener-using-scanning":"howto.webserver.add-servlet-filter-listener.using-scanning",
"howto-automatic-expansion":"howto.properties-and-configuration.expand-properties",
"howto-automatic-expansion-gradle":"howto.properties-and-configuration.expand-properties.gradle",
"howto-automatic-expansion-maven":"howto.properties-and-configuration.expand-properties.maven",
"howto-batch-applications":"howto.batch",
"howto-build":"howto.build",
"howto-build-an-application-context-hierarchy":"howto.application.context-hierarchy",
"howto-build-an-executable-archive-with-ant":"howto.build.build-an-executable-archive-with-ant-without-using-spring-boot-antlib",
"howto-build-info":"howto.build.generate-info",
"howto-change-configuration-depending-on-the-environment":"howto.properties-and-configuration.change-configuration-depending-on-the-environment",
"howto-change-the-http-port":"howto.webserver.change-port",
"howto-change-the-http-port-or-address-of-the-actuator-endpoints":"howto.actuator.change-http-port-or-address",
"howto-change-the-location-of-external-properties":"howto.properties-and-configuration.external-properties-location",
"howto-change-the-user-details-service-and-add-user-accounts":"howto.security.change-user-details-service-and-add-user-accounts",
"howto-configure-a-component-that-is-used-by-JPA":"howto.data-access.configure-a-component-that-is-used-by-jpa",
"howto-configure-a-datasource":"howto.data-access.configure-custom-datasource",
"howto-configure-accesslogs":"howto.webserver.configure-access-logs",
"howto-configure-hibernate-naming-strategy":"howto.data-access.configure-hibernate-naming-strategy",
"howto-configure-hibernate-second-level-caching":"howto.data-access.configure-hibernate-second-level-caching",
"howto-configure-http2":"howto.webserver.configure-http2",
"howto-configure-http2-jetty":"howto.webserver.configure-http2.jetty",
"howto-configure-http2-netty":"howto.webserver.configure-http2.netty",
"howto-configure-http2-tomcat":"howto.webserver.configure-http2.tomcat",
"howto-configure-http2-undertow":"howto.webserver.configure-http2.undertow",
"howto-configure-jOOQ-with-multiple-datasources":"howto.data-access.configure-jooq-with-multiple-datasources",
"howto-configure-jpa-properties":"howto.data-access.jpa-properties",
"howto-configure-log4j-for-logging":"howto.logging.log4j",
"howto-configure-log4j-for-logging-yaml-or-json-config":"howto.logging.log4j.yaml-or-json-config",
"howto-configure-logback-for-logging":"howto.logging.logback",
"howto-configure-logback-for-logging-fileonly":"howto.logging.logback.file-only-output",
"howto-configure-ssl":"howto.webserver.configure-ssl",
"howto-configure-webserver":"howto.webserver.configure",
"howto-convert-an-existing-application-to-spring-boot":"howto.traditional-deployment.convert-existing-application",
"howto-create-a-deployable-war-file":"howto.traditional-deployment.war",
"howto-create-a-non-web-application":"howto.application.non-web-application",
"howto-create-a-nonexecutable-jar":"howto.build.create-a-nonexecutable-jar",
"howto-create-an-additional-executable-jar":"howto.build.use-a-spring-boot-application-as-dependency",
"howto-create-an-executable-jar-with-maven":"howto.build.create-an-executable-jar-with-maven",
"howto-create-websocket-endpoints-using-serverendpoint":"howto.webserver.create-websocket-endpoints-using-serverendpoint",
"howto-customize-dependency-versions":"howto.build.customize-dependency-versions",
"howto-customize-the-environment-or-application-context":"howto.application.customize-the-environment-or-application-context",
"howto-customize-the-jackson-objectmapper":"howto.spring-mvc.customize-jackson-objectmapper",
"howto-customize-the-responsebody-rendering":"howto.spring-mvc.customize-responsebody-rendering",
"howto-customize-the-whitelabel-error-page":"howto.actuator.customize-whitelabel-error-page",
"howto-customize-tomcat-behind-a-proxy-server":"howto.webserver.use-behind-a-proxy-server.tomcat",
"howto-customize-view-resolvers":"howto.spring-mvc.customize-view-resolvers",
"howto-data-access":"howto.data-access",
"howto-database-initialization":"howto.data-initialization",
"howto-disable-registration-of-a-servlet-or-filter":"howto.webserver.add-servlet-filter-listener.spring-bean.disable",
"howto-disable-web-server":"howto.webserver.disable",
"howto-discover-build-in-options-for-external-properties":"howto.properties-and-configuration.discover-build-in-options-for-external-properties",
"howto-discover-the-http-port-at-runtime":"howto.webserver.discover-port",
"howto-embedded-web-servers":"howto.webserver",
"howto-enable-https":"howto.security.enable-https",
"howto-enable-multiple-connectors-in-tomcat":"howto.webserver.enable-multiple-connectors-in-tomcat",
"howto-enable-multiple-listeners-in-undertow":"howto.webserver.enable-multiple-listeners-in-undertow",
"howto-enable-tomcat-mbean-registry":"howto.webserver.enable-tomcat-mbean-registry",
"howto-execute-flyway-database-migrations-on-startup":"howto.data-initialization.migration-tool.flyway",
"howto-execute-liquibase-database-migrations-on-startup":"howto.data-initialization.migration-tool.liquibase",
"howto-externalize-configuration":"howto.properties-and-configuration.externalize-configuration",
"howto-extract-specific-libraries-when-an-executable-jar-runs":"howto.build.extract-specific-libraries-when-an-executable-jar-runs",
"howto-failure-analyzer":"howto.application.failure-analyzer",
"howto-git-info":"howto.build.generate-git-info",
"howto-hotswapping":"howto.hotswapping",
"howto-http-clients":"howto.http-clients",
"howto-http-clients-proxy-configuration":"howto.http-clients.rest-template-proxy-configuration",
"howto-initialize-a-database-configuring-dependencies":"howto.data-initialization.dependencies",
"howto-initialize-a-database-configuring-dependencies-depends-on-initialization-detection":"howto.data-initialization.dependencies.depends-on-initialization-detection",
"howto-initialize-a-database-configuring-dependencies-initializer-detection":"howto.data-initialization.dependencies.initializer-detection",
"howto-initialize-a-database-using-basic-scripts":"howto.data-initialization.using-basic-sql-scripts",
"howto-initialize-a-database-using-hibernate":"howto.data-initialization.using-hibernate",
"howto-initialize-a-database-using-jpa":"howto.data-initialization.using-jpa",
"howto-initialize-a-spring-batch-database":"howto.data-initialization.batch",
"howto-jersey":"howto.jersey",
"howto-jersey-alongside-another-web-framework":"howto.jersey.alongside-another-web-framework",
"howto-jersey-spring-security":"howto.jersey.spring-security",
"howto-jms-disable-transaction":"howto.messaging.disable-transacted-jms-session",
"howto-logging":"howto.logging",
"howto-map-health-indicators-to-metrics":"howto.actuator.map-health-indicators-to-metrics",
"howto-messaging":"howto.messaging",
"howto-multipart-file-upload-configuration":"howto.spring-mvc.multipart-file-uploads",
"howto-properties-and-configuration":"howto.properties-and-configuration",
"howto-reload-fast-restart":"howto.hotswapping.fast-application-restarts",
"howto-reload-freemarker-content":"howto.hotswapping.reload-templates.freemarker",
"howto-reload-groovy-template-content":"howto.hotswapping.reload-templates.groovy",
"howto-reload-java-classes-without-restarting":"howto.hotswapping.reload-java-classes-without-restarting",
"howto-reload-static-content":"howto.hotswapping.reload-static-content",
"howto-reload-thymeleaf-content":"howto.hotswapping.reload-templates.thymeleaf",
"howto-reload-thymeleaf-template-content":"howto.hotswapping.reload-templates",
"howto-remote-debug-maven-run":"howto.build.remote-debug-maven",
"howto-sanitize-sensible-values":"howto.actuator.sanitize-sensitive-values",
"howto-sanitize-sensitive-values":"howto.actuator.sanitize-sensitive-values",
"howto-security":"howto.security",
"howto-separate-entity-definitions-from-spring-configuration":"howto.data-access.separate-entity-definitions-from-spring-configuration",
"howto-set-active-spring-profiles":"howto.properties-and-configuration.set-active-spring-profiles",
"howto-spring-batch-running-command-line":"howto.batch.running-from-the-command-line",
"howto-spring-batch-running-jobs-on-startup":"howto.batch.running-jobs-on-startup",
"howto-spring-batch-specifying-a-data-source":"howto.batch.specifying-a-data-source",
"howto-spring-batch-storing-job-repository":"howto.batch.storing-job-repository",
"howto-spring-boot-application":"howto.application",
"howto-spring-mvc":"howto.spring-mvc",
"howto-switch-off-default-mvc-configuration":"howto.spring-mvc.switch-off-default-configuration",
"howto-switch-off-spring-boot-security-configuration":"howto.security.switch-off-spring-boot-configuration",
"howto-switch-off-the-spring-mvc-dispatcherservlet":"howto.spring-mvc.switch-off-dispatcherservlet",
"howto-testcontainers":"howto.testing.testcontainers",
"howto-traditional-deployment":"howto.traditional-deployment",
"howto-troubleshoot-auto-configuration":"howto.application.troubleshoot-auto-configuration",
"howto-two-datasources":"howto.data-access.configure-two-datasources",
"howto-use-a-higher-level-database-migration-tool":"howto.data-initialization.migration-tool",
"howto-use-another-web-server":"howto.webserver.use-another",
"howto-use-behind-a-proxy-server":"howto.webserver.use-behind-a-proxy-server",
"howto-use-custom-entity-manager":"howto.data-access.use-custom-entity-manager",
"howto-use-customize-spring-datas-web-support":"howto.data-access.customize-spring-data-web-support",
"howto-use-dependency-injection-hibernate-components":"howto.data-access.dependency-injection-in-hibernate-components",
"howto-use-exposing-spring-data-repositories-rest-endpoint":"howto.data-access.exposing-spring-data-repositories-as-rest",
"howto-use-jedis-instead-of-lettuce":"howto.nosql.jedis-instead-of-lettuce",
"howto-use-multiple-entity-managers":"howto.data-access.use-multiple-entity-managers",
"howto-use-short-command-line-arguments":"howto.properties-and-configuration.short-command-line-arguments",
"howto-use-spring-data-jpa--and-mongo-repositories":"howto.data-access.use-spring-data-jpa-and-mongo-repositories",
"howto-use-spring-data-repositories":"howto.data-access.spring-data-repositories",
"howto-use-test-with-spring-security":"howto.spring-mvc.testing.with-spring-security",
"howto-use-tomcat-legacycookieprocessor":"howto.webserver.use-tomcat-legacycookieprocessor",
"howto-use-traditional-persistence-xml":"howto.data-access.use-traditional-persistence-xml",
"howto-use-two-entity-managers":"howto.data-access.use-multiple-entity-managers",
"howto-use-yaml-for-external-properties":"howto.properties-and-configuration.yaml",
"howto-user-a-random-unassigned-http-port":"howto.webserver.use-random-port",
"howto-webclient-reactor-netty-customization":"howto.http-clients.webclient-reactor-netty-customization",
"howto-weblogic":"howto.traditional-deployment.weblogic",
"howto-write-a-json-rest-service":"howto.spring-mvc.write-json-rest-service",
"howto-write-an-xml-rest-service":"howto.spring-mvc.write-xml-rest-service",
"integration-properties":"application-properties.integration",
"json-properties":"application-properties.json",
"mail-properties":"application-properties.mail",
"production-ready":"actuator",
"production-ready-application-info":"actuator.endpoints.info",
"production-ready-application-info-autoconfigure":"actuator.endpoints.info.auto-configured-info-contributors",
"production-ready-application-info-build":"actuator.endpoints.info.build-information",
"production-ready-application-info-custom":"actuator.endpoints.info.writing-custom-info-contributors",
"production-ready-application-info-env":"actuator.endpoints.info.custom-application-information",
"production-ready-application-info-git":"actuator.endpoints.info.git-commit-information",
"production-ready-auditing":"actuator.auditing",
"production-ready-auditing-custom":"actuator.auditing.custom",
"production-ready-cloudfoundry":"actuator.cloud-foundry",
"production-ready-cloudfoundry-disable":"actuator.cloud-foundry.disable",
"production-ready-cloudfoundry-ssl":"actuator.cloud-foundry.ssl",
"production-ready-custom-context-path":"actuator.cloud-foundry.custom-context-path",
"production-ready-custom-mbean-names":"actuator.jmx.custom-mbean-names",
"production-ready-customizing-jolokia":"actuator.jmx.jolokia.customizing",
"production-ready-customizing-management-server-address":"actuator.monitoring.customizing-management-server-address",
"production-ready-customizing-management-server-context-path":"actuator.monitoring.customizing-management-server-context-path",
"production-ready-customizing-management-server-port":"actuator.monitoring.customizing-management-server-port",
"production-ready-disable-jmx-endpoints":"actuator.jmx.disable-jmx-endpoints",
"production-ready-disabling-http-endpoints":"actuator.monitoring.disabling-http-endpoints",
"production-ready-disabling-jolokia":"actuator.jmx.jolokia.disabling",
"production-ready-enabling":"actuator.enabling",
"production-ready-endpoints":"actuator.endpoints",
"production-ready-endpoints-caching":"actuator.endpoints.caching",
"production-ready-endpoints-cors":"actuator.endpoints.cors",
"production-ready-endpoints-custom":"actuator.endpoints.implementing-custom",
"production-ready-endpoints-custom-controller":"actuator.endpoints.implementing-custom.controller",
"production-ready-endpoints-custom-input":"actuator.endpoints.implementing-custom.input",
"production-ready-endpoints-custom-input-conversion":"actuator.endpoints.implementing-custom.input.conversion",
"production-ready-endpoints-custom-servlet":"actuator.endpoints.implementing-custom.servlet",
"production-ready-endpoints-custom-web":"actuator.endpoints.implementing-custom.web",
"production-ready-endpoints-custom-web-predicate":"actuator.endpoints.implementing-custom.web.request-predicates",
"production-ready-endpoints-custom-web-predicate-consumes":"actuator.endpoints.implementing-custom.web.consumes-predicates",
"production-ready-endpoints-custom-web-predicate-http-method":"actuator.endpoints.implementing-custom.web.method-predicates",
"production-ready-endpoints-custom-web-predicate-path":"actuator.endpoints.implementing-custom.web.path-predicates",
"production-ready-endpoints-custom-web-predicate-produces":"actuator.endpoints.implementing-custom.web.produces-predicates",
"production-ready-endpoints-custom-web-range-requests":"actuator.endpoints.implementing-custom.web.range-requests",
"production-ready-endpoints-custom-web-response-status":"actuator.endpoints.implementing-custom.web.response-status",
"production-ready-endpoints-custom-web-security":"actuator.endpoints.implementing-custom.web.security",
"production-ready-endpoints-enabling-endpoints":"actuator.endpoints.enabling",
"production-ready-endpoints-exposing-endpoints":"actuator.endpoints.exposing",
"production-ready-endpoints-hypermedia":"actuator.endpoints.hypermedia",
"production-ready-endpoints-security":"actuator.endpoints.security",
"production-ready-health":"actuator.endpoints.health",
"production-ready-health-datasource":"actuator.endpoints.health.datasource",
"production-ready-health-groups":"actuator.endpoints.health.groups",
"production-ready-health-indicators":"actuator.endpoints.health.auto-configured-health-indicators",
"production-ready-health-indicators-writing":"actuator.endpoints.health.writing-custom-health-indicators",
"production-ready-http-tracing":"actuator.tracing",
"production-ready-http-tracing-custom":"actuator.tracing.custom",
"production-ready-jmx":"actuator.jmx",
"production-ready-jolokia":"actuator.jmx.jolokia",
"production-ready-kubernetes-probes":"actuator.endpoints.kubernetes-probes",
"production-ready-kubernetes-probes-external-state":"actuator.endpoints.kubernetes-probes.external-state",
"production-ready-kubernetes-probes-lifecycle":"actuator.endpoints.kubernetes-probes.lifecycle",
"production-ready-logger-configuration":"actuator.loggers.configure",
"production-ready-loggers":"actuator.loggers",
"production-ready-management-specific-ssl":"actuator.monitoring.management-specific-ssl",
"production-ready-metrics":"actuator.metrics",
"production-ready-metrics-cache":"actuator.metrics.supported.cache",
"production-ready-metrics-common-tags":"actuator.metrics.customizing.common-tags",
"production-ready-metrics-custom":"actuator.metrics.registering-custom",
"production-ready-metrics-customizing":"actuator.metrics.customizing",
"production-ready-metrics-data-repository":"actuator.metrics.supported.spring-data-repository",
"production-ready-metrics-endpoint":"actuator.metrics.endpoint",
"production-ready-metrics-export":"actuator.metrics.export",
"production-ready-metrics-export-appoptics":"actuator.metrics.export.appoptics",
"production-ready-metrics-export-atlas":"actuator.metrics.export.atlas",
"production-ready-metrics-export-datadog":"actuator.metrics.export.datadog",
"production-ready-metrics-export-dynatrace":"actuator.metrics.export.dynatrace",
"production-ready-metrics-export-elastic":"actuator.metrics.export.elastic",
"production-ready-metrics-export-ganglia":"actuator.metrics.export.ganglia",
"production-ready-metrics-export-graphite":"actuator.metrics.export.graphite",
"production-ready-metrics-export-humio":"actuator.metrics.export.humio",
"production-ready-metrics-export-influx":"actuator.metrics.export.influx",
"production-ready-metrics-export-jmx":"actuator.metrics.export.jmx",
"production-ready-metrics-export-kairos":"actuator.metrics.export.kairos",
"production-ready-metrics-export-newrelic":"actuator.metrics.export.newrelic",
"production-ready-metrics-export-prometheus":"actuator.metrics.export.prometheus",
"production-ready-metrics-export-signalfx":"actuator.metrics.export.signalfx",
"production-ready-metrics-export-simple":"actuator.metrics.export.simple",
"production-ready-metrics-export-stackdriver":"actuator.metrics.export.stackdriver",
"production-ready-metrics-export-statsd":"actuator.metrics.export.statsd",
"production-ready-metrics-export-wavefront":"actuator.metrics.export.wavefront",
"production-ready-metrics-getting-started":"actuator.metrics.getting-started",
"production-ready-metrics-hibernate":"actuator.metrics.supported.hibernate",
"production-ready-metrics-http-clients":"actuator.metrics.supported.http-clients",
"production-ready-metrics-integration":"actuator.metrics.supported.spring-integration",
"production-ready-metrics-jdbc":"actuator.metrics.supported.jdbc",
"production-ready-metrics-jersey-server":"actuator.metrics.supported.jersey",
"production-ready-metrics-jvm":"actuator.metrics.supported.jvm",
"production-ready-metrics-kafka":"actuator.metrics.supported.kafka",
"production-ready-metrics-logger":"actuator.metrics.supported.logger",
"production-ready-metrics-meter":"actuator.metrics.supported",
"production-ready-metrics-mongodb":"actuator.metrics.supported.mongodb",
"production-ready-metrics-mongodb-command":"actuator.metrics.supported.mongodb.command",
"production-ready-metrics-mongodb-connectionpool":"actuator.metrics.supported.mongodb.connection-pool",
"production-ready-metrics-per-meter-properties":"actuator.metrics.customizing.per-meter-properties",
"production-ready-metrics-rabbitmq":"actuator.metrics.supported.rabbitmq",
"production-ready-metrics-spring-mvc":"actuator.metrics.supported.spring-mvc",
"production-ready-metrics-system":"actuator.metrics.supported.system",
"production-ready-metrics-timed-annotation":"actuator.metrics.supported.timed-annotation",
"production-ready-metrics-tomcat":"actuator.metrics.supported.tomcat",
"production-ready-metrics-web-flux":"actuator.metrics.supported.spring-webflux",
"production-ready-monitoring":"actuator.monitoring",
"production-ready-process-monitoring":"actuator.process-monitoring",
"production-ready-process-monitoring-configuration":"actuator.process-monitoring.configuration",
"production-ready-process-monitoring-programmatically":"actuator.process-monitoring.programmatically",
"production-ready-whats-next":"actuator.whats-next",
"reactive-health-indicators":"actuator.endpoints.health.reactive-health-indicators",
"reactive-health-indicators-autoconfigured":"actuator.endpoints.health.auto-configured-reactive-health-indicators",
"rsocket-properties":"application-properties.rsocket",
"running-remote-client-application":"using.devtools.remote-applications.client",
"security-properties":"application-properties.security",
"server-properties":"application-properties.server",
"spring-boot-ant-exejar":"build-tool-plugins.antlib.tasks.exejar",
"spring-boot-ant-exejar-examples":"build-tool-plugins.antlib.tasks.examples",
"spring-boot-ant-findmainclass":"build-tool-plugins.antlib.findmainclass",
"spring-boot-ant-findmainclass-examples":"build-tool-plugins.antlib.findmainclass.examples",
"spring-boot-ant-tasks":"build-tool-plugins.antlib.tasks",
"spring-boot-reference-documentation":"index",
"templating-properties":"application-properties.templating",
"test-auto-configuration-slices":"test-auto-configuration.slices",
"testing-properties":"application-properties.testing",
"transaction-properties":"application-properties.transaction",
"using-boot":"using",
"using-boot-ant":"using.build-systems.ant",
"using-boot-auto-configuration":"using.auto-configuration",
"using-boot-build-systems":"using.build-systems",
"using-boot-configuration-classes":"using.configuration-classes",
"using-boot-dependency-management":"using.build-systems.dependency-management",
"using-boot-devtools":"using.devtools",
"using-boot-devtools-customizing-classload":"using.devtools.restart.customizing-the-classload",
"using-boot-devtools-globalsettings":"using.devtools.globalsettings",
"using-boot-devtools-known-restart-limitations":"using.devtools.restart.limitations",
"using-boot-devtools-livereload":"using.devtools.livereload",
"using-boot-devtools-property-defaults":"using.devtools.property-defaults",
"using-boot-devtools-remote":"using.devtools.remote-applications",
"using-boot-devtools-remote-update":"using.devtools.remote-applications.update",
"using-boot-devtools-restart":"using.devtools.restart",
"using-boot-devtools-restart-additional-paths":"using.devtools.restart.watching-additional-paths",
"using-boot-devtools-restart-disable":"using.devtools.restart.disable",
"using-boot-devtools-restart-exclude":"using.devtools.restart.excluding-resources",
"using-boot-devtools-restart-logging-condition-delta":"using.devtools.restart.logging-condition-delta",
"using-boot-devtools-restart-triggerfile":"using.devtools.restart.triggerfile",
"using-boot-disabling-specific-auto-configuration":"using.auto-configuration.disabling-specific",
"using-boot-gradle":"using.build-systems.gradle",
"using-boot-hot-swapping":"using.running-your-application.hot-swapping",
"using-boot-importing-configuration":"using.configuration-classes.importing-additional-configuration",
"using-boot-importing-xml-configuration":"using.configuration-classes.importing-xml-configuration",
"using-boot-locating-the-main-class":"using.structuring-your-code.locating-the-main-class",
"using-boot-maven":"using.build-systems.maven",
"using-boot-packaging-for-production":"using.packaging-for-production",
"using-boot-replacing-auto-configuration":"using.auto-configuration.replacing",
"using-boot-running-as-a-packaged-application":"using.running-your-application.as-a-packaged-application",
"using-boot-running-from-an-ide":"using.running-your-application.from-an-ide",
"using-boot-running-with-the-gradle-plugin":"using.running-your-application.with-the-gradle-plugin",
"using-boot-running-with-the-maven-plugin":"using.running-your-application.with-the-maven-plugin",
"using-boot-running-your-application":"using.running-your-application",
"using-boot-spring-beans-and-dependency-injection":"using.spring-beans-and-dependency-injection",
"using-boot-starter":"using.build-systems.starters",
"using-boot-structuring-your-code":"using.structuring-your-code",
"using-boot-using-springbootapplication-annotation":"using.using-the-springbootapplication-annotation",
"using-boot-using-the-default-package":"using.structuring-your-code.using-the-default-package",
"using-boot-whats-next":"using.whats-next",
"using-spring-boot-restart-vs-reload":"using.devtools.restart.restart-vs-reload",
"web-properties":"application-properties.web"
}
</script>
</head>
<body id="actuator" class="book toc2 toc-left"><div id="banner-container" class="container" role="banner">
<div id="banner" class="contained" role="banner">
<div id="switch-theme">
<input type="checkbox" id="switch-theme-checkbox">
<label for="switch-theme-checkbox">暗黑模式</label>
</div>
</div>
</div>
<div id="tocbar-container" class="container" role="navigation">
<div id="tocbar" class="contained" role="navigation">
<button id="toggle-toc"></button>
</div>
</div>
<div id="main-container" class="container">
<div id="main" class="contained">
<div id="doc" class="doc">
<div id="header">
<h1 translation-result="on">生产就绪功能</h1>
<h1 translation-origin="off">Production-ready Features</h1>
<div id="toc" class="toc2">
<div id="toctitle">目录</div>
<span id="back-to-index"><a href="index.html">返回索引页</a></span><ul class="sectlevel1">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.enabling">1. 启用生产就绪功能</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.enabling">1. Enabling Production-ready Features</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints">2. 端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints">2. Endpoints</a></p>
<ul class="sectlevel2">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.enabling">2.1. 启用端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.enabling">2.1. Enabling Endpoints</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.exposing">2.2. 暴露端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.exposing">2.2. Exposing Endpoints</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.security">2.3. 安全</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.security">2.3. Security</a></p>
<ul class="sectlevel3">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.security.csrf">2.3.1. 跨站点请求伪造保护</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.security.csrf">2.3.1. Cross Site Request Forgery Protection</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.caching">2.4. 配置端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.caching">2.4. Configuring Endpoints</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.hypermedia">2.5. Actuator Web 端点的超媒体</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.hypermedia">2.5. Hypermedia for Actuator Web Endpoints</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.cors">2.6. CORS 支持</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.cors">2.6. CORS Support</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom">2.7. 实施自定义端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom">2.7. Implementing Custom Endpoints</a></p>
<ul class="sectlevel3">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.input">2.7.1. 接收输入</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.input">2.7.1. Receiving Input</a></p>
<ul class="sectlevel4">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.input.conversion">输入类型转换</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.input.conversion">Input Type Conversion</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web">2.7.2. 自定义 Web 端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.web">2.7.2. Custom Web Endpoints</a></p>
<ul class="sectlevel4">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.request-predicates">Web 端点请求谓词</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.web.request-predicates">Web Endpoint Request Predicates</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.path-predicates">小路</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.web.path-predicates">Path</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.method-predicates">HTTP 方法</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.web.method-predicates">HTTP method</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.consumes-predicates">消耗</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.web.consumes-predicates">Consumes</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.produces-predicates">生产</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.web.produces-predicates">Produces</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.response-status">Web 端点响应状态</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.web.response-status">Web Endpoint Response Status</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.range-requests">Web 端点范围请求</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.web.range-requests">Web Endpoint Range Requests</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.security">网络端点安全</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.web.security">Web Endpoint Security</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.servlet">2.7.3. Servlet 端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.servlet">2.7.3. Servlet Endpoints</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.controller">2.7.4. 控制器端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.implementing-custom.controller">2.7.4. Controller Endpoints</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.health">2.8. 健康信息</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.health">2.8. Health Information</a></p>
<ul class="sectlevel3">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.health.auto-configured-health-indicators">2.8.1. 自动配置的健康度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.health.auto-configured-health-indicators">2.8.1. Auto-configured HealthIndicators</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.health.writing-custom-health-indicators">2.8.2. 编写自定义健康度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.health.writing-custom-health-indicators">2.8.2. Writing Custom HealthIndicators</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.health.reactive-health-indicators">2.8.3. 反应性健康度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.health.reactive-health-indicators">2.8.3. Reactive Health Indicators</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.health.auto-configured-reactive-health-indicators">2.8.4. 自动配置的 ReactiveHealthIndicators</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.health.auto-configured-reactive-health-indicators">2.8.4. Auto-configured ReactiveHealthIndicators</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.health.groups">2.8.5. 健康团体</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.health.groups">2.8.5. Health Groups</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.health.datasource">2.8.6. 数据源运行状况</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.health.datasource">2.8.6. DataSource Health</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.kubernetes-probes">2.9. Kubernetes 探针</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.kubernetes-probes">2.9. Kubernetes Probes</a></p>
<ul class="sectlevel3">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.kubernetes-probes.external-state">2.9.1. 使用 Kubernetes 探针检查外部状态</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.kubernetes-probes.external-state">2.9.1. Checking External State with Kubernetes Probes</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.kubernetes-probes.lifecycle">2.9.2. 应用程序生命周期和探测状态</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.kubernetes-probes.lifecycle">2.9.2. Application Lifecycle and Probe States</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.info">2.10. 应用信息</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.info">2.10. Application Information</a></p>
<ul class="sectlevel3">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.info.auto-configured-info-contributors">2.10.1. 自动配置的 InfoContributors</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.info.auto-configured-info-contributors">2.10.1. Auto-configured InfoContributors</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.info.custom-application-information">2.10.2. 自定义应用程序信息</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.info.custom-application-information">2.10.2. Custom Application Information</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.info.git-commit-information">2.10.3. Git 提交信息</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.info.git-commit-information">2.10.3. Git Commit Information</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.info.build-information">2.10.4. 构建信息</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.info.build-information">2.10.4. Build Information</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.info.java-information">2.10.5. Java 信息</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.info.java-information">2.10.5. Java Information</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.endpoints.info.writing-custom-info-contributors">2.10.6. 编写自定义信息贡献者</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.endpoints.info.writing-custom-info-contributors">2.10.6. Writing Custom InfoContributors</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.monitoring">3. 通过 HTTP 进行监控和管理</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.monitoring">3. Monitoring and Management over HTTP</a></p>
<ul class="sectlevel2">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.monitoring.customizing-management-server-context-path">3.1. 自定义管理端点路径</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.monitoring.customizing-management-server-context-path">3.1. Customizing the Management Endpoint Paths</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.monitoring.customizing-management-server-port">3.2. 自定义管理服务器端口</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.monitoring.customizing-management-server-port">3.2. Customizing the Management Server Port</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.monitoring.management-specific-ssl">3.3. 配置特定于管理的 SSL</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.monitoring.management-specific-ssl">3.3. Configuring Management-specific SSL</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.monitoring.customizing-management-server-address">3.4. 自定义管理服务器地址</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.monitoring.customizing-management-server-address">3.4. Customizing the Management Server Address</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.monitoring.disabling-http-endpoints">3.5. 禁用 HTTP 端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.monitoring.disabling-http-endpoints">3.5. Disabling HTTP Endpoints</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.jmx">4. JMX 上的监控和管理</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.jmx">4. Monitoring and Management over JMX</a></p>
<ul class="sectlevel2">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.jmx.custom-mbean-names">4.1. 自定义 MBean 名称</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.jmx.custom-mbean-names">4.1. Customizing MBean Names</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.jmx.disable-jmx-endpoints">4.2. 禁用 JMX 端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.jmx.disable-jmx-endpoints">4.2. Disabling JMX Endpoints</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.jmx.jolokia">4.3. 将 Jolokia 用于基于 HTTP 的 JMX</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.jmx.jolokia">4.3. Using Jolokia for JMX over HTTP</a></p>
<ul class="sectlevel3">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.jmx.jolokia.customizing">4.3.1. 自定义 Jolokia</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.jmx.jolokia.customizing">4.3.1. Customizing Jolokia</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.jmx.jolokia.disabling">4.3.2. 禁用 Jolokia</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.jmx.jolokia.disabling">4.3.2. Disabling Jolokia</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.loggers">5. 记录器</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.loggers">5. Loggers</a></p>
<ul class="sectlevel2">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.loggers.configure">5.1. 配置记录器</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.loggers.configure">5.1. Configure a Logger</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics">6. 度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics">6. Metrics</a></p>
<ul class="sectlevel2">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.getting-started">6.1. 入门</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.getting-started">6.1. Getting started</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export">6.2. 支持的监控系统</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export">6.2. Supported Monitoring Systems</a></p>
<ul class="sectlevel3">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.appoptics">6.2.1. 应用光学</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.appoptics">6.2.1. AppOptics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.atlas">6.2.2. 阿特拉斯</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.atlas">6.2.2. Atlas</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.datadog">6.2.3. 数据狗</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.datadog">6.2.3. Datadog</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.dynatrace">6.2.4. 动态追踪</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.dynatrace">6.2.4. Dynatrace</a></p>
<ul class="sectlevel4">
<li>
  <p><a href="actuator.html#actuator.metrics.export.dynatrace.v2-api">v2 API</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.dynatrace.v1-api">v1 API（旧版）</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.dynatrace.v1-api">v1 API (Legacy)</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.dynatrace.version-independent-settings">与版本无关的设置</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.dynatrace.version-independent-settings">Version-independent Settings</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.elastic">6.2.5. 松紧带</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.elastic">6.2.5. Elastic</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.ganglia">6.2.6. 神经节</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.ganglia">6.2.6. Ganglia</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.graphite">6.2.7. 石墨</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.graphite">6.2.7. Graphite</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.humio">6.2.8. 胡米奥</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.humio">6.2.8. Humio</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.influx">6.2.9. 涌入</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.influx">6.2.9. Influx</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.jmx">6.2.10.JMX</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.jmx">6.2.10. JMX</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.kairos">6.2.11. 凯罗斯数据库</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.kairos">6.2.11. KairosDB</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.newrelic">6.2.12. 新遗物</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.newrelic">6.2.12. New Relic</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.prometheus">6.2.13. 普罗米修斯</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.prometheus">6.2.13. Prometheus</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.signalfx">6.2.14. 信号效果</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.signalfx">6.2.14. SignalFx</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.simple">6.2.15. 简单的</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.simple">6.2.15. Simple</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.stackdriver">6.2.16. 堆栈驱动程序</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.stackdriver">6.2.16. Stackdriver</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.statsd">6.2.17. 统计数据</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.statsd">6.2.17. StatsD</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.export.wavefront">6.2.18. 波前</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.export.wavefront">6.2.18. Wavefront</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported">6.3. 支持的度量和仪表</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported">6.3. Supported Metrics and Meters</a></p>
<ul class="sectlevel3">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.jvm">6.3.1. JVM 度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.jvm">6.3.1. JVM Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.system">6.3.2. 系统度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.system">6.3.2. System Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.application-startup">6.3.3. 应用程序启动度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.application-startup">6.3.3. Application Startup Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.logger">6.3.4. 记录器度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.logger">6.3.4. Logger Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.tasks">6.3.5. 任务执行和调度度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.tasks">6.3.5. Task Execution and Scheduling Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.spring-mvc">6.3.6. Spring MVC 度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.spring-mvc">6.3.6. Spring MVC Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.spring-webflux">6.3.7. Spring WebFlux 度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.spring-webflux">6.3.7. Spring WebFlux Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.jersey">6.3.8. 泽西服务器度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.jersey">6.3.8. Jersey Server Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.http-clients">6.3.9. HTTP 客户端度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.http-clients">6.3.9. HTTP Client Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.tomcat">6.3.10. Tomcat 度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.tomcat">6.3.10. Tomcat Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.cache">6.3.11. 缓存度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.cache">6.3.11. Cache Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.jdbc">6.3.12. 数据源度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.jdbc">6.3.12. DataSource Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.hibernate">6.3.13. 休眠度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.hibernate">6.3.13. Hibernate Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.spring-data-repository">6.3.14. Spring 数据存储库度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.spring-data-repository">6.3.14. Spring Data Repository Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.rabbitmq">6.3.15. RabbitMQ 度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.rabbitmq">6.3.15. RabbitMQ Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.spring-integration">6.3.16. Spring 集成度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.spring-integration">6.3.16. Spring Integration Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.kafka">6.3.17. 卡夫卡度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.kafka">6.3.17. Kafka Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.mongodb">6.3.18. MongoDB 度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.mongodb">6.3.18. MongoDB Metrics</a></p>
<ul class="sectlevel4">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.mongodb.command">MongoDB 命令度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.mongodb.command">MongoDB Command Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.mongodb.connection-pool">MongoDB 连接池度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.mongodb.connection-pool">MongoDB Connection Pool Metrics</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.jetty">6.3.19. Jetty 度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.jetty">6.3.19. Jetty Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.timed-annotation">6.3.20.@Timed 注释支持</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.timed-annotation">6.3.20. @Timed Annotation Support</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.supported.redis">6.3.21. Redis 度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.supported.redis">6.3.21. Redis Metrics</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.registering-custom">6.4. 注册自定义度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.registering-custom">6.4. Registering Custom Metrics</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.customizing">6.5. 自定义单个度量</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.customizing">6.5. Customizing Individual Metrics</a></p>
<ul class="sectlevel3">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.customizing.common-tags">6.5.1. 常用标签</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.customizing.common-tags">6.5.1. Common Tags</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.customizing.per-meter-properties">6.5.2. 每米属性</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.customizing.per-meter-properties">6.5.2. Per-meter Properties</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.metrics.endpoint">6.6. 度量端点</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.metrics.endpoint">6.6. Metrics Endpoint</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.auditing">7. 审计</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.auditing">7. Auditing</a></p>
<ul class="sectlevel2">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.auditing.custom">7.1. 自定义审计</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.auditing.custom">7.1. Custom Auditing</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.tracing">8. HTTP 跟踪</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.tracing">8. HTTP Tracing</a></p>
<ul class="sectlevel2">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.tracing.custom">8.1. 自定义 HTTP 跟踪</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.tracing.custom">8.1. Custom HTTP tracing</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.process-monitoring">9. 过程监控</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.process-monitoring">9. Process Monitoring</a></p>
<ul class="sectlevel2">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.process-monitoring.configuration">9.1. 扩展配置</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.process-monitoring.configuration">9.1. Extending Configuration</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.process-monitoring.programmatically">9.2. 以编程方式启用过程监控</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.process-monitoring.programmatically">9.2. Programmatically Enabling Process Monitoring</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.cloud-foundry">10. Cloud Foundry 支持</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.cloud-foundry">10. Cloud Foundry Support</a></p>
<ul class="sectlevel2">
<li>
  <p translation-result="on"><a href="actuator.html#actuator.cloud-foundry.disable">10.1. 禁用扩展的 Cloud Foundry 执行器支持</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.cloud-foundry.disable">10.1. Disabling Extended Cloud Foundry Actuator Support</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.cloud-foundry.ssl">10.2. Cloud Foundry 自签名证书</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.cloud-foundry.ssl">10.2. Cloud Foundry Self-signed Certificates</a></p>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.cloud-foundry.custom-context-path">10.3. 自定义上下文路径</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.cloud-foundry.custom-context-path">10.3. Custom Context Path</a></p>
</li>
</ul>
</li>
<li>
  <p translation-result="on"><a href="actuator.html#actuator.whats-next">11. 接下来要看哪里</a></p>
  <p translation-origin="off"><a href="actuator.html#actuator.whats-next">11. What to Read Next</a></p>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">Spring Boot 包含许多附加功能，可帮助你在将应用程序推送到生产环境时对其进行监控和管理。你可以选择使用 HTTP 端点或 JMX 来管理和监视你的应用程序。审计、健康和度量收集也可以自动应用于你的应用程序。</p>
<p translation-origin="off">Spring Boot includes a number of additional features to help you monitor and manage your application when you push it to production.
You can choose to manage and monitor your application by using HTTP endpoints or with JMX.
Auditing, health, and metrics gathering can also be automatically applied to your application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.enabling" translation-result="on"><a href="actuator.html#actuator.enabling"></a>1. 启用生产就绪功能</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.enabling"></a>1. Enabling Production-ready Features</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator"><code>spring-boot-actuator</code></a>模块提供了 Spring Boot 的所有生产就绪功能。启用这些功能的推荐方法是添加对 <code>spring-boot-starter-actuator</code> “Starter”的依赖。</p>
<p translation-origin="off">The <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator"><code>spring-boot-actuator</code></a> module provides all of Spring Boot’s production-ready features.
The recommended way to enable the features is to add a dependency on the <code>spring-boot-starter-actuator</code> “Starter”.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Definition of Actuator</div>
<div class="paragraph">
<p translation-result="on">致动器是一个制造术语，指的是用于移动或控制某物的机械装置。执行器可以通过微小的变化产生大量的运动。</p>
<p translation-origin="off">An actuator is a manufacturing term that refers to a mechanical device for moving or controlling something.
Actuators can generate a large amount of motion from a small change.</p>
</div>
</div>
</div>
<div class="paragraph">
<p translation-result="on">要将执行器添加到基于 Maven 的项目中，请添加以下“Starter”依赖项：</p>
<p translation-origin="off">To add the actuator to a Maven-based project, add the following ‘Starter’ dependency:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">对于 Gradle，使用以下声明：</p>
<p translation-origin="off">For Gradle, use the following declaration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-actuator'
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.endpoints" translation-result="on"><a href="actuator.html#actuator.endpoints"></a>2. 端点</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints"></a>2. Endpoints</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">执行器端点使你可以监视应用程序并与之交互。Spring Boot 包含许多内置端点，并允许你添加自己的端点。例如，<code>health</code> 端点提供基本的应用程序健康信息。</p>
<p translation-origin="off">Actuator endpoints let you monitor and interact with your application.
Spring Boot includes a number of built-in endpoints and lets you add your own.
For example, the <code>health</code> endpoint provides basic application health information.</p>
</div>
<div class="paragraph">
<p translation-result="on">你可以<a href="actuator.html#actuator.endpoints.enabling">启用或禁用</a>每个单独的端点并<a href="actuator.html#actuator.endpoints.exposing">通过 HTTP 或 JMX 公开它们（使它们可以远程访问）</a> 。当端点被启用和公开时，它被认为是可用的。内置端点仅在可用时才会自动配置。大多数应用程序选择通过 HTTP 公开，其中端点的 ID 和 <code>/actuator</code> 的前缀映射到 URL。例如，默认情况下，<code>health</code> 端点映射到 <code>/actuator/health</code> 。</p>
<p translation-origin="off">You can <a href="actuator.html#actuator.endpoints.enabling">enable or disable</a> each individual endpoint and <a href="actuator.html#actuator.endpoints.exposing">expose them (make them remotely accessible) over HTTP or JMX</a>.
An endpoint is considered to be available when it is both enabled and exposed.
The built-in endpoints are auto-configured only when they are available.
Most applications choose exposure over HTTP, where the ID of the endpoint and a prefix of <code>/actuator</code> is mapped to a URL.
For example, by default, the <code>health</code> endpoint is mapped to <code>/actuator/health</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">要了解有关执行器端点及其请求和响应格式的更多信息，请参阅单独的 API 文档（ <a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/htmlsingle">HTML</a> 或 <a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/pdf/spring-boot-actuator-web-api.pdf">PDF</a> ）。</p>
<p translation-origin="off">To learn more about the Actuator’s endpoints and their request and response formats, see the separate API documentation (<a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/htmlsingle">HTML</a> or <a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/pdf/spring-boot-actuator-web-api.pdf">PDF</a>).</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">以下与技术无关的端点可用：</p>
<p translation-origin="off">The following technology-agnostic endpoints are available:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p>ID</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>auditevents</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">公开当前应用程序的审计事件信息。需要一个 <code>AuditEventRepository</code> bean。</p><p class="tableblock" translation-origin="off">Exposes audit events information for the current application.
Requires an <code>AuditEventRepository</code> bean.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>beans</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示应用程序中所有 Spring bean 的完整列表。</p><p class="tableblock" translation-origin="off">Displays a complete list of all the Spring beans in your application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>caches</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">公开可用的缓存。</p><p class="tableblock" translation-origin="off">Exposes available caches.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>conditions</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示在配置和自动配置类上评估的条件以及它们匹配或不匹配的原因。</p><p class="tableblock" translation-origin="off">Shows the conditions that were evaluated on configuration and auto-configuration classes and the reasons why they did or did not match.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>configprops</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示所有 <code>@ConfigurationProperties</code> 的整理列表。</p><p class="tableblock" translation-origin="off">Displays a collated list of all <code>@ConfigurationProperties</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>env</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">从 Spring 的 <code>ConfigurableEnvironment</code> 公开属性。</p><p class="tableblock" translation-origin="off">Exposes properties from Spring’s <code>ConfigurableEnvironment</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flyway</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示已应用的任何 Flyway 数据库迁移。需要一个或多个 <code>Flyway</code> 豆。</p><p class="tableblock" translation-origin="off">Shows any Flyway database migrations that have been applied.
Requires one or more <code>Flyway</code> beans.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>health</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示应用程序运行状况信息。</p><p class="tableblock" translation-origin="off">Shows application health information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>httptrace</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示 HTTP 跟踪信息（默认情况下，最近 100 个 HTTP 请求-响应交换）。需要一个 <code>HttpTraceRepository</code> bean。</p><p class="tableblock" translation-origin="off">Displays HTTP trace information (by default, the last 100 HTTP request-response exchanges).
Requires an <code>HttpTraceRepository</code> bean.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>info</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示任意应用程序信息。</p><p class="tableblock" translation-origin="off">Displays arbitrary application info.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>integrationgraph</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示 Spring 集成图。需要依赖 <code>spring-integration-core</code> 。</p><p class="tableblock" translation-origin="off">Shows the Spring Integration graph.
Requires a dependency on <code>spring-integration-core</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>loggers</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示和修改应用程序中记录器的配置。</p><p class="tableblock" translation-origin="off">Shows and modifies the configuration of loggers in the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>liquibase</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示已应用的任何 Liquibase 数据库迁移。需要一个或多个 <code>Liquibase</code> bean。</p><p class="tableblock" translation-origin="off">Shows any Liquibase database migrations that have been applied.
Requires one or more <code>Liquibase</code> beans.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metrics</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示当前应用程序的“度量”信息。</p><p class="tableblock" translation-origin="off">Shows “metrics” information for the current application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mappings</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示所有 <code>@RequestMapping</code> 路径的整理列表。</p><p class="tableblock" translation-origin="off">Displays a collated list of all <code>@RequestMapping</code> paths.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quartz</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示有关 Quartz 调度程序作业的信息。</p><p class="tableblock" translation-origin="off">Shows information about Quartz Scheduler jobs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scheduledtasks</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示应用程序中的计划任务。</p><p class="tableblock" translation-origin="off">Displays the scheduled tasks in your application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sessions</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">允许从 Spring Session 支持的会话存储中检索和删除用户会话。需要使用 Spring Session 的基于 servlet 的 Web 应用程序。</p><p class="tableblock" translation-origin="off">Allows retrieval and deletion of user sessions from a Spring Session-backed session store.
Requires a servlet-based web application that uses Spring Session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shutdown</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">让应用程序正常关闭。默认禁用。</p><p class="tableblock" translation-origin="off">Lets the application be gracefully shutdown.
Disabled by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>startup</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">显示 <code>ApplicationStartup</code> 收集的<a href="features.html#features.spring-application.startup-tracking">启动步骤数据</a>。要求 <code>SpringApplication</code> 配置有 <code>BufferingApplicationStartup</code> 。</p><p class="tableblock" translation-origin="off">Shows the <a href="features.html#features.spring-application.startup-tracking">startup steps data</a> collected by the <code>ApplicationStartup</code>.
Requires the <code>SpringApplication</code> to be configured with a <code>BufferingApplicationStartup</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>threaddump</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">执行线程转储。</p><p class="tableblock" translation-origin="off">Performs a thread dump.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">如果你的应用程序是 Web 应用程序（Spring MVC、Spring WebFlux 或 Jersey），你可以用以下附加端点：</p>
<p translation-origin="off">If your application is a web application (Spring MVC, Spring WebFlux, or Jersey), you can use the following additional endpoints:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p>ID</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>heapdump</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">返回一个堆转储文件。在 HotSpot JVM 上，返回一个 <code>HPROF</code> 格式的文件。在 OpenJ9 JVM 上，返回 <code>PHD</code> 格式的文件。</p><p class="tableblock" translation-origin="off">Returns a heap dump file.
On a HotSpot JVM, an <code>HPROF</code>-format file is returned.
On an OpenJ9 JVM, a <code>PHD</code>-format file is returned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jolokia</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">当 Jolokia 在类路径上时，通过 HTTP 公开 JMX bean（不适用于 WebFlux）。需要依赖 <code>jolokia-core</code> 。</p><p class="tableblock" translation-origin="off">Exposes JMX beans over HTTP when Jolokia is on the classpath (not available for WebFlux).
Requires a dependency on <code>jolokia-core</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logfile</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">返回日志文件的内容（如果设置了 <code>logging.file.name</code> 或 <code>logging.file.path</code> 属性）。支持使用 HTTP <code>Range</code> 标头检索部分日志文件内容。</p><p class="tableblock" translation-origin="off">Returns the contents of the logfile (if the <code>logging.file.name</code> or the <code>logging.file.path</code> property has been set).
Supports the use of the HTTP <code>Range</code> header to retrieve part of the log file’s content.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>prometheus</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">以 Prometheus 服务器可以抓取的格式公开度量。需要对 <code>micrometer-registry-prometheus</code> 的依赖。</p><p class="tableblock" translation-origin="off">Exposes metrics in a format that can be scraped by a Prometheus server.
Requires a dependency on <code>micrometer-registry-prometheus</code>.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="actuator.endpoints.enabling" translation-result="on"><a href="actuator.html#actuator.endpoints.enabling"></a>2.1. 启用端点</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.enabling"></a>2.1. Enabling Endpoints</h3>
<div class="paragraph">
<p translation-result="on">默认情况下，除了 <code>shutdown</code> 之外的所有端点都已启用。要配置端点的启用，请使用它的 <code>management.endpoint.&lt;id&gt;.enabled</code> 属性。以下示例启用 <code>shutdown</code> 端点：</p>
<p translation-origin="off">By default, all endpoints except for <code>shutdown</code> are enabled.
To configure the enablement of an endpoint, use its <code>management.endpoint.&lt;id&gt;.enabled</code> property.
The following example enables the <code>shutdown</code> endpoint:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.shutdown.enabled=true</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoint:
    shutdown:
      enabled: true</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">如果你希望端点启用是选择加入而不是选择退出，请将 <code>management.endpoints.enabled-by-default</code> 属性设置为 <code>false</code> 并使用单个 <code>enabled</code> 端点的属性来选择重新加入。以下示例启用 <code>info</code> 端点并禁用所有其他端点：</p>
<p translation-origin="off">If you prefer endpoint enablement to be opt-in rather than opt-out, set the <code>management.endpoints.enabled-by-default</code> property to <code>false</code> and use individual endpoint <code>enabled</code> properties to opt back in.
The following example enables the <code>info</code> endpoint and disables all other endpoints:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoints.enabled-by-default=false
management.endpoint.info.enabled=true</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoints:
    enabled-by-default: false
  endpoint:
    info:
      enabled: true</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">禁用的端点完全从应用程序上下文中删除。如果你只想更改暴露端点的技术，请改用<a href="actuator.html#actuator.endpoints.exposing"><code>include</code> 和 <code>exclude</code> 属性</a>。</p>
<p translation-origin="off">Disabled endpoints are removed entirely from the application context.
If you want to change only the technologies over which an endpoint is exposed, use the <a href="actuator.html#actuator.endpoints.exposing"><code>include</code> and <code>exclude</code> properties</a> instead.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="actuator.endpoints.exposing" translation-result="on"><a href="actuator.html#actuator.endpoints.exposing"></a>2.2. 暴露端点</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.exposing"></a>2.2. Exposing Endpoints</h3>
<div class="paragraph">
<p translation-result="on">由于端点可能包含敏感信息，你应该仔细考虑何时公开它们。下表显示了内置端点的默认曝光：</p>
<p translation-origin="off">Since Endpoints may contain sensitive information, you should carefully consider when to expose them.
The following table shows the default exposure for the built-in endpoints:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p>ID</p>
</th>
<th class="tableblock halign-left valign-top">
  <p>JMX</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">网络</p>
  <p translation-origin="off">Web</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>auditevents</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>beans</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>caches</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>conditions</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>configprops</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>env</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flyway</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>health</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>heapdump</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不适用</p><p class="tableblock" translation-origin="off">N/A</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>httptrace</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>info</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>integrationgraph</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jolokia</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不适用</p><p class="tableblock" translation-origin="off">N/A</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logfile</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不适用</p><p class="tableblock" translation-origin="off">N/A</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>loggers</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>liquibase</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metrics</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mappings</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>prometheus</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不适用</p><p class="tableblock" translation-origin="off">N/A</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quartz</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scheduledtasks</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sessions</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shutdown</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>startup</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>threaddump</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是的</p><p class="tableblock" translation-origin="off">Yes</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不</p><p class="tableblock" translation-origin="off">No</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">要更改公开的端点，请使用以下特定于技术的 <code>include</code> 和 <code>exclude</code> 属性：</p>
<p translation-origin="off">To change which endpoints are exposed, use the following technology-specific <code>include</code> and <code>exclude</code> properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">财产</p>
  <p translation-origin="off">Property</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">默认</p>
  <p translation-origin="off">Default</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.endpoints.jmx.exposure.exclude</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.endpoints.jmx.exposure.include</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.endpoints.web.exposure.exclude</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.endpoints.web.exposure.include</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>health</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on"><code>include</code> 属性列出了公开的端点的 ID。<code>exclude</code> 属性列出了不应公开的端点的 ID。<code>exclude</code> 属性优先于 <code>include</code> 属性。你可以用端点 ID 列表配置 <code>include</code> 和 <code>exclude</code> 属性。</p>
<p translation-origin="off">The <code>include</code> property lists the IDs of the endpoints that are exposed.
The <code>exclude</code> property lists the IDs of the endpoints that should not be exposed.
The <code>exclude</code> property takes precedence over the <code>include</code> property.
You can configure both the <code>include</code> and the <code>exclude</code> properties with a list of endpoint IDs.</p>
</div>
<div class="paragraph">
<p translation-result="on">例如，要停止通过 JMX 公开所有端点并仅公开 <code>health</code> 和 <code>info</code> 端点，请使用以下属性：</p>
<p translation-origin="off">For example, to stop exposing all endpoints over JMX and only expose the <code>health</code> and <code>info</code> endpoints, use the following property:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoints.jmx.exposure.include=health,info</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoints:
    jmx:
      exposure:
        include: "health,info"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on"><code>*</code> 可用于选择所有端点。例如，要通过 HTTP 公开除 <code>env</code> 和 <code>beans</code> 端点之外的所有内容，请使用以下属性：</p>
<p translation-origin="off"><code>*</code> can be used to select all endpoints.
For example, to expose everything over HTTP except the <code>env</code> and <code>beans</code> endpoints, use the following properties:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoints.web.exposure.include=*
management.endpoints.web.exposure.exclude=env,beans</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoints:
    web:
      exposure:
        include: "*"
        exclude: "env,beans"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on"><code>*</code> 在 YAML 中具有特殊含义，因此如果要包含（或排除）所有端点，请务必添加引号。</p>
<p translation-origin="off"><code>*</code> has a special meaning in YAML, so be sure to add quotation marks if you want to include (or exclude) all endpoints.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">如果你的应用程序是公开的，我们强烈建议你也<a href="actuator.html#actuator.endpoints.security">保护你的端点</a>。</p>
<p translation-origin="off">If your application is exposed publicly, we strongly recommend that you also <a href="actuator.html#actuator.endpoints.security">secure your endpoints</a>.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">如果你想在暴露端点时实现自己的策略，你可以注册一个 <code>EndpointFilter</code> bean。</p>
<p translation-origin="off">If you want to implement your own strategy for when endpoints are exposed, you can register an <code>EndpointFilter</code> bean.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="actuator.endpoints.security" translation-result="on"><a href="actuator.html#actuator.endpoints.security"></a>2.3. 安全</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.security"></a>2.3. Security</h3>
<div class="paragraph">
<p translation-result="on">出于安全目的，默认情况下禁用 <code>/health</code> 以外的所有执行器。你可以用 <code>management.endpoints.web.exposure.include</code> 属性来启用执行器。</p>
<p translation-origin="off">For security purposes, all actuators other than <code>/health</code> are disabled by default.
You can use the <code>management.endpoints.web.exposure.include</code> property to enable the actuators.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">在设置 <code>management.endpoints.web.exposure.include</code> 之前，确保暴露的执行器不包含敏感信息，通过将它们放置在防火墙后面来保护它们，或者通过 Spring Security 之类的东西来保护它们。</p>
<p translation-origin="off">Before setting the <code>management.endpoints.web.exposure.include</code>, ensure that the exposed actuators do not contain sensitive information, are secured by placing them behind a firewall, or are secured by something like Spring Security.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">如果 Spring Security 在类路径上并且不存在其他 <code>WebSecurityConfigurerAdapter</code> 或 <code>SecurityFilterChain</code> bean，则除 <code>/health</code> 之外的所有执行器都由 Spring Boot 自动配置保护。如果你定义了一个自定义的 <code>WebSecurityConfigurerAdapter</code> 或 <code>SecurityFilterChain</code> bean，Spring Boot 自动配置会退出并让你完全控制执行器访问规则。</p>
<p translation-origin="off">If Spring Security is on the classpath and no other <code>WebSecurityConfigurerAdapter</code> or <code>SecurityFilterChain</code> bean is present, all actuators other than <code>/health</code> are secured by Spring Boot auto-configuration.
If you define a custom <code>WebSecurityConfigurerAdapter</code> or <code>SecurityFilterChain</code> bean, Spring Boot auto-configuration backs off and lets you fully control the actuator access rules.</p>
</div>
<div class="paragraph">
<p translation-result="on">如果你希望为 HTTP 端点配置自定义安全性（例如，只允许具有特定角色的用户访问它们），Spring Boot 提供了一些方便的 <code>RequestMatcher</code> 对象，你可以将它们与 Spring Security 结合使用。</p>
<p translation-origin="off">If you wish to configure custom security for HTTP endpoints (for example, to allow only users with a certain role to access them), Spring Boot provides some convenient <code>RequestMatcher</code> objects that you can use in combination with Spring Security.</p>
</div>
<div class="paragraph">
<p translation-result="on">典型的 Spring Security 配置可能类似于以下示例：</p>
<p translation-origin="off">A typical Spring Security configuration might look something like the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import org.springframework.boot.actuate.autoconfigure.security.servlet.EndpointRequest;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.web.SecurityFilterChain;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MySecurityConfiguration {

    @Bean
    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
        http.requestMatcher(EndpointRequest.toAnyEndpoint())
                .authorizeRequests((requests) -&gt; requests.anyRequest().hasRole("ENDPOINT_ADMIN"));
        http.httpBasic();
        return http.build();
    }

}
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">前面的示例使用 <code>EndpointRequest.toAnyEndpoint()</code> 将请求匹配到任何端点，然后确保所有端点都具有 <code>ENDPOINT_ADMIN</code> 角色。<code>EndpointRequest</code> 上还提供了其他几种匹配器方法。有关详细信息，请参阅 API 文档（ <a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/htmlsingle">HTML</a> 或 <a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/pdf/spring-boot-actuator-web-api.pdf">PDF</a> ）。</p>
<p translation-origin="off">The preceding example uses <code>EndpointRequest.toAnyEndpoint()</code> to match a request to any endpoint and then ensures that all have the <code>ENDPOINT_ADMIN</code> role.
Several other matcher methods are also available on <code>EndpointRequest</code>.
See the API documentation (<a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/htmlsingle">HTML</a> or <a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/pdf/spring-boot-actuator-web-api.pdf">PDF</a>) for details.</p>
</div>
<div class="paragraph">
<p translation-result="on">如果你在防火墙后面部署应用程序，你可能希望无需身份验证即可访问所有执行器端点。你可以通过更改 <code>management.endpoints.web.exposure.include</code> 属性来做到这一点，如下所示：</p>
<p translation-origin="off">If you deploy applications behind a firewall, you may prefer that all your actuator endpoints can be accessed without requiring authentication.
You can do so by changing the <code>management.endpoints.web.exposure.include</code> property, as follows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoints.web.exposure.include=*</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoints:
    web:
      exposure:
        include: "*"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">此外，如果存在 Spring Security，你将需要添加自定义安全配置，以允许未经身份验证的访问端点，如以下示例所示：</p>
<p translation-origin="off">Additionally, if Spring Security is present, you would need to add custom security configuration that allows unauthenticated access to the endpoints, as the following example shows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import org.springframework.boot.actuate.autoconfigure.security.servlet.EndpointRequest;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.web.SecurityFilterChain;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MySecurityConfiguration {

    @Bean
    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
        http.requestMatcher(EndpointRequest.toAnyEndpoint())
                .authorizeRequests((requests) -&gt; requests.anyRequest().permitAll());
        return http.build();
    }

}
</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">在前面的两个示例中，配置仅适用于执行器端点。由于 Spring Boot 的安全配置在任何 <code>SecurityFilterChain</code> bean 存在的情况下都会完全退出，因此你需要配置一个附加的 <code>SecurityFilterChain</code> bean，其规则适用于应用程序的其余部分。</p>
<p translation-origin="off">In both of the preceding examples, the configuration applies only to the actuator endpoints.
Since Spring Boot’s security configuration backs off completely in the presence of any <code>SecurityFilterChain</code> bean, you need to configure an additional <code>SecurityFilterChain</code> bean with rules that apply to the rest of the application.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.security.csrf" translation-result="on"><a href="actuator.html#actuator.endpoints.security.csrf"></a>2.3.1. 跨站点请求伪造保护</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.security.csrf"></a>2.3.1. Cross Site Request Forgery Protection</h4>
<div class="paragraph">
<p translation-result="on">由于 Spring Boot 依赖于 Spring Security 的默认设置，因此默认开启 CSRF 保护。这意味着在使用默认安全配置时，需要 <code>POST</code> （关闭和记录器端点）、 <code>PUT</code> 或 <code>DELETE</code> 的执行器端点会收到 403（禁止）错误。</p>
<p translation-origin="off">Since Spring Boot relies on Spring Security’s defaults, CSRF protection is turned on by default.
This means that the actuator endpoints that require a <code>POST</code> (shutdown and loggers endpoints), a <code>PUT</code>, or a <code>DELETE</code> get a 403 (forbidden) error when the default security configuration is in use.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">我们建议仅在创建非浏览器客户端使用的服务时完全禁用 CSRF 保护。</p>
<p translation-origin="off">We recommend disabling CSRF protection completely only if you are creating a service that is used by non-browser clients.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">你可以在 <a href="https://docs.spring.io/spring-security/reference/5.6.1/features/exploits/csrf.html">Spring Security Reference Guide</a> 中找到有关 CSRF 保护的更多信息。</p>
<p translation-origin="off">You can find additional information about CSRF protection in the <a href="https://docs.spring.io/spring-security/reference/5.6.1/features/exploits/csrf.html">Spring Security Reference Guide</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.endpoints.caching" translation-result="on"><a href="actuator.html#actuator.endpoints.caching"></a>2.4. 配置端点</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.caching"></a>2.4. Configuring Endpoints</h3>
<div class="paragraph">
<p translation-result="on">端点会自动缓存对不带任何参数的读取操作的响应。要配置端点缓存响应的时间量，请使用其 <code>cache.time-to-live</code> 属性。以下示例将 <code>beans</code> 端点缓存的生存时间设置为 10 秒：</p>
<p translation-origin="off">Endpoints automatically cache responses to read operations that do not take any parameters.
To configure the amount of time for which an endpoint caches a response, use its <code>cache.time-to-live</code> property.
The following example sets the time-to-live of the <code>beans</code> endpoint’s cache to 10 seconds:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.beans.cache.time-to-live=10s</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoint:
    beans:
      cache:
        time-to-live: "10s"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on"><code>management.endpoint.&lt;name&gt;</code> 前缀唯一标识正在配置的端点。</p>
<p translation-origin="off">The <code>management.endpoint.&lt;name&gt;</code> prefix uniquely identifies the endpoint that is being configured.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="actuator.endpoints.hypermedia" translation-result="on"><a href="actuator.html#actuator.endpoints.hypermedia"></a>2.5. Actuator Web 端点的超媒体</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.hypermedia"></a>2.5. Hypermedia for Actuator Web Endpoints</h3>
<div class="paragraph">
<p translation-result="on">添加了一个“发现页面”，其中包含指向所有端点的链接。默认情况下，“发现页面”在 <code>/actuator</code> 上可用。</p>
<p translation-origin="off">A “discovery page” is added with links to all the endpoints.
The “discovery page” is available on <code>/actuator</code> by default.</p>
</div>
<div class="paragraph">
<p translation-result="on">要禁用“发现页面”，请将以下属性添加到你的应用程序属性中：</p>
<p translation-origin="off">To disable the “discovery page”, add the following property to your application properties:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoints.web.discovery.enabled=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoints:
    web:
      discovery:
        enabled: false</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">配置自定义管理上下文路径后，“发现页面”会自动从 <code>/actuator</code> 移动到管理上下文的根目录。例如，如果管理上下文路径是 <code>/management</code> ，则发现页面可从 <code>/management</code> 获得。当管理上下文路径设置为 <code>/</code> 时，发现页面被禁用以防止与其他映射发生冲突的可能性。</p>
<p translation-origin="off">When a custom management context path is configured, the “discovery page” automatically moves from <code>/actuator</code> to the root of the management context.
For example, if the management context path is <code>/management</code>, the discovery page is available from <code>/management</code>.
When the management context path is set to <code>/</code>, the discovery page is disabled to prevent the possibility of a clash with other mappings.</p>
</div>
</div>
<div class="sect2">
<h3 id="actuator.endpoints.cors" translation-result="on"><a href="actuator.html#actuator.endpoints.cors"></a>2.6. CORS 支持</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.cors"></a>2.6. CORS Support</h3>
<div class="paragraph">
<p translation-result="on"><a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">跨域资源共享</a>(CORS) 是一种 <a href="https://www.w3.org/TR/cors/">W3C 规范</a>，可让你以灵活的方式指定授权哪种跨域请求。如果你使用 Spring MVC 或 Spring WebFlux，则可以配置 Actuator 的 Web 端点以支持此类场景。</p>
<p translation-origin="off"><a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">Cross-origin resource sharing</a> (CORS) is a <a href="https://www.w3.org/TR/cors/">W3C specification</a> that lets you specify in a flexible way what kind of cross-domain requests are authorized.
If you use Spring MVC or Spring WebFlux, you can configure Actuator’s web endpoints to support such scenarios.</p>
</div>
<div class="paragraph">
<p translation-result="on">CORS 支持默认禁用，只有在设置 <code>management.endpoints.web.cors.allowed-origins</code> 属性后才会启用。以下配置允许来自 <code>example.com</code> 域的 <code>GET</code> 和 <code>POST</code> 调用：</p>
<p translation-origin="off">CORS support is disabled by default and is only enabled once you have set the <code>management.endpoints.web.cors.allowed-origins</code> property.
The following configuration permits <code>GET</code> and <code>POST</code> calls from the <code>example.com</code> domain:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoints.web.cors.allowed-origins=https://example.com
management.endpoints.web.cors.allowed-methods=GET,POST</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoints:
    web:
      cors:
        allowed-origins: "https://example.com"
        allowed-methods: "GET,POST"</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">有关选项的完整列表，请参阅<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/endpoint/web/CorsEndpointProperties.java"><code>CorsEndpointProperties</code></a> 。</p>
<p translation-origin="off">See <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/endpoint/web/CorsEndpointProperties.java"><code>CorsEndpointProperties</code></a> for a complete list of options.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="actuator.endpoints.implementing-custom" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom"></a>2.7. 实施自定义端点</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom"></a>2.7. Implementing Custom Endpoints</h3>
<div class="paragraph">
<p translation-result="on">如果添加带有 <code>@Bean</code> 注释的 <code>@Endpoint</code> ，则任何带有 <code>@ReadOperation</code> 、 <code>@WriteOperation</code> 或 <code>@DeleteOperation</code> 注释的方法都会自动通过 JMX 公开，并且在 Web 应用程序中，也会通过 HTTP 公开。可以用 Jersey、Spring MVC 或 Spring WebFlux 通过 HTTP 公开端点。如果 Jersey 和 Spring MVC 都可用，则使用 Spring MVC。</p>
<p translation-origin="off">If you add a <code>@Bean</code> annotated with <code>@Endpoint</code>, any methods annotated with <code>@ReadOperation</code>, <code>@WriteOperation</code>, or <code>@DeleteOperation</code> are automatically exposed over JMX and, in a web application, over HTTP as well.
Endpoints can be exposed over HTTP by using Jersey, Spring MVC, or Spring WebFlux.
If both Jersey and Spring MVC are available, Spring MVC is used.</p>
</div>
<div class="paragraph">
<p translation-result="on">以下示例公开了一个返回自定义对象的读取操作：</p>
<p translation-origin="off">The following example exposes a read operation that returns a custom object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@ReadOperation
public CustomData getData() {
    return new CustomData("test", 5);
}
</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你还可以用 <code>@JmxEndpoint</code> 或 <code>@WebEndpoint</code> 编写特定于技术的端点。这些端点仅限于各自的技术。例如，<code>@WebEndpoint</code> 仅通过 HTTP 而不是通过 JMX 公开。</p>
<p translation-origin="off">You can also write technology-specific endpoints by using <code>@JmxEndpoint</code> or <code>@WebEndpoint</code>.
These endpoints are restricted to their respective technologies.
For example, <code>@WebEndpoint</code> is exposed only over HTTP and not over JMX.</p>
</div>
<div class="paragraph">
<p translation-result="on">你可以用 <code>@EndpointWebExtension</code> 和 <code>@EndpointJmxExtension</code> 编写特定于技术的扩展。这些注释让你可以提供特定于技术的操作来扩充现有端点。</p>
<p translation-origin="off">You can write technology-specific extensions by using <code>@EndpointWebExtension</code> and <code>@EndpointJmxExtension</code>.
These annotations let you provide technology-specific operations to augment an existing endpoint.</p>
</div>
<div class="paragraph">
<p translation-result="on">最后，如果你需要访问特定于 Web 框架的功能，你可以实现 servlet 或 Spring <code>@Controller</code> 和 <code>@RestController</code> 端点，但代价是它们无法通过 JMX 或使用不同的 Web 框架获得。</p>
<p translation-origin="off">Finally, if you need access to web-framework-specific functionality, you can implement servlet or Spring <code>@Controller</code> and <code>@RestController</code> endpoints at the cost of them not being available over JMX or when using a different web framework.</p>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.implementing-custom.input" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.input"></a>2.7.1. 接收输入</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.input"></a>2.7.1. Receiving Input</h4>
<div class="paragraph">
<p translation-result="on">端点上的操作通过其参数接收输入。当通过 Web 公开时，这些参数的值取自 URL 的查询参数和 JSON 请求正文。通过 JMX 公开时，参数将映射到 MBean 操作的参数。默认情况下需要参数。可以通过使用 <code>@javax.annotation.Nullable</code> 或 <code>@org.springframework.lang.Nullable</code> 注释它们来使它们成为可选的。</p>
<p translation-origin="off">Operations on an endpoint receive input through their parameters.
When exposed over the web, the values for these parameters are taken from the URL’s query parameters and from the JSON request body.
When exposed over JMX, the parameters are mapped to the parameters of the MBean’s operations.
Parameters are required by default.
They can be made optional by annotating them with either <code>@javax.annotation.Nullable</code> or <code>@org.springframework.lang.Nullable</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">你可以将 JSON 请求正文中的每个根属性映射到端点的参数。考虑以下 JSON 请求正文：</p>
<p translation-origin="off">You can map each root property in the JSON request body to a parameter of the endpoint.
Consider the following JSON request body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "name": "test",
    "counter": 42
}</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你可以用它来调用采用 <code>String name</code> 和 <code>int counter</code> 参数的写入操作，如以下示例所示：</p>
<p translation-origin="off">You can use this to invoke a write operation that takes <code>String name</code> and <code>int counter</code> parameters, as the following example shows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@WriteOperation
public void updateData(String name, int counter) {
    // injects "test" and 42
}
</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">因为端点与技术无关，所以只能在方法签名中指定简单类型。特别是，不支持使用定义 <code>name</code> 和 <code>counter</code> 属性的 <code>CustomData</code> 类型声明单个参数。</p>
<p translation-origin="off">Because endpoints are technology agnostic, only simple types can be specified in the method signature.
In particular, declaring a single parameter with a <code>CustomData</code> type that defines a <code>name</code> and <code>counter</code> properties is not supported.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">为了让输入映射到操作方法的参数，实现端点的 Java 代码应该使用 <code>-parameters</code> 编译，实现端点的 Kotlin 代码应该使用 <code>-java-parameters</code> 编译。如果你使用 Spring Boot 的 Gradle 插件或使用 Maven 和 <code>spring-boot-starter-parent</code> ，这将自动发生。</p>
<p translation-origin="off">To let the input be mapped to the operation method’s parameters, Java code that implements an endpoint should be compiled with <code>-parameters</code>, and Kotlin code that implements an endpoint should be compiled with <code>-java-parameters</code>.
This will happen automatically if you use Spring Boot’s Gradle plugin or if you use Maven and <code>spring-boot-starter-parent</code>.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="sect4">
<h5 id="actuator.endpoints.implementing-custom.input.conversion" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.input.conversion"></a>输入类型转换</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.input.conversion"></a>Input Type Conversion</h5>
<div class="paragraph">
<p translation-result="on">如有必要，传递给端点操作方法的参数会自动转换为所需的类型。在调用操作方法之前，通过 JMX 或 HTTP 接收的输入通过使用 <code>ApplicationConversionService</code> 的实例以及使用 <code>@EndpointConverter</code> 限定的任何 <code>Converter</code> 或 <code>GenericConverter</code> bean 转换为所需的类型。</p>
<p translation-origin="off">The parameters passed to endpoint operation methods are, if necessary, automatically converted to the required type.
Before calling an operation method, the input received over JMX or HTTP is converted to the required types by using an instance of <code>ApplicationConversionService</code> as well as any <code>Converter</code> or <code>GenericConverter</code> beans qualified with <code>@EndpointConverter</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.implementing-custom.web" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web"></a>2.7.2. 自定义 Web 端点</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.web"></a>2.7.2. Custom Web Endpoints</h4>
<div class="paragraph">
<p translation-result="on">使用 Jersey、Spring MVC 或 Spring WebFlux 通过 HTTP 自动公开 <code>@Endpoint</code> 、 <code>@WebEndpoint</code> 或 <code>@EndpointWebExtension</code> 上的操作。如果 Jersey 和 Spring MVC 都可用，则使用 Spring MVC。</p>
<p translation-origin="off">Operations on an <code>@Endpoint</code>, <code>@WebEndpoint</code>, or <code>@EndpointWebExtension</code> are automatically exposed over HTTP using Jersey, Spring MVC, or Spring WebFlux.
If both Jersey and Spring MVC are available, Spring MVC is used.</p>
</div>
<div class="sect4">
<h5 id="actuator.endpoints.implementing-custom.web.request-predicates" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.request-predicates"></a>Web 端点请求谓词</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.web.request-predicates"></a>Web Endpoint Request Predicates</h5>
<div class="paragraph">
<p translation-result="on">为 Web 公开端点上的每个操作自动生成请求谓词。</p>
<p translation-origin="off">A request predicate is automatically generated for each operation on a web-exposed endpoint.</p>
</div>
</div>
<div class="sect4">
<h5 id="actuator.endpoints.implementing-custom.web.path-predicates" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.path-predicates"></a>小路</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.web.path-predicates"></a>Path</h5>
<div class="paragraph">
<p translation-result="on">谓词的路径由端点的 ID 和 Web 公开的端点的基本路径确定。默认基本路径是 <code>/actuator</code> 。例如，具有 <code>sessions</code> ID 的端点使用 <code>/actuator/sessions</code> 作为其在谓词中的路径。</p>
<p translation-origin="off">The path of the predicate is determined by the ID of the endpoint and the base path of the web-exposed endpoints.
The default base path is <code>/actuator</code>.
For example, an endpoint with an ID of <code>sessions</code> uses <code>/actuator/sessions</code> as its path in the predicate.</p>
</div>
<div class="paragraph">
<p translation-result="on">你可以通过使用 <code>@Selector</code> 注释操作方法的一个或多个参数来进一步自定义路径。这样的参数作为路径变量添加到路径谓词中。当调用端点操作时，变量的值被传递到操作方法中。如果要捕获所有剩余的路径元素，可以将 <code>@Selector(Match=ALL_REMAINING)</code> 添加到最后一个参数，并使其成为与 <code>String[]</code> 转换兼容的类型。</p>
<p translation-origin="off">You can further customize the path by annotating one or more parameters of the operation method with <code>@Selector</code>.
Such a parameter is added to the path predicate as a path variable.
The variable’s value is passed into the operation method when the endpoint operation is invoked.
If you want to capture all remaining path elements, you can add <code>@Selector(Match=ALL_REMAINING)</code> to the last parameter and make it a type that is conversion-compatible with a <code>String[]</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="actuator.endpoints.implementing-custom.web.method-predicates" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.method-predicates"></a>HTTP 方法</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.web.method-predicates"></a>HTTP method</h5>
<div class="paragraph">
<p translation-result="on">谓词的 HTTP 方法由操作类型决定，如下表所示：</p>
<p translation-origin="off">The HTTP method of the predicate is determined by the operation type, as shown in the following table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 75%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">手术</p>
  <p translation-origin="off">Operation</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">HTTP 方法</p>
  <p translation-origin="off">HTTP method</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@ReadOperation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GET</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@WriteOperation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>POST</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@DeleteOperation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DELETE</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="actuator.endpoints.implementing-custom.web.consumes-predicates" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.consumes-predicates"></a>消耗</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.web.consumes-predicates"></a>Consumes</h5>
<div class="paragraph">
<p translation-result="on">对于使用请求正文的 <code>@WriteOperation</code> (HTTP <code>POST</code> )，谓词的 <code>consumes</code> 子句是 <code>application/vnd.spring-boot.actuator.v2+json, application/json</code> 。对于所有其他操作，<code>consumes</code> 子句为空。</p>
<p translation-origin="off">For a <code>@WriteOperation</code> (HTTP <code>POST</code>) that uses the request body, the <code>consumes</code> clause of the predicate is <code>application/vnd.spring-boot.actuator.v2+json, application/json</code>.
For all other operations, the <code>consumes</code> clause is empty.</p>
</div>
</div>
<div class="sect4">
<h5 id="actuator.endpoints.implementing-custom.web.produces-predicates" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.produces-predicates"></a>生产</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.web.produces-predicates"></a>Produces</h5>
<div class="paragraph">
<p translation-result="on">谓词的 <code>produces</code> 子句可以由 <code>@DeleteOperation</code> 、 <code>@ReadOperation</code> 和 <code>@WriteOperation</code> 注释的 <code>produces</code> 属性确定。该属性是可选的。如果不使用，则自动确定 <code>produces</code> 子句。</p>
<p translation-origin="off">The <code>produces</code> clause of the predicate can be determined by the <code>produces</code> attribute of the <code>@DeleteOperation</code>, <code>@ReadOperation</code>, and <code>@WriteOperation</code> annotations.
The attribute is optional.
If it is not used, the <code>produces</code> clause is determined automatically.</p>
</div>
<div class="paragraph">
<p translation-result="on">如果操作方法返回 <code>void</code> 或 <code>Void</code> ，则 <code>produces</code> 子句为空。如果操作方法返回 <code>org.springframework.core.io.Resource</code> ，则 <code>produces</code> 子句为 <code>application/octet-stream</code> 。对于所有其他操作，produce 子句是 application/ <code>produces</code> <code>application/vnd.spring-boot.actuator.v2+json, application/json</code> 。</p>
<p translation-origin="off">If the operation method returns <code>void</code> or <code>Void</code>, the <code>produces</code> clause is empty.
If the operation method returns a <code>org.springframework.core.io.Resource</code>, the <code>produces</code> clause is <code>application/octet-stream</code>.
For all other operations, the <code>produces</code> clause is <code>application/vnd.spring-boot.actuator.v2+json, application/json</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="actuator.endpoints.implementing-custom.web.response-status" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.response-status"></a>Web 端点响应状态</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.web.response-status"></a>Web Endpoint Response Status</h5>
<div class="paragraph">
<p translation-result="on">端点操作的默认响应状态取决于操作类型（读取、写入或删除）以及操作返回的内容（如果有）。</p>
<p translation-origin="off">The default response status for an endpoint operation depends on the operation type (read, write, or delete) and what, if anything, the operation returns.</p>
</div>
<div class="paragraph">
<p translation-result="on">如果 <code>@ReadOperation</code> 返回一个值，则响应状态将为 200（OK）。如果它没有返回值，则响应状态将为 404（未找到）。</p>
<p translation-origin="off">If a <code>@ReadOperation</code> returns a value, the response status will be 200 (OK).
If it does not return a value, the response status will be 404 (Not Found).</p>
</div>
<div class="paragraph">
<p translation-result="on">如果 <code>@WriteOperation</code> 或 <code>@DeleteOperation</code> 返回值，则响应状态将为 200（OK）。如果它没有返回值，则响应状态将为 204（无内容）。</p>
<p translation-origin="off">If a <code>@WriteOperation</code> or <code>@DeleteOperation</code> returns a value, the response status will be 200 (OK).
If it does not return a value, the response status will be 204 (No Content).</p>
</div>
<div class="paragraph">
<p translation-result="on">如果调用操作时不带必填参数或带有无法转换为所需类型的参数，则不会调用操作方法，响应状态为 400（Bad Request）。</p>
<p translation-origin="off">If an operation is invoked without a required parameter or with a parameter that cannot be converted to the required type, the operation method is not called, and the response status will be 400 (Bad Request).</p>
</div>
</div>
<div class="sect4">
<h5 id="actuator.endpoints.implementing-custom.web.range-requests" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.range-requests"></a>Web 端点范围请求</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.web.range-requests"></a>Web Endpoint Range Requests</h5>
<div class="paragraph">
<p translation-result="on">你可以用 HTTP 范围请求来请求 HTTP 资源的一部分。使用 Spring MVC 或 Spring Web Flux 时，返回 <code>org.springframework.core.io.Resource</code> 的操作会自动支持范围请求。</p>
<p translation-origin="off">You can use an HTTP range request to request part of an HTTP resource.
When using Spring MVC or Spring Web Flux, operations that return a <code>org.springframework.core.io.Resource</code> automatically support range requests.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">使用 Jersey 时不支持范围请求。</p>
<p translation-origin="off">Range requests are not supported when using Jersey.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="actuator.endpoints.implementing-custom.web.security" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.web.security"></a>网络端点安全</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.web.security"></a>Web Endpoint Security</h5>
<div class="paragraph">
<p translation-result="on">Web 端点或特定于 Web 的端点扩展上的操作可以接收当前的 <code>java.security.Principal</code> 或 <code>org.springframework.boot.actuate.endpoint.SecurityContext</code> 作为方法参数。前者通常与 <code>@Nullable</code> 结合使用，为经过身份验证和未经身份验证的用户提供不同的行为。后者通常用于通过使用其 <code>isUserInRole(String)</code> 方法执行授权检查。</p>
<p translation-origin="off">An operation on a web endpoint or a web-specific endpoint extension can receive the current <code>java.security.Principal</code> or <code>org.springframework.boot.actuate.endpoint.SecurityContext</code> as a method parameter.
The former is typically used in conjunction with <code>@Nullable</code> to provide different behavior for authenticated and unauthenticated users.
The latter is typically used to perform authorization checks by using its <code>isUserInRole(String)</code> method.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.implementing-custom.servlet" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.servlet"></a>2.7.3. Servlet 端点</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.servlet"></a>2.7.3. Servlet Endpoints</h4>
<div class="paragraph">
<p translation-result="on">servlet 可以通过实现一个使用 <code>@ServletEndpoint</code> 注释的类来作为端点公开，该类也实现了 <code>Supplier&lt;EndpointServlet&gt;</code> 。Servlet 端点提供与 servlet 容器的更深层次的集成，但以牺牲可移植性为代价。它们旨在用于将现有 servlet 公开为端点。对于新端点，应尽可能首选 <code>@Endpoint</code> 和 <code>@WebEndpoint</code> 注释。</p>
<p translation-origin="off">A servlet can be exposed as an endpoint by implementing a class annotated with <code>@ServletEndpoint</code> that also implements <code>Supplier&lt;EndpointServlet&gt;</code>.
Servlet endpoints provide deeper integration with the servlet container but at the expense of portability.
They are intended to be used to expose an existing servlet as an endpoint.
For new endpoints, the <code>@Endpoint</code> and <code>@WebEndpoint</code> annotations should be preferred whenever possible.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.implementing-custom.controller" translation-result="on"><a href="actuator.html#actuator.endpoints.implementing-custom.controller"></a>2.7.4. 控制器端点</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.implementing-custom.controller"></a>2.7.4. Controller Endpoints</h4>
<div class="paragraph">
<p translation-result="on">你可以用 <code>@ControllerEndpoint</code> 和 <code>@RestControllerEndpoint</code> 来实现仅由 Spring MVC 或 Spring WebFlux 公开的端点。方法通过使用 Spring MVC 和 Spring WebFlux 的标准注释进行映射，例如 <code>@RequestMapping</code> 和 <code>@GetMapping</code> ，端点的 ID 用作路径的前缀。控制器端点提供与 Spring 的 Web 框架的更深层次的集成，但以牺牲可移植性为代价。<code>@Endpoint</code> 和 <code>@WebEndpoint</code> 注释应尽可能首选。</p>
<p translation-origin="off">You can use <code>@ControllerEndpoint</code> and <code>@RestControllerEndpoint</code> to implement an endpoint that is exposed only by Spring MVC or Spring WebFlux.
Methods are mapped by using the standard annotations for Spring MVC and Spring WebFlux, such as <code>@RequestMapping</code> and <code>@GetMapping</code>, with the endpoint’s ID being used as a prefix for the path.
Controller endpoints provide deeper integration with Spring’s web frameworks but at the expense of portability.
The <code>@Endpoint</code> and <code>@WebEndpoint</code> annotations should be preferred whenever possible.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.endpoints.health" translation-result="on"><a href="actuator.html#actuator.endpoints.health"></a>2.8. 健康信息</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.health"></a>2.8. Health Information</h3>
<div class="paragraph">
<p translation-result="on">你可以用健康信息来检查正在运行的应用程序的状态。当生产系统出现故障时，监控软件经常使用它来提醒某人。<code>health</code> 端点公开的信息取决于 <code>management.endpoint.health.show-details</code> 和 <code>management.endpoint.health.show-components</code> 属性，可以用以下值之一进行配置：</p>
<p translation-origin="off">You can use health information to check the status of your running application.
It is often used by monitoring software to alert someone when a production system goes down.
The information exposed by the <code>health</code> endpoint depends on the <code>management.endpoint.health.show-details</code> and <code>management.endpoint.health.show-components</code> properties, which can be configured with one of the following values:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">名称</p>
  <p translation-origin="off">Name</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>never</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">从不显示细节。</p><p class="tableblock" translation-origin="off">Details are never shown.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>when-authorized</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">详细信息仅向授权用户显示。可以用 <code>management.endpoint.health.roles</code> 配置授权角色。</p><p class="tableblock" translation-origin="off">Details are shown only to authorized users.
Authorized roles can be configured by using <code>management.endpoint.health.roles</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>always</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">向所有用户显示详细信息。</p><p class="tableblock" translation-origin="off">Details are shown to all users.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">默认值为 <code>never</code> 。当用户处于一个或多个端点角色时，他们被认为是被授权的。如果端点没有配置角色（默认），则所有经过身份验证的用户都被认为是授权的。你可以用 <code>management.endpoint.health.roles</code> 属性配置角色。</p>
<p translation-origin="off">The default value is <code>never</code>.
A user is considered to be authorized when they are in one or more of the endpoint’s roles.
If the endpoint has no configured roles (the default), all authenticated users are considered to be authorized.
You can configure the roles by using the <code>management.endpoint.health.roles</code> property.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">如果你已保护你的应用程序并希望使用 <code>always</code> ，则你的安全配置必须允许经过身份验证和未经身份验证的用户访问健康端点。</p>
<p translation-origin="off">If you have secured your application and wish to use <code>always</code>, your security configuration must permit access to the health endpoint for both authenticated and unauthenticated users.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">健康信息是从<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthContributorRegistry.java"><code>HealthContributorRegistry</code></a>的内容中收集的（默认情况下，所有在 <code>ApplicationContext</code> 中定义的<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthContributor.java"><code>HealthContributor</code></a>实例）。Spring Boot 包含许多自动配置的 <code>HealthContributors</code> ，你也可以编写自己的。</p>
<p translation-origin="off">Health information is collected from the content of a <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthContributorRegistry.java"><code>HealthContributorRegistry</code></a> (by default, all <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthContributor.java"><code>HealthContributor</code></a> instances defined in your <code>ApplicationContext</code>).
Spring Boot includes a number of auto-configured <code>HealthContributors</code>, and you can also write your own.</p>
</div>
<div class="paragraph">
<p translation-result="on"><code>HealthContributor</code> 可以是 <code>HealthIndicator</code> 或 <code>CompositeHealthContributor</code> 。<code>HealthIndicator</code> 提供实际的健康信息，包括 <code>Status</code> 。<code>CompositeHealthContributor</code> 提供了其他 <code>HealthContributors</code> 的组合。总之，贡献者形成了一个树结构来表示整个系统的健康状况。</p>
<p translation-origin="off">A <code>HealthContributor</code> can be either a <code>HealthIndicator</code> or a <code>CompositeHealthContributor</code>.
A <code>HealthIndicator</code> provides actual health information, including a <code>Status</code>.
A <code>CompositeHealthContributor</code> provides a composite of other <code>HealthContributors</code>.
Taken together, contributors form a tree structure to represent the overall system health.</p>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，最终的系统运行状况由 <code>StatusAggregator</code> 派生，它根据状态的有序列表对来自每个 <code>HealthIndicator</code> 的状态进行排序。排序列表中的第一个状态用作整体健康状态。如果没有 <code>HealthIndicator</code> 返回 <code>StatusAggregator</code> 已知的状态，则使用 <code>UNKNOWN</code> 状态。</p>
<p translation-origin="off">By default, the final system health is derived by a <code>StatusAggregator</code>, which sorts the statuses from each <code>HealthIndicator</code> based on an ordered list of statuses.
The first status in the sorted list is used as the overall health status.
If no <code>HealthIndicator</code> returns a status that is known to the <code>StatusAggregator</code>, an <code>UNKNOWN</code> status is used.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">你可以用 <code>HealthContributorRegistry</code> 在运行时注册和取消注册健康度量。</p>
<p translation-origin="off">You can use the <code>HealthContributorRegistry</code> to register and unregister health indicators at runtime.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.health.auto-configured-health-indicators" translation-result="on"><a href="actuator.html#actuator.endpoints.health.auto-configured-health-indicators"></a>2.8.1. 自动配置的健康度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.health.auto-configured-health-indicators"></a>2.8.1. Auto-configured HealthIndicators</h4>
<div class="paragraph">
<p translation-result="on">在适当的时候，Spring Boot 会自动配置下表中列出的 <code>HealthIndicators</code> 。你还可以通过配置 <code>management.health.key.enabled</code> 来启用或禁用选定的度量，<code>key</code> 在下表中列出：</p>
<p translation-origin="off">When appropriate, Spring Boot auto-configures the <code>HealthIndicators</code> listed in the following table.
You can also enable or disable selected indicators by configuring <code>management.health.key.enabled</code>,
with the <code>key</code> listed in the following table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">钥匙</p>
  <p translation-origin="off">Key</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">名称</p>
  <p translation-origin="off">Name</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cassandra</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/cassandra/CassandraDriverHealthIndicator.java"><code>CassandraDriverHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Cassandra 数据库是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Cassandra database is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>couchbase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/couchbase/CouchbaseHealthIndicator.java"><code>CouchbaseHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Couchbase 集群是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Couchbase cluster is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>db</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/jdbc/DataSourceHealthIndicator.java"><code>DataSourceHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查是否可以获得与 <code>DataSource</code> 的连接。</p><p class="tableblock" translation-origin="off">Checks that a connection to <code>DataSource</code> can be obtained.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>diskspace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/system/DiskSpaceHealthIndicator.java"><code>DiskSpaceHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查磁盘空间不足。</p><p class="tableblock" translation-origin="off">Checks for low disk space.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>elasticsearch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/elasticsearch/ElasticsearchRestHealthIndicator.java"><code>ElasticsearchRestHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Elasticsearch 集群是否已启动。</p><p class="tableblock" translation-origin="off">Checks that an Elasticsearch cluster is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hazelcast</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/hazelcast/HazelcastHealthIndicator.java"><code>HazelcastHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Hazelcast 服务器是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Hazelcast server is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>influxdb</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/influx/InfluxDbHealthIndicator.java"><code>InfluxDbHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 InfluxDB 服务器是否已启动。</p><p class="tableblock" translation-origin="off">Checks that an InfluxDB server is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/jms/JmsHealthIndicator.java"><code>JmsHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 JMS 代理是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a JMS broker is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ldap</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/ldap/LdapHealthIndicator.java"><code>LdapHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 LDAP 服务器是否已启动。</p><p class="tableblock" translation-origin="off">Checks that an LDAP server is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mail</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mail/MailHealthIndicator.java"><code>MailHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查邮件服务器是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a mail server is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mongo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mongo/MongoHealthIndicator.java"><code>MongoHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Mongo 数据库是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Mongo database is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>neo4j</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/neo4j/Neo4jHealthIndicator.java"><code>Neo4jHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Neo4j 数据库是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Neo4j database is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/PingHealthIndicator.java"><code>PingHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">始终以 <code>UP</code> 响应。</p><p class="tableblock" translation-origin="off">Always responds with <code>UP</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rabbit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/amqp/RabbitHealthIndicator.java"><code>RabbitHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Rabbit 服务器是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Rabbit server is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>redis</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/redis/RedisHealthIndicator.java"><code>RedisHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Redis 服务器是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Redis server is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/solr/SolrHealthIndicator.java"><code>SolrHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Solr 服务器是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Solr server is up.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">你可以通过设置 <code>management.health.defaults.enabled</code> 属性来禁用它们。</p>
<p translation-origin="off">You can disable them all by setting the <code>management.health.defaults.enabled</code> property.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">其他 <code>HealthIndicators</code> 可用，但默认情况下未启用：</p>
<p translation-origin="off">Additional <code>HealthIndicators</code> are available but are not enabled by default:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 23.0769%;">
<col style="width: 30.7692%;">
<col style="width: 46.1539%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">钥匙</p>
  <p translation-origin="off">Key</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">名称</p>
  <p translation-origin="off">Name</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>livenessstate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/availability/LivenessStateHealthIndicator.java"><code>LivenessStateHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">公开“Liveness”应用程序可用性状态。</p><p class="tableblock" translation-origin="off">Exposes the “Liveness” application availability state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>readinessstate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/availability/ReadinessStateHealthIndicator.java"><code>ReadinessStateHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">公开“就绪”应用程序可用性状态。</p><p class="tableblock" translation-origin="off">Exposes the “Readiness” application availability state.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.health.writing-custom-health-indicators" translation-result="on"><a href="actuator.html#actuator.endpoints.health.writing-custom-health-indicators"></a>2.8.2. 编写自定义健康度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.health.writing-custom-health-indicators"></a>2.8.2. Writing Custom HealthIndicators</h4>
<div class="paragraph">
<p translation-result="on">要提供自定义健康信息，你可以注册实现<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthIndicator.java"><code>HealthIndicator</code></a>接口的 Spring bean。你需要提供 <code>health()</code> 方法的实现并返回 <code>Health</code> 响应。<code>Health</code> 响应应包含状态，并且可以选择包含要显示的其他详细信息。以下代码显示了一个示例 <code>HealthIndicator</code> 实现：</p>
<p translation-origin="off">To provide custom health information, you can register Spring beans that implement the <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthIndicator.java"><code>HealthIndicator</code></a> interface.
You need to provide an implementation of the <code>health()</code> method and return a <code>Health</code> response.
The <code>Health</code> response should include a status and can optionally include additional details to be displayed.
The following code shows a sample <code>HealthIndicator</code> implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import org.springframework.boot.actuate.health.Health;
import org.springframework.boot.actuate.health.HealthIndicator;
import org.springframework.stereotype.Component;

</span><span class="fold-block">@Component
public class MyHealthIndicator implements HealthIndicator {

    @Override
    public Health health() {
        int errorCode = check();
        if (errorCode != 0) {
            return Health.down().withDetail("Error Code", errorCode).build();
        }
        return Health.up().build();
    }

    private int check() {
        // perform some specific health check
        return ...
    }

}
</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">给定 <code>HealthIndicator</code> 的标识符是不带 <code>HealthIndicator</code> 后缀的 bean 的名称（如果存在）。在前面的示例中，健康信息位于名为 <code>my</code> 的条目中。</p>
<p translation-origin="off">The identifier for a given <code>HealthIndicator</code> is the name of the bean without the <code>HealthIndicator</code> suffix, if it exists.
In the preceding example, the health information is available in an entry named <code>my</code>.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">除了 Spring Boot 预定义的<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/Status.java"><code>Status</code></a>类型之外，<code>Health</code> 还可以返回一个自定义的 <code>Status</code> 来表示一个新的系统状态。在这种情况下，你还需要提供<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/StatusAggregator.java"><code>StatusAggregator</code></a>接口的自定义实现，或者你必须使用 <code>management.endpoint.health.status.order</code> 配置属性来配置默认实现。</p>
<p translation-origin="off">In addition to Spring Boot’s predefined <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/Status.java"><code>Status</code></a> types, <code>Health</code> can return a custom <code>Status</code> that represents a new system state.
In such cases, you also need to provide a custom implementation of the <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/StatusAggregator.java"><code>StatusAggregator</code></a> interface, or you must configure the default implementation by using the <code>management.endpoint.health.status.order</code> configuration property.</p>
</div>
<div class="paragraph">
<p translation-result="on">例如，假设在你的一个 <code>HealthIndicator</code> 实现中使用了代码为 <code>FATAL</code> 的新 <code>Status</code> 。要配置严重性顺序，请将以下属性添加到你的应用程序属性中：</p>
<p translation-origin="off">For example, assume a new <code>Status</code> with a code of <code>FATAL</code> is being used in one of your <code>HealthIndicator</code> implementations.
To configure the severity order, add the following property to your application properties:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.health.status.order=fatal,down,out-of-service,unknown,up</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoint:
    health:
      status:
        order: "fatal,down,out-of-service,unknown,up"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">响应中的 HTTP 状态代码反映了整体健康状况。默认情况下，<code>OUT_OF_SERVICE</code> 和 <code>DOWN</code> 映射到 503。任何未映射的健康状态，包括 <code>UP</code> ，都映射到 200。如果你通过 HTTP 访问健康端点，你可能还需要注册自定义状态映射。配置自定义映射会禁用 <code>DOWN</code> 和 <code>OUT_OF_SERVICE</code> 的默认映射。如果要保留默认映射，则必须显式配置它们以及任何自定义映射。例如，以下属性将 <code>FATAL</code> 映射到 503（服务不可用）并保留 <code>DOWN</code> 和 <code>OUT_OF_SERVICE</code> 的默认映射：</p>
<p translation-origin="off">The HTTP status code in the response reflects the overall health status.
By default, <code>OUT_OF_SERVICE</code> and <code>DOWN</code> map to 503.
Any unmapped health statuses, including <code>UP</code>, map to 200.
You might also want to register custom status mappings if you access the health endpoint over HTTP.
Configuring a custom mapping disables the defaults mappings for <code>DOWN</code> and <code>OUT_OF_SERVICE</code>.
If you want to retain the default mappings, you must explicitly configure them, alongside any custom mappings.
For example, the following property maps <code>FATAL</code> to 503 (service unavailable) and retains the default mappings for <code>DOWN</code> and <code>OUT_OF_SERVICE</code>:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.health.status.http-mapping.down=503
management.endpoint.health.status.http-mapping.fatal=503
management.endpoint.health.status.http-mapping.out-of-service=503</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoint:
    health:
      status:
        http-mapping:
          down: 503
          fatal: 503
          out-of-service: 503</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">如果需要更多控制，可以定义自己的 <code>HttpCodeStatusMapper</code> bean。</p>
<p translation-origin="off">If you need more control, you can define your own <code>HttpCodeStatusMapper</code> bean.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">下表显示了内置状态的默认状态映射：</p>
<p translation-origin="off">The following table shows the default status mappings for the built-in statuses:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">地位</p>
  <p translation-origin="off">Status</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">映射</p>
  <p translation-origin="off">Mapping</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on"><code>SERVICE_UNAVAILABLE</code> （ <code>503</code> ）</p><p class="tableblock" translation-origin="off"><code>SERVICE_UNAVAILABLE</code> (<code>503</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OUT_OF_SERVICE</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on"><code>SERVICE_UNAVAILABLE</code> （ <code>503</code> ）</p><p class="tableblock" translation-origin="off"><code>SERVICE_UNAVAILABLE</code> (<code>503</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UP</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">默认没有映射，所以 HTTP 状态是 <code>200</code></p><p class="tableblock" translation-origin="off">No mapping by default, so HTTP status is <code>200</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UNKNOWN</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">默认没有映射，所以 HTTP 状态是 <code>200</code></p><p class="tableblock" translation-origin="off">No mapping by default, so HTTP status is <code>200</code> </p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.health.reactive-health-indicators" translation-result="on"><a href="actuator.html#actuator.endpoints.health.reactive-health-indicators"></a>2.8.3. 反应性健康度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.health.reactive-health-indicators"></a>2.8.3. Reactive Health Indicators</h4>
<div class="paragraph">
<p translation-result="on">对于响应式应用程序，例如使用 Spring WebFlux 的应用程序，<code>ReactiveHealthContributor</code> 提供了一个非阻塞式合约来获取应用程序运行状况。与传统的 <code>HealthContributor</code> 类似，健康信息是从<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthContributorRegistry.java"><code>ReactiveHealthContributorRegistry</code></a>的内容中收集的（默认情况下，所有<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthContributor.java"><code>HealthContributor</code></a>和<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthContributor.java"><code>ReactiveHealthContributor</code></a>实例都定义在 <code>ApplicationContext</code> 中）。不检查响应式 API 的常规 <code>HealthContributors</code> 在弹性调度程序上执行。</p>
<p translation-origin="off">For reactive applications, such as those that use Spring WebFlux, <code>ReactiveHealthContributor</code> provides a non-blocking contract for getting application health.
Similar to a traditional <code>HealthContributor</code>, health information is collected from the content of a <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthContributorRegistry.java"><code>ReactiveHealthContributorRegistry</code></a> (by default, all <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthContributor.java"><code>HealthContributor</code></a> and <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthContributor.java"><code>ReactiveHealthContributor</code></a> instances defined in your <code>ApplicationContext</code>).
Regular <code>HealthContributors</code> that do not check against a reactive API are executed on the elastic scheduler.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">在响应式应用程序中，你应该使用 <code>ReactiveHealthContributorRegistry</code> 在运行时注册和取消注册健康度量。如果你需要注册一个普通的 <code>HealthContributor</code> ，你应该用 <code>ReactiveHealthContributor#adapt</code> 包装它。</p>
<p translation-origin="off">In a reactive application, you should use the <code>ReactiveHealthContributorRegistry</code> to register and unregister health indicators at runtime.
If you need to register a regular <code>HealthContributor</code>, you should wrap it with <code>ReactiveHealthContributor#adapt</code>.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">要从响应式 API 提供自定义健康信息，你可以注册实现<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthIndicator.java"><code>ReactiveHealthIndicator</code></a>接口的 Spring bean。以下代码显示了一个示例 <code>ReactiveHealthIndicator</code> 实现：</p>
<p translation-origin="off">To provide custom health information from a reactive API, you can register Spring beans that implement the <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthIndicator.java"><code>ReactiveHealthIndicator</code></a> interface.
The following code shows a sample <code>ReactiveHealthIndicator</code> implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import reactor.core.publisher.Mono;

import org.springframework.boot.actuate.health.Health;
import org.springframework.boot.actuate.health.ReactiveHealthIndicator;
import org.springframework.stereotype.Component;

</span><span class="fold-block">@Component
public class MyReactiveHealthIndicator implements ReactiveHealthIndicator {

    @Override
    public Mono&lt;Health&gt; health() {
        return doHealthCheck().onErrorResume((exception) -&gt;
            Mono.just(new Health.Builder().down(exception).build()));
    }

    private Mono&lt;Health&gt; doHealthCheck() {
        // perform some specific health check
        return ...
    }

}
</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">要自动处理错误，请考虑从 <code>AbstractReactiveHealthIndicator</code> 扩展。</p>
<p translation-origin="off">To handle the error automatically, consider extending from <code>AbstractReactiveHealthIndicator</code>.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.health.auto-configured-reactive-health-indicators" translation-result="on"><a href="actuator.html#actuator.endpoints.health.auto-configured-reactive-health-indicators"></a> 2.8.4. 自动配置的 ReactiveHealthIndicators</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.health.auto-configured-reactive-health-indicators"></a>2.8.4. Auto-configured ReactiveHealthIndicators</h4>
<div class="paragraph">
<p translation-result="on">在适当的时候，Spring Boot 会自动配置以下 <code>ReactiveHealthIndicators</code> ：</p>
<p translation-origin="off">When appropriate, Spring Boot auto-configures the following <code>ReactiveHealthIndicators</code>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">钥匙</p>
  <p translation-origin="off">Key</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">名称</p>
  <p translation-origin="off">Name</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cassandra</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/cassandra/CassandraDriverReactiveHealthIndicator.java"><code>CassandraDriverReactiveHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Cassandra 数据库是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Cassandra database is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>couchbase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/couchbase/CouchbaseReactiveHealthIndicator.java"><code>CouchbaseReactiveHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Couchbase 集群是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Couchbase cluster is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>elasticsearch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/elasticsearch/ElasticsearchReactiveHealthIndicator.java"><code>ElasticsearchReactiveHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Elasticsearch 集群是否已启动。</p><p class="tableblock" translation-origin="off">Checks that an Elasticsearch cluster is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mongo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mongo/MongoReactiveHealthIndicator.java"><code>MongoReactiveHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Mongo 数据库是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Mongo database is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>neo4j</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/neo4j/Neo4jReactiveHealthIndicator.java"><code>Neo4jReactiveHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Neo4j 数据库是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Neo4j database is up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>redis</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/redis/RedisReactiveHealthIndicator.java"><code>RedisReactiveHealthIndicator</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">检查 Redis 服务器是否已启动。</p><p class="tableblock" translation-origin="off">Checks that a Redis server is up.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">如有必要，反应度量会取代常规度量。此外，任何未明确处理的 <code>HealthIndicator</code> 都会自动包装。</p>
<p translation-origin="off">If necessary, reactive indicators replace the regular ones.
Also, any <code>HealthIndicator</code> that is not handled explicitly is wrapped automatically.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.health.groups" translation-result="on"><a href="actuator.html#actuator.endpoints.health.groups"></a>2.8.5. 健康团体</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.health.groups"></a>2.8.5. Health Groups</h4>
<div class="paragraph">
<p translation-result="on">有时将健康度量组织成可用于不同目的的组很有用。</p>
<p translation-origin="off">It is sometimes useful to organize health indicators into groups that you can use for different purposes.</p>
</div>
<div class="paragraph">
<p translation-result="on">要创建健康度量组，你可以用 <code>management.endpoint.health.group.&lt;name&gt;</code> 属性并指定要 <code>include</code> 或 <code>exclude</code> 的健康度量 ID 列表。例如，要创建仅包含数据库度量的组，你可以定义以下内容：</p>
<p translation-origin="off">To create a health indicator group, you can use the <code>management.endpoint.health.group.&lt;name&gt;</code> property and specify a list of health indicator IDs to <code>include</code> or <code>exclude</code>.
For example, to create a group that includes only database indicators you can define the following:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.health.group.custom.include=db</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoint:
    health:
      group:
        custom:
          include: "db"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">然后，你可以通过点击 <code>localhost:8080/actuator/health/custom</code> 检查结果。</p>
<p translation-origin="off">You can then check the result by hitting <code><a href="http://localhost:8080/actuator/health/custom" class="bare">localhost:8080/actuator/health/custom</a></code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">同样，要创建一个从组中排除数据库度量并包含所有其他度量的组，你可以定义以下内容：</p>
<p translation-origin="off">Similarly, to create a group that excludes the database indicators from the group and includes all the other indicators, you can define the following:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.health.group.custom.exclude=db</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoint:
    health:
      group:
        custom:
          exclude: "db"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，组继承与系统运行状况相同的 <code>StatusAggregator</code> 和 <code>HttpCodeStatusMapper</code> 设置。但是，你也可以在每个组的基础上定义这些。如果需要，你还可以覆盖 <code>show-details</code> 和 <code>roles</code> 属性：</p>
<p translation-origin="off">By default, groups inherit the same <code>StatusAggregator</code> and <code>HttpCodeStatusMapper</code> settings as the system health.
However, you can also define these on a per-group basis.
You can also override the <code>show-details</code> and <code>roles</code> properties if required:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.health.group.custom.show-details=when-authorized
management.endpoint.health.group.custom.roles=admin
management.endpoint.health.group.custom.status.order=fatal,up
management.endpoint.health.group.custom.status.http-mapping.fatal=500
management.endpoint.health.group.custom.status.http-mapping.out-of-service=500</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoint:
    health:
      group:
        custom:
          show-details: "when-authorized"
          roles: "admin"
          status:
            order: "fatal,up"
            http-mapping:
              fatal: 500
              out-of-service: 500</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">如果你需要注册自定义 <code>StatusAggregator</code> 或 <code>HttpCodeStatusMapper</code> bean 以用于组，则可以用 <code>@Qualifier("groupname")</code> 。</p>
<p translation-origin="off">You can use <code>@Qualifier("groupname")</code> if you need to register custom <code>StatusAggregator</code> or <code>HttpCodeStatusMapper</code> beans for use with the group.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">健康组还可以包含/排除 <code>CompositeHealthContributor</code> 。你还可以仅包含/排除 <code>CompositeHealthContributor</code> 的某个组件。这可以用组件的完全限定名称来完成，如下所示：</p>
<p translation-origin="off">A health group can also include/exclude a <code>CompositeHealthContributor</code>.
You can also include/exclude only a certain component of a <code>CompositeHealthContributor</code>.
This can be done using the fully qualified name of the component as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.health.group.custom.include="test/primary"
management.endpoint.health.group.custom.exclude="test/primary/b"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">在上面的示例中，<code>custom</code> 组将包含名为 <code>primary</code> 的 <code>HealthContributor</code> ，它是复合 <code>test</code> 的一个组件。在这里，<code>primary</code> 本身是一个组合，名称为 <code>b</code> 的 <code>HealthContributor</code> 将被排除在 <code>custom</code> 组之外。</p>
<p translation-origin="off">In the example above, the <code>custom</code> group will include the <code>HealthContributor</code> with the name <code>primary</code> which is a component of the composite <code>test</code>.
Here, <code>primary</code> itself is a composite and the <code>HealthContributor</code> with the name <code>b</code> will be excluded from the <code>custom</code> group.</p>
</div>
<div class="paragraph">
<p translation-result="on">可以在主端口或管理端口上的附加路径上提供运行状况组。这在 Kubernetes 等云环境中很有用，在这些环境中，出于安全目的，为执行器端点使用单独的管理端口是很常见的。拥有一个单独的端口可能会导致不可靠的健康检查，因为即使健康检查成功，主应用程序也可能无法正常工作。可以为健康组配置额外的路径，如下所示：</p>
<p translation-origin="off">Health groups can be made available at an additional path on either the main or management port.
This is useful in cloud environments such as Kubernetes, where it is quite common to use a separate management port for the actuator endpoints for security purposes.
Having a separate port could lead to unreliable health checks because the main application might not work properly even if the health check is successful.
The health group can be configured with an additional path as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.health.group.live.additional-path="server:/healthz"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">这将使 <code>live</code> 健康组在 <code>/healthz</code> 的主服务器端口上可用。前缀是强制性的，必须是 <code>server:</code> 表示主服务器端口）或 <code>management:</code> 表示管理端口，如果已配置）。路径必须是单个路径段。</p>
<p translation-origin="off">This would make the <code>live</code> health group available on the main server port at <code>/healthz</code>.
The prefix is mandatory and must be either <code>server:</code> (represents the main server port) or <code>management:</code> (represents the management port, if configured.)
The path must be a single path segment.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.health.datasource" translation-result="on"><a href="actuator.html#actuator.endpoints.health.datasource"></a>2.8.6. 数据源运行状况</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.health.datasource"></a>2.8.6. DataSource Health</h4>
<div class="paragraph">
<p translation-result="on"><code>DataSource</code> 运行状况指示器显示标准数据源和路由数据源 bean 的运行状况。路由数据源的健康状况包括其每个目标数据源的健康状况。在健康端点的响应中，每个路由数据源的目标都使用其路由键命名。如果你不想在度量的输出中包含路由数据源，请将 <code>management.health.db.ignore-routing-data-sources</code> 设置为 <code>true</code> 。</p>
<p translation-origin="off">The <code>DataSource</code> health indicator shows the health of both standard data sources and routing data source beans.
The health of a routing data source includes the health of each of its target data sources.
In the health endpoint’s response, each of a routing data source’s targets is named by using its routing key.
If you prefer not to include routing data sources in the indicator’s output, set <code>management.health.db.ignore-routing-data-sources</code> to <code>true</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.endpoints.kubernetes-probes" translation-result="on"><a href="actuator.html#actuator.endpoints.kubernetes-probes"></a>2.9. Kubernetes 探针</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.kubernetes-probes"></a>2.9. Kubernetes Probes</h3>
<div class="paragraph">
<p translation-result="on">部署在 Kubernetes 上的应用程序可以通过 <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes">Container Probes</a> 提供有关其内部状态的信息。根据<a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">你的 Kubernetes 配置</a>，kubelet 会调用这些探测器并对结果做出反应。</p>
<p translation-origin="off">Applications deployed on Kubernetes can provide information about their internal state with <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes">Container Probes</a>.
Depending on <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">your Kubernetes configuration</a>, the kubelet calls those probes and reacts to the result.</p>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，Spring Boot 管理你的<a href="features.html#features.spring-application.application-availability">应用程序可用性状态</a>。如果部署在 Kubernetes 环境中，actuator 从 <code>ApplicationAvailability</code> 接口收集“Liveness”和“Readiness”信息，并将该信息用于专用<a href="actuator.html#actuator.endpoints.health.auto-configured-health-indicators">健康度量</a>： <code>LivenessStateHealthIndicator</code> 和 <code>ReadinessStateHealthIndicator</code> 。这些度量显示在全局健康端点（ <code>"/actuator/health"</code> ）上。它们还通过使用<a href="actuator.html#actuator.endpoints.health.groups">健康组</a>作为单独的 HTTP 探测器公开： <code>"/actuator/health/liveness"</code> 和 <code>"/actuator/health/readiness"</code> 。</p>
<p translation-origin="off">By default, Spring Boot manages your <a href="features.html#features.spring-application.application-availability">Application Availability State</a>.
If deployed in a Kubernetes environment, actuator gathers the “Liveness” and “Readiness” information from the <code>ApplicationAvailability</code> interface and uses that information in dedicated <a href="actuator.html#actuator.endpoints.health.auto-configured-health-indicators">health indicators</a>: <code>LivenessStateHealthIndicator</code> and <code>ReadinessStateHealthIndicator</code>.
These indicators are shown on the global health endpoint (<code>"/actuator/health"</code>).
They are also exposed as separate HTTP Probes by using <a href="actuator.html#actuator.endpoints.health.groups">health groups</a>: <code>"/actuator/health/liveness"</code> and <code>"/actuator/health/readiness"</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">然后，你可以用以下端点信息配置 Kubernetes 基础架构：</p>
<p translation-origin="off">You can then configure your Kubernetes infrastructure with the following endpoint information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">livenessProbe:
  httpGet:
    path: "/actuator/health/liveness"
    port: &lt;actuator-port&gt;
  failureThreshold: ...
  periodSeconds: ...

readinessProbe:
  httpGet:
    path: "/actuator/health/readiness"
    port: &lt;actuator-port&gt;
  failureThreshold: ...
  periodSeconds: ...</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on"><code>&lt;actuator-port&gt;</code> 应设置为执行器端点可用的端口。如果设置了 <code>"management.server.port"</code> 属性，它可能是主 Web 服务器端口或单独的管理端口。</p>
<p translation-origin="off"><code>&lt;actuator-port&gt;</code> should be set to the port that the actuator endpoints are available on.
It could be the main web server port or a separate management port if the <code>"management.server.port"</code> property has been set.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">只有当应用程序<a href="deployment.html#deployment.cloud.kubernetes">在 Kubernetes 环境中运行时，</a>这些健康组才会自动启用。你可以用 <code>management.endpoint.health.probes.enabled</code> 配置属性在任何环境中启用它们。</p>
<p translation-origin="off">These health groups are automatically enabled only if the application <a href="deployment.html#deployment.cloud.kubernetes">runs in a Kubernetes environment</a>.
You can enable them in any environment by using the <code>management.endpoint.health.probes.enabled</code> configuration property.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">如果应用程序的启动时间比配置的活动周期长，Kubernetes 会提到 <code>"startupProbe"</code> 作为可能的解决方案。这里不一定需要 <code>"startupProbe"</code> ，因为 <code>"readinessProbe"</code> 在所有启动任务完成之前都会失败。请参阅描述<a href="actuator.html#actuator.endpoints.kubernetes-probes.lifecycle">探针在应用程序生命周期中的行为方式</a>的部分。</p>
<p translation-origin="off">If an application takes longer to start than the configured liveness period, Kubernetes mentions the <code>"startupProbe"</code> as a possible solution.
The <code>"startupProbe"</code> is not necessarily needed here, as the <code>"readinessProbe"</code> fails until all startup tasks are done. See the section that describes <a href="actuator.html#actuator.endpoints.kubernetes-probes.lifecycle">how probes behave during the application lifecycle</a>.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">如果你的 Actuator 端点部署在单独的管理上下文中，则端点不会使用与主应用程序相同的 Web 基础设施（端口、连接池、框架组件）。在这种情况下，即使主应用程序无法正常工作（例如，它不能接受新连接），探测检查也可能会成功。出于这个原因，让 <code>liveness</code> 和 <code>readiness</code> 健康组在主服务器端口上可用是一个好主意。这可以通过设置以下属性来完成：</p>
<p translation-origin="off">If your Actuator endpoints are deployed on a separate management context, the endpoints do not use the same web infrastructure (port, connection pools, framework components) as the main application.
In this case, a probe check could be successful even if the main application does not work properly (for example, it cannot accept new connections).
For this reason, is it a good idea to make the <code>liveness</code> and <code>readiness</code> health groups available on the main server port.
This can be done by setting the following property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.health.probes.add-additional-paths=true</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">这将使 <code>/livez</code> 上的 <code>liveness</code> 可用，主服务器端口上的 <code>readyz</code> 上的 <code>readiness</code> 可用。</p>
<p translation-origin="off">This would make <code>liveness</code> available at <code>/livez</code> and <code>readiness</code> at <code>readyz</code> on the main server port.</p>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.kubernetes-probes.external-state" translation-result="on"><a href="actuator.html#actuator.endpoints.kubernetes-probes.external-state"></a>2.9.1. 使用 Kubernetes 探针检查外部状态</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.kubernetes-probes.external-state"></a>2.9.1. Checking External State with Kubernetes Probes</h4>
<div class="paragraph">
<p translation-result="on">Actuator 将“liveness”和“readiness”探针配置为 Health Groups。这意味着他们可以用所有<a href="actuator.html#actuator.endpoints.health.groups">健康组功能</a>。例如，你可以配置其他运行状况度量：</p>
<p translation-origin="off">Actuator configures the “liveness” and “readiness” probes as Health Groups.
This means that all the <a href="actuator.html#actuator.endpoints.health.groups">health groups features</a> are available for them.
You can, for example, configure additional Health Indicators:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.health.group.readiness.include=readinessState,customCheck</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoint:
    health:
      group:
        readiness:
          include: "readinessState,customCheck"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，Spring Boot 不会向这些组添加其他健康度量。</p>
<p translation-origin="off">By default, Spring Boot does not add other health indicators to these groups.</p>
</div>
<div class="paragraph">
<p translation-result="on">“活跃度”探测不应依赖于外部系统的健康检查。如果<a href="features.html#features.spring-application.application-availability.liveness">应用程序的活跃状态</a>被破坏，Kubernetes 会尝试通过重新启动应用程序实例来解决该问题。这意味着如果外部系统（例如数据库、Web API 或外部缓存）发生故障，Kubernetes 可能会重新启动所有应用程序实例并产生级联故障。</p>
<p translation-origin="off">The “liveness” probe should not depend on health checks for external systems.
If the <a href="features.html#features.spring-application.application-availability.liveness">liveness state of an application</a> is broken, Kubernetes tries to solve that problem by restarting the application instance.
This means that if an external system (such as a database, a Web API, or an external cache) fails, Kubernetes might restart all application instances and create cascading failures.</p>
</div>
<div class="paragraph">
<p translation-result="on">至于“就绪”探测，应用程序开发人员必须仔细选择检查外部系统。出于这个原因，Spring Boot 在就绪探测中不包括任何额外的健康检查。如果<a href="features.html#features.spring-application.application-availability.readiness">应用程序实例的就绪状态</a>未就绪，Kubernetes 不会将流量路由到该实例。某些外部系统可能不被应用程序实例共享，在这种情况下，它们可以包含在就绪探测中。其他外部系统可能对应用程序不是必需的（应用程序可能有断路器和回退），在这种情况下，它们绝对不应该包括在内。不幸的是，所有应用程序实例共享的外部系统很常见，你必须做出判断：将其包含在就绪探针中，并期望应用程序在外部服务关闭时停止服务或将其排除在外并处理堆栈更高的故障，也许通过在调用者中使用断路器。</p>
<p translation-origin="off">As for the “readiness” probe, the choice of checking external systems must be made carefully by the application developers.
For this reason, Spring Boot does not include any additional health checks in the readiness probe.
If the <a href="features.html#features.spring-application.application-availability.readiness">readiness state of an application instance</a> is unready, Kubernetes does not route traffic to that instance.
Some external systems might not be shared by application instances, in which case they could be included in a readiness probe.
Other external systems might not be essential to the application (the application could have circuit breakers and fallbacks), in which case they definitely should not be included.
Unfortunately, an external system that is shared by all application instances is common, and you have to make a judgement call: Include it in the readiness probe and expect that the application is taken out of service when the external service is down or leave it out and deal with failures higher up the stack, perhaps by using a circuit breaker in the caller.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">如果应用程序的所有实例都未就绪，则 <code>type=ClusterIP</code> 或 <code>NodePort</code> 的 Kubernetes 服务不接受任何传入连接。没有 HTTP 错误响应（503 等），因为没有连接。<code>type=LoadBalancer</code> 的服务可能会也可能不会接受连接，具体取决于提供者。具有显式<a href="https://kubernetes.io/docs/concepts/services-networking/ingress/">入口</a>的服务也会以取决于实现的方式响应——入口服务本身必须决定如何处理来自下游的“连接被拒绝”。在负载均衡器和入口的情况下，很可能出现 HTTP 503。</p>
<p translation-origin="off">If all instances of an application are unready, a Kubernetes Service with <code>type=ClusterIP</code> or <code>NodePort</code> does not accept any incoming connections.
There is no HTTP error response (503 and so on), since there is no connection.
A service with <code>type=LoadBalancer</code> might or might not accept connections, depending on the provider.
A service that has an explicit <a href="https://kubernetes.io/docs/concepts/services-networking/ingress/">ingress</a> also responds in a way that depends on the implementation — the ingress service itself has to decide how to handle the “connection refused” from downstream.
HTTP 503 is quite likely in the case of both load balancer and ingress.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">此外，如果应用程序使用 Kubernetes<a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/">自动缩放</a>，它可能会对从负载均衡器中取出的应用程序做出不同的反应，具体取决于其自动缩放器配置。</p>
<p translation-origin="off">Also, if an application uses Kubernetes <a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/">autoscaling</a>, it may react differently to applications being taken out of the load-balancer, depending on its autoscaler configuration.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.kubernetes-probes.lifecycle" translation-result="on"><a href="actuator.html#actuator.endpoints.kubernetes-probes.lifecycle"></a>2.9.2. 应用程序生命周期和探测状态</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.kubernetes-probes.lifecycle"></a>2.9.2. Application Lifecycle and Probe States</h4>
<div class="paragraph">
<p translation-result="on">Kubernetes Probes 支持的一个重要方面是它与应用程序生命周期的一致性。<code>AvailabilityState</code> 状态（即应用程序的内存内部状态）和实际探测（暴露该状态）之间存在显着差异。根据应用程序生命周期的阶段，探针可能不可用。</p>
<p translation-origin="off">An important aspect of the Kubernetes Probes support is its consistency with the application lifecycle.
There is a significant difference between the <code>AvailabilityState</code> (which is the in-memory, internal state of the application)
and the actual probe (which exposes that state).
Depending on the phase of application lifecycle, the probe might not be available.</p>
</div>
<div class="paragraph">
<p translation-result="on">Spring Boot<a href="features.html#features.spring-application.application-events-and-listeners">在启动和关闭期间发布应用程序事件</a>，探针可以监听此类事件并公开 <code>AvailabilityState</code> 信息。</p>
<p translation-origin="off">Spring Boot publishes <a href="features.html#features.spring-application.application-events-and-listeners">application events during startup and shutdown</a>,
and probes can listen to such events and expose the <code>AvailabilityState</code> information.</p>
</div>
<div class="paragraph">
<p translation-result="on">下表显示了不同阶段的 <code>AvailabilityState</code> 状态和 HTTP 连接器的状态。</p>
<p translation-origin="off">The following tables show the <code>AvailabilityState</code> and the state of HTTP connectors at different stages.</p>
</div>
<div class="paragraph">
<p translation-result="on">当 Spring Boot 应用程序启动时：</p>
<p translation-origin="off">When a Spring Boot application starts:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 21.4285%;">
<col style="width: 35.7144%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">启动阶段</p>
  <p translation-origin="off">Startup phase</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">活跃状态</p>
  <p translation-origin="off">LivenessState</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">就绪状态</p>
  <p translation-origin="off">ReadinessState</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">HTTP 服务器</p>
  <p translation-origin="off">HTTP server</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">笔记</p>
  <p translation-origin="off">Notes</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p translation-result="on">开始</p><p class="tableblock" translation-origin="off">Starting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BROKEN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REFUSING_TRAFFIC</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">没有开始</p><p class="tableblock" translation-origin="off">Not started</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">Kubernetes 检查“活跃度”Probe，如果时间过长则重新启动应用程序。</p><p class="tableblock" translation-origin="off">Kubernetes checks the "liveness" Probe and restarts the application if it takes too long.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p translation-result="on">开始</p><p class="tableblock" translation-origin="off">Started</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CORRECT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REFUSING_TRAFFIC</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">拒绝请求</p><p class="tableblock" translation-origin="off">Refuses requests</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">应用程序上下文被刷新。应用程序执行启动任务，但尚未接收流量。</p><p class="tableblock" translation-origin="off">The application context is refreshed. The application performs startup tasks and does not receive traffic yet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p translation-result="on">准备好</p><p class="tableblock" translation-origin="off">Ready</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CORRECT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ACCEPTING_TRAFFIC</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">接受请求</p><p class="tableblock" translation-origin="off">Accepts requests</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">启动任务完成。应用程序正在接收流量。</p><p class="tableblock" translation-origin="off">Startup tasks are finished. The application is receiving traffic.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">当 Spring Boot 应用程序关闭时：</p>
<p translation-origin="off">When a Spring Boot application shuts down:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 21.4285%;">
<col style="width: 35.7144%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">关机阶段</p>
  <p translation-origin="off">Shutdown phase</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">活跃状态</p>
  <p translation-origin="off">Liveness State</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">准备状态</p>
  <p translation-origin="off">Readiness State</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">HTTP 服务器</p>
  <p translation-origin="off">HTTP server</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">笔记</p>
  <p translation-origin="off">Notes</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p translation-result="on">跑步</p><p class="tableblock" translation-origin="off">Running</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CORRECT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ACCEPTING_TRAFFIC</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">接受请求</p><p class="tableblock" translation-origin="off">Accepts requests</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">已请求关机。</p><p class="tableblock" translation-origin="off">Shutdown has been requested.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p translation-result="on">优雅关机</p><p class="tableblock" translation-origin="off">Graceful shutdown</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CORRECT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REFUSING_TRAFFIC</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">新请求被拒绝</p><p class="tableblock" translation-origin="off">New requests are rejected</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">如果启用，<a href="web.html#web.graceful-shutdown">正常关闭处理正在进行的请求</a>。</p><p class="tableblock" translation-origin="off">If enabled, <a href="web.html#web.graceful-shutdown">graceful shutdown processes in-flight requests</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p translation-result="on">关机完成</p><p class="tableblock" translation-origin="off">Shutdown complete</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不适用</p><p class="tableblock" translation-origin="off">N/A</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">不适用</p><p class="tableblock" translation-origin="off">N/A</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">服务器已关闭</p><p class="tableblock" translation-origin="off">Server is shut down</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">应用程序上下文关闭，应用程序关闭。</p><p class="tableblock" translation-origin="off">The application context is closed and the application is shut down.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">有关 Kubernetes 部署的更多信息，请参阅 <a href="deployment.html#deployment.cloud.kubernetes.container-lifecycle">Kubernetes 容器生命周期部分</a>。</p>
<p translation-origin="off">See <a href="deployment.html#deployment.cloud.kubernetes.container-lifecycle">Kubernetes container lifecycle section</a> for more information about Kubernetes deployment.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.endpoints.info" translation-result="on"><a href="actuator.html#actuator.endpoints.info"></a>2.10. 应用信息</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.info"></a>2.10. Application Information</h3>
<div class="paragraph">
<p translation-result="on">应用程序信息公开了从 <code>ApplicationContext</code> 中定义的所有<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/InfoContributor.java"><code>InfoContributor</code></a> bean 收集的各种信息。Spring Boot 包含许多自动配置的 <code>InfoContributor</code> bean，你可以编写自己的。</p>
<p translation-origin="off">Application information exposes various information collected from all <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/InfoContributor.java"><code>InfoContributor</code></a> beans defined in your <code>ApplicationContext</code>.
Spring Boot includes a number of auto-configured <code>InfoContributor</code> beans, and you can write your own.</p>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.info.auto-configured-info-contributors" translation-result="on"><a href="actuator.html#actuator.endpoints.info.auto-configured-info-contributors"></a>2.10.1. 自动配置的 InfoContributors</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.info.auto-configured-info-contributors"></a>2.10.1. Auto-configured InfoContributors</h4>
<div class="paragraph">
<p translation-result="on">在适当的时候，Spring 会自动配置以下 <code>InfoContributor</code> bean：</p>
<p translation-origin="off">When appropriate, Spring auto-configures the following <code>InfoContributor</code> beans:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 23.5294%;">
<col style="width: 47.0588%;">
<col style="width: 23.5295%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p>ID</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">名称</p>
  <p translation-origin="off">Name</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">先决条件</p>
  <p translation-origin="off">Prerequisites</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>build</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/BuildInfoContributor.java"><code>BuildInfoContributor</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">公开构建信息。</p><p class="tableblock" translation-origin="off">Exposes build information.</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on"><code>META-INF/build-info.properties</code> 资源。</p><p class="tableblock" translation-origin="off">A <code>META-INF/build-info.properties</code> resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>env</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/EnvironmentInfoContributor.java"><code>EnvironmentInfoContributor</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">公开 <code>Environment</code> 中名称以 <code>info.</code> .</p><p class="tableblock" translation-origin="off">Exposes any property from the <code>Environment</code> whose name starts with <code>info.</code> .</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">没有任何。</p><p class="tableblock" translation-origin="off">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>git</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/GitInfoContributor.java"><code>GitInfoContributor</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">公开 git 信息。</p><p class="tableblock" translation-origin="off">Exposes git information.</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">一个 <code>git.properties</code> 资源。</p><p class="tableblock" translation-origin="off">A <code>git.properties</code> resource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/JavaInfoContributor.java"><code>JavaInfoContributor</code></a></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">公开 Java 运行时信息。</p><p class="tableblock" translation-origin="off">Exposes Java runtime information.</p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">没有任何。</p><p class="tableblock" translation-origin="off">None.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">单个贡献者是否启用由其 <code>management.info.&lt;id&gt;.enabled</code> 属性控制。不同的贡献者对此属性有不同的默认值，这取决于他们的先决条件和他们公开的信息的性质。</p>
<p translation-origin="off">Whether or not an individual contributor is enabled is controlled by its <code>management.info.&lt;id&gt;.enabled</code> property.
Different contributors have different defaults for this property, depending on their prerequisites and the nature of the information that they expose.</p>
</div>
<div class="paragraph">
<p translation-result="on">没有先决条件表明应该启用它们，默认情况下禁用 <code>env</code> 和 <code>java</code> 贡献者。你可以通过将 <code>management.info.env.enabled</code> 或 <code>management.info.java.enabled</code> 属性设置为 <code>true</code> 来启用它们。</p>
<p translation-origin="off">With no prerequisites to indicate that they should be enabled, the <code>env</code> and <code>java</code> contributors are disabled by default.
You can enable them by setting the <code>management.info.env.enabled</code> or <code>management.info.java.enabled</code> properties to <code>true</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on"><code>build</code> 和 <code>git</code> info 贡献者默认启用。每个都可以通过将 <code>management.info.&lt;id&gt;.enabled</code> 属性设置为 <code>false</code> 来禁用。或者，要禁用通常默认启用的每个贡献者，请将 <code>management.info.defaults.enabled</code> 属性设置为 <code>false</code> 。</p>
<p translation-origin="off">The <code>build</code> and <code>git</code> info contributors are enabled by default.
Each can be disabled by setting its <code>management.info.&lt;id&gt;.enabled</code> property to <code>false</code>.
Alternatively, to disable every contributor that is usually enabled by default, set the <code>management.info.defaults.enabled</code> property to <code>false</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.info.custom-application-information" translation-result="on"><a href="actuator.html#actuator.endpoints.info.custom-application-information"></a>2.10.2. 自定义应用程序信息</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.info.custom-application-information"></a>2.10.2. Custom Application Information</h4>
<div class="paragraph">
<p translation-result="on">启用 <code>env</code> 贡献者后，你可以通过设置 <code>info.*</code> Spring 属性来自定义 <code>info</code> 端点公开的数据。<code>info</code> 键下的所有 <code>Environment</code> 属性都会自动公开。例如，你可以将以下设置添加到 <code>application.properties</code> 文件中：</p>
<p translation-origin="off">When the <code>env</code> contributor is enabled, you can customize the data exposed by the <code>info</code> endpoint by setting <code>info.*</code> Spring properties.
All <code>Environment</code> properties under the <code>info</code> key are automatically exposed.
For example, you could add the following settings to your <code>application.properties</code> file:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">info.app.encoding=UTF-8
info.app.java.source=11
info.app.java.target=11</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">info:
  app:
    encoding: "UTF-8"
    java:
      source: "11"
      target: "11"</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<div class="paragraph">
<p translation-result="on">除了硬编码这些值，你还可以<a href="howto.html#howto.properties-and-configuration.expand-properties">在构建时扩展 info 属性</a>。</p>
<p translation-origin="off">Rather than hardcoding those values, you could also <a href="howto.html#howto.properties-and-configuration.expand-properties">expand info properties at build time</a>.</p>
</div>
<div class="paragraph">
<p translation-result="on">假设你使用 Maven，你可以将前面的示例重写如下：</p>
<p translation-origin="off">Assuming you use Maven, you could rewrite the preceding example as follows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties"><a href="https://docs.spring.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9ff6f1f9f0b1feefefb1faf1fcf0fbf6f1f8a2dfefedf0f5fafcebb1fdeaf6f3fbb1ecf0eaedfcfadaf1fcf0fbf6f1f8">[email&nbsp;protected]</a>@
<a href="https://docs.spring.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="99f0f7fff6b7f8e9e9b7f3f8eff8b7eaf6ecebfafca4d9f3f8eff8b7effcebeaf0f6f7">[email&nbsp;protected]</a>@
<a href="https://docs.spring.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7910171f16571809095713180f18570d180b1e1c0d443913180f18570f1c0b0a101617">[email&nbsp;protected]</a>@</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">info:
  app:
    encoding: "@<a href="https://docs.spring.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f080829f9a959384de9285999c94de839f85829395b59e939f94999e97b0">[email&nbsp;protected]</a>"
    java:
      source: "@<a href="https://docs.spring.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7d171c0b1c530b180f0e1412133d">[email&nbsp;protected]</a>"
      target: "@<a href="https://docs.spring.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0e646f786f20786b7c7d6761604e">[email&nbsp;protected]</a>"</code></pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.info.git-commit-information" translation-result="on"><a href="actuator.html#actuator.endpoints.info.git-commit-information"></a>2.10.3. Git 提交信息</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.info.git-commit-information"></a>2.10.3. Git Commit Information</h4>
<div class="paragraph">
<p translation-result="on"><code>info</code> 端点的另一个有用功能是它能够在项目构建时发布有关 <code>git</code> 源代码存储库状态的信息。如果 <code>GitProperties</code> bean 可用，你可以用 <code>info</code> 端点来公开这些属性。</p>
<p translation-origin="off">Another useful feature of the <code>info</code> endpoint is its ability to publish information about the state of your <code>git</code> source code repository when the project was built.
If a <code>GitProperties</code> bean is available, you can use the <code>info</code> endpoint to expose these properties.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">如果 <code>git.properties</code> 文件在类路径的根目录可用，则自动配置 <code>GitProperties</code> bean。请参阅“<a href="howto.html#howto.build.generate-git-info">如何生成 git 信息</a>”了解更多详细信息。</p>
<p translation-origin="off">A <code>GitProperties</code> bean is auto-configured if a <code>git.properties</code> file is available at the root of the classpath.
See "<a href="howto.html#howto.build.generate-git-info">how to generate git information</a>" for more detail.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，端点公开 <code>git.branch</code> 、 <code>git.commit.id</code> 和 <code>git.commit.time</code> 属性（如果存在）。如果你不希望端点响应中有任何这些属性，则需要将它们从 <code>git.properties</code> 文件中排除。如果要显示完整的 git 信息（即 <code>git.properties</code> 的完整内容），使用 <code>management.info.git.mode</code> 属性，如下：</p>
<p translation-origin="off">By default, the endpoint exposes <code>git.branch</code>, <code>git.commit.id</code>, and <code>git.commit.time</code> properties, if present.
If you do not want any of these properties in the endpoint response, they need to be excluded from the <code>git.properties</code> file.
If you want to display the full git information (that is, the full content of <code>git.properties</code>), use the <code>management.info.git.mode</code> property, as follows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.info.git.mode=full</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  info:
    git:
      mode: "full"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">要完全禁用来自 <code>info</code> 端点的 git 提交信息，请将 <code>management.info.git.enabled</code> 属性设置为 <code>false</code> ，如下所示：</p>
<p translation-origin="off">To disable the git commit information from the <code>info</code> endpoint completely, set the <code>management.info.git.enabled</code> property to <code>false</code>, as follows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.info.git.enabled=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  info:
    git:
      enabled: false</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.info.build-information" translation-result="on"><a href="actuator.html#actuator.endpoints.info.build-information"></a>2.10.4. 构建信息</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.info.build-information"></a>2.10.4. Build Information</h4>
<div class="paragraph">
<p translation-result="on">如果 <code>BuildProperties</code> bean 可用，则 <code>info</code> 端点还可以发布有关你的构建的信息。如果类路径中有 <code>META-INF/build-info.properties</code> 文件，则会发生这种情况。</p>
<p translation-origin="off">If a <code>BuildProperties</code> bean is available, the <code>info</code> endpoint can also publish information about your build.
This happens if a <code>META-INF/build-info.properties</code> file is available in the classpath.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">Maven 和 Gradle 插件都可以生成该文件。有关详细信息，请参阅“<a href="howto.html#howto.build.generate-info">如何生成构建信息</a>”。</p>
<p translation-origin="off">The Maven and Gradle plugins can both generate that file.
See "<a href="howto.html#howto.build.generate-info">how to generate build information</a>" for more details.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.info.java-information" translation-result="on"><a href="actuator.html#actuator.endpoints.info.java-information"></a>2.10.5. Java 信息</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.info.java-information"></a>2.10.5. Java Information</h4>
<div class="paragraph">
<p translation-result="on"><code>info</code> 端点发布有关你的 Java 运行时环境的信息，有关更多详细信息，请参阅<a href="https://docs.spring.io/spring-boot/docs/2.6.3/api/org/springframework/boot/info/JavaInfo.html"><code>JavaInfo</code></a> 。</p>
<p translation-origin="off">The <code>info</code> endpoint publishes information about your Java runtime environment, see <a href="https://docs.spring.io/spring-boot/docs/2.6.3/api/org/springframework/boot/info/JavaInfo.html"><code>JavaInfo</code></a> for more details.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.endpoints.info.writing-custom-info-contributors" translation-result="on"><a href="actuator.html#actuator.endpoints.info.writing-custom-info-contributors"></a>2.10.6. 编写自定义信息贡献者</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.endpoints.info.writing-custom-info-contributors"></a>2.10.6. Writing Custom InfoContributors</h4>
<div class="paragraph">
<p translation-result="on">要提供自定义应用程序信息，你可以注册实现<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/InfoContributor.java"><code>InfoContributor</code></a>接口的 Spring beans。</p>
<p translation-origin="off">To provide custom application information, you can register Spring beans that implement the <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/InfoContributor.java"><code>InfoContributor</code></a> interface.</p>
</div>
<div class="paragraph">
<p translation-result="on">以下示例提供了一个具有单个值的 <code>example</code> 条目：</p>
<p translation-origin="off">The following example contributes an <code>example</code> entry with a single value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import java.util.Collections;

import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.stereotype.Component;

</span><span class="fold-block">@Component
public class MyInfoContributor implements InfoContributor {

    @Override
    public void contribute(Info.Builder builder) {
        builder.withDetail("example", Collections.singletonMap("key", "value"));
    }

}
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">如果你到达 <code>info</code> 端点，你应该会看到包含以下附加条目的响应：</p>
<p translation-origin="off">If you reach the <code>info</code> endpoint, you should see a response that contains the following additional entry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "example": {
        "key" : "value"
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.monitoring" translation-result="on"><a href="actuator.html#actuator.monitoring"></a>3. 通过 HTTP 进行监控和管理</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.monitoring"></a>3. Monitoring and Management over HTTP</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">如果你正在开发 Web 应用程序，Spring Boot Actuator 会自动配置所有启用的端点以通过 HTTP 公开。默认约定是使用前缀为 <code>/actuator</code> 的端点的 <code>id</code> 作为 URL 路径。例如，<code>health</code> 被暴露为 <code>/actuator/health</code> 。</p>
<p translation-origin="off">If you are developing a web application, Spring Boot Actuator auto-configures all enabled endpoints to be exposed over HTTP.
The default convention is to use the <code>id</code> of the endpoint with a prefix of <code>/actuator</code> as the URL path.
For example, <code>health</code> is exposed as <code>/actuator/health</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">执行器原生支持 Spring MVC、Spring WebFlux 和 Jersey。如果 Jersey 和 Spring MVC 都可用，则使用 Spring MVC。</p>
<p translation-origin="off">Actuator is supported natively with Spring MVC, Spring WebFlux, and Jersey.
If both Jersey and Spring MVC are available, Spring MVC is used.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">Jackson 是获取 API 文档（ <a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/htmlsingle">HTML</a> 或 <a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/pdf/spring-boot-actuator-web-api.pdf">PDF</a> ）中记录的正确 JSON 响应所必需的依赖项。</p>
<p translation-origin="off">Jackson is a required dependency in order to get the correct JSON responses as documented in the API documentation (<a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/htmlsingle">HTML</a> or <a href="https://docs.spring.io/spring-boot/docs/2.6.3/actuator-api/pdf/spring-boot-actuator-web-api.pdf">PDF</a>).</p>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="actuator.monitoring.customizing-management-server-context-path" translation-result="on"><a href="actuator.html#actuator.monitoring.customizing-management-server-context-path"></a>3.1. 自定义管理端点路径</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.monitoring.customizing-management-server-context-path"></a>3.1. Customizing the Management Endpoint Paths</h3>
<div class="paragraph">
<p translation-result="on">有时，自定义管理端点的前缀很有用。例如，你的应用程序可能已经将 <code>/actuator</code> 用于其他目的。你可以用 <code>management.endpoints.web.base-path</code> 属性更改管理端点的前缀，如以下示例所示：</p>
<p translation-origin="off">Sometimes, it is useful to customize the prefix for the management endpoints.
For example, your application might already use <code>/actuator</code> for another purpose.
You can use the <code>management.endpoints.web.base-path</code> property to change the prefix for your management endpoint, as the following example shows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoints.web.base-path=/manage</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoints:
    web:
      base-path: "/manage"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">前面的 <code>application.properties</code> 示例将端点从 <code>/actuator/{id}</code> 更改为 <code>/manage/{id}</code> （例如，<code>/manage/info</code> ）。</p>
<p translation-origin="off">The preceding <code>application.properties</code> example changes the endpoint from <code>/actuator/{id}</code> to <code>/manage/{id}</code> (for example, <code>/manage/info</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">除非管理端口已配置为<a href="actuator.html#actuator.monitoring.customizing-management-server-port">使用不同的 HTTP 端口公开端点，</a>否则 <code>management.endpoints.web.base-path</code> 是相对于 <code>server.servlet.context-path</code> （用于 servlet Web 应用程序）或 <code>spring.webflux.base-path</code> （用于响应式 Web 应用程序）。如果 <code>management.server.port</code> 被配置，<code>management.endpoints.web.base-path</code> 是相对于 <code>management.server.base-path</code> 。</p>
<p translation-origin="off">Unless the management port has been configured to <a href="actuator.html#actuator.monitoring.customizing-management-server-port">expose endpoints by using a different HTTP port</a>, <code>management.endpoints.web.base-path</code> is relative to <code>server.servlet.context-path</code> (for servlet web applications) or <code>spring.webflux.base-path</code> (for reactive web applications).
If <code>management.server.port</code> is configured, <code>management.endpoints.web.base-path</code> is relative to <code>management.server.base-path</code>.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">如果要将端点映射到不同的路径，可以用 <code>management.endpoints.web.path-mapping</code> 属性。</p>
<p translation-origin="off">If you want to map endpoints to a different path, you can use the <code>management.endpoints.web.path-mapping</code> property.</p>
</div>
<div class="paragraph">
<p translation-result="on">以下示例将 <code>/actuator/health</code> 重新映射到 <code>/healthcheck</code> ：</p>
<p translation-origin="off">The following example remaps <code>/actuator/health</code> to <code>/healthcheck</code>:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoints.web.base-path=/
management.endpoints.web.path-mapping.health=healthcheck</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoints:
    web:
      base-path: "/"
      path-mapping:
        health: "healthcheck"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.monitoring.customizing-management-server-port" translation-result="on"><a href="actuator.html#actuator.monitoring.customizing-management-server-port"></a>3.2. 自定义管理服务器端口</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.monitoring.customizing-management-server-port"></a>3.2. Customizing the Management Server Port</h3>
<div class="paragraph">
<p translation-result="on">使用默认 HTTP 端口公开管理端点是基于云的部署的明智选择。但是，如果你的应用程序在你自己的数据中心内运行，你可能更愿意使用不同的 HTTP 端口来公开端点。</p>
<p translation-origin="off">Exposing management endpoints by using the default HTTP port is a sensible choice for cloud-based deployments.
If, however, your application runs inside your own data center, you may prefer to expose endpoints by using a different HTTP port.</p>
</div>
<div class="paragraph">
<p translation-result="on">你可以设置 <code>management.server.port</code> 属性来更改 HTTP 端口，如以下示例所示：</p>
<p translation-origin="off">You can set the <code>management.server.port</code> property to change the HTTP port, as the following example shows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.server.port=8081</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  server:
    port: 8081</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">在 Cloud Foundry 上，默认情况下，应用程序仅在端口 8080 上接收 HTTP 和 TCP 路由请求。如果要在 Cloud Foundry 上使用自定义管理端口，则需要显式设置应用程序的路由以将流量转发到自定义端口。</p>
<p translation-origin="off">On Cloud Foundry, by default, applications receive requests only on port 8080 for both HTTP and TCP routing.
If you want to use a custom management port on Cloud Foundry, you need to explicitly set up the application’s routes to forward traffic to the custom port.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="actuator.monitoring.management-specific-ssl" translation-result="on"><a href="actuator.html#actuator.monitoring.management-specific-ssl"></a>3.3. 配置特定于管理的 SSL</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.monitoring.management-specific-ssl"></a>3.3. Configuring Management-specific SSL</h3>
<div class="paragraph">
<p translation-result="on">当配置为使用自定义端口时，你还可以用各种 <code>management.server.ssl.*</code> 属性为管理服务器配置自己的 SSL。例如，这样做可以让管理服务器在主应用程序使用 HTTPS 时通过 HTTP 可用，如以下属性设置所示：</p>
<p translation-origin="off">When configured to use a custom port, you can also configure the management server with its own SSL by using the various <code>management.server.ssl.*</code> properties.
For example, doing so lets a management server be available over HTTP while the main application uses HTTPS, as the following property settings show:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">server.port=8443
server.ssl.enabled=true
server.ssl.key-store=classpath:store.jks
server.ssl.key-password=secret
management.server.port=8080
management.server.ssl.enabled=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">server:
  port: 8443
  ssl:
    enabled: true
    key-store: "classpath:store.jks"
    key-password: "secret"
management:
  server:
    port: 8080
    ssl:
      enabled: false</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">或者，主服务器和管理服务器都可以用 SSL，但使用不同的密钥存储，如下所示：</p>
<p translation-origin="off">Alternatively, both the main server and the management server can use SSL but with different key stores, as follows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">server.port=8443
server.ssl.enabled=true
server.ssl.key-store=classpath:main.jks
server.ssl.key-password=secret
management.server.port=8080
management.server.ssl.enabled=true
management.server.ssl.key-store=classpath:management.jks
management.server.ssl.key-password=secret</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">server:
  port: 8443
  ssl:
    enabled: true
    key-store: "classpath:main.jks"
    key-password: "secret"
management:
  server:
    port: 8080
    ssl:
      enabled: true
      key-store: "classpath:management.jks"
      key-password: "secret"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.monitoring.customizing-management-server-address" translation-result="on"><a href="actuator.html#actuator.monitoring.customizing-management-server-address"></a>3.4. 自定义管理服务器地址</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.monitoring.customizing-management-server-address"></a>3.4. Customizing the Management Server Address</h3>
<div class="paragraph">
<p translation-result="on">你可以通过设置 <code>management.server.address</code> 属性来自定义管理端点可用的地址。如果你只想在内部或面向操作的网络上侦听或仅侦听来自 <code>localhost</code> 的连接，这样做会很有用。</p>
<p translation-origin="off">You can customize the address on which the management endpoints are available by setting the <code>management.server.address</code> property.
Doing so can be useful if you want to listen only on an internal or ops-facing network or to listen only for connections from <code>localhost</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">只有当端口与主服务器端口不同时，你才能在不同的地址上侦听。</p>
<p translation-origin="off">You can listen on a different address only when the port differs from the main server port.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">以下示例 <code>application.properties</code> 不允许远程管理连接：</p>
<p translation-origin="off">The following example <code>application.properties</code> does not allow remote management connections:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.server.port=8081
management.server.address=127.0.0.1</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  server:
    port: 8081
    address: "127.0.0.1"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.monitoring.disabling-http-endpoints" translation-result="on"><a href="actuator.html#actuator.monitoring.disabling-http-endpoints"></a>3.5. 禁用 HTTP 端点</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.monitoring.disabling-http-endpoints"></a>3.5. Disabling HTTP Endpoints</h3>
<div class="paragraph">
<p translation-result="on">如果你不想通过 HTTP 公开端点，可以将管理端口设置为 <code>-1</code> ，如以下示例所示：</p>
<p translation-origin="off">If you do not want to expose endpoints over HTTP, you can set the management port to <code>-1</code>, as the following example shows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.server.port=-1</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  server:
    port: -1</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你还可以通过使用 <code>management.endpoints.web.exposure.exclude</code> 属性来实现这一点，如以下示例所示：</p>
<p translation-origin="off">You can also achieve this by using the <code>management.endpoints.web.exposure.exclude</code> property, as the following example shows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoints.web.exposure.exclude=*</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoints:
    web:
      exposure:
        exclude: "*"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.jmx" translation-result="on"><a href="actuator.html#actuator.jmx"></a>4. JMX 上的监控和管理</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.jmx"></a>4. Monitoring and Management over JMX</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">Java 管理扩展 (JMX) 提供了一种标准机制来监视和管理应用程序。默认情况下，此功能未启用。你可以通过将 <code>spring.jmx.enabled</code> 配置属性设置为 <code>true</code> 来打开它。Spring Boot 将最合适的 <code>MBeanServer</code> 公开为 ID 为 <code>mbeanServer</code> 的 bean。使用 Spring JMX 注释（@ <code>@ManagedOperation</code> <code>@ManagedAttribute</code> <code>@ManagedResource</code> 的任何 bean 都会暴露给它。</p>
<p translation-origin="off">Java Management Extensions (JMX) provide a standard mechanism to monitor and manage applications.
By default, this feature is not enabled.
You can turn it on by setting the <code>spring.jmx.enabled</code> configuration property to <code>true</code>.
Spring Boot exposes the most suitable <code>MBeanServer</code> as a bean with an ID of <code>mbeanServer</code>.
Any of your beans that are annotated with Spring JMX annotations (<code>@ManagedResource</code>, <code>@ManagedAttribute</code>, or <code>@ManagedOperation</code>) are exposed to it.</p>
</div>
<div class="paragraph">
<p translation-result="on">如果你的平台提供标准 <code>MBeanServer</code> ，则 Spring Boot 将使用该标准并在必要时默认使用 VM <code>MBeanServer</code> 。如果一切都失败了，则创建一个新的 <code>MBeanServer</code> 。</p>
<p translation-origin="off">If your platform provides a standard <code>MBeanServer</code>, Spring Boot uses that and defaults to the VM <code>MBeanServer</code>, if necessary.
If all that fails, a new <code>MBeanServer</code> is created.</p>
</div>
<div class="paragraph">
<p translation-result="on">有关更多详细信息，请参阅<a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.java"><code>JmxAutoConfiguration</code></a>类。</p>
<p translation-origin="off">See the <a href="https://github.com/spring-projects/spring-boot/tree/v2.6.3/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.java"><code>JmxAutoConfiguration</code></a> class for more details.</p>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，Spring Boot 还将管理端点公开为 <code>org.springframework.boot</code> 域下的 JMX MBean。要完全控制 JMX 域中的端点注册，请考虑注册你自己的 <code>EndpointObjectNameFactory</code> 实现。</p>
<p translation-origin="off">By default, Spring Boot also exposes management endpoints as JMX MBeans under the <code>org.springframework.boot</code> domain.
To take full control over endpoint registration in the JMX domain, consider registering your own <code>EndpointObjectNameFactory</code> implementation.</p>
</div>
<div class="sect2">
<h3 id="actuator.jmx.custom-mbean-names" translation-result="on"><a href="actuator.html#actuator.jmx.custom-mbean-names"></a>4.1. 自定义 MBean 名称</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.jmx.custom-mbean-names"></a>4.1. Customizing MBean Names</h3>
<div class="paragraph">
<p translation-result="on">MBean 的名称通常由端点的 <code>id</code> 生成。例如，<code>health</code> 端点公开为 <code>org.springframework.boot:type=Endpoint,name=Health</code> 。</p>
<p translation-origin="off">The name of the MBean is usually generated from the <code>id</code> of the endpoint.
For example, the <code>health</code> endpoint is exposed as <code>org.springframework.boot:type=Endpoint,name=Health</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">如果你的应用程序包含多个 Spring <code>ApplicationContext</code> ，你可能会发现名称冲突。要解决此问题，你可以将 <code>spring.jmx.unique-names</code> 属性设置为 <code>true</code> ，以便 MBean 名称始终是唯一的。</p>
<p translation-origin="off">If your application contains more than one Spring <code>ApplicationContext</code>, you may find that names clash.
To solve this problem, you can set the <code>spring.jmx.unique-names</code> property to <code>true</code> so that MBean names are always unique.</p>
</div>
<div class="paragraph">
<p translation-result="on">你还可以自定义在其下公开端点的 JMX 域。以下设置显示了在 <code>application.properties</code> 中执行此操作的示例：</p>
<p translation-origin="off">You can also customize the JMX domain under which endpoints are exposed.
The following settings show an example of doing so in <code>application.properties</code>:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">spring.jmx.unique-names=true
management.endpoints.jmx.domain=com.example.myapp</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">spring:
  jmx:
    unique-names: true
management:
  endpoints:
    jmx:
      domain: "com.example.myapp"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.jmx.disable-jmx-endpoints" translation-result="on"><a href="actuator.html#actuator.jmx.disable-jmx-endpoints"></a>4.2. 禁用 JMX 端点</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.jmx.disable-jmx-endpoints"></a>4.2. Disabling JMX Endpoints</h3>
<div class="paragraph">
<p translation-result="on">如果你不想通过 JMX 公开端点，可以将 <code>management.endpoints.jmx.exposure.exclude</code> 属性设置为 <code>*</code> ，如以下示例所示：</p>
<p translation-origin="off">If you do not want to expose endpoints over JMX, you can set the <code>management.endpoints.jmx.exposure.exclude</code> property to <code>*</code>, as the following example shows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoints.jmx.exposure.exclude=*</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoints:
    jmx:
      exposure:
        exclude: "*"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.jmx.jolokia" translation-result="on"><a href="actuator.html#actuator.jmx.jolokia"></a>4.3. 将 Jolokia 用于基于 HTTP 的 JMX</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.jmx.jolokia"></a>4.3. Using Jolokia for JMX over HTTP</h3>
<div class="paragraph">
<p translation-result="on">Jolokia 是一个 JMX-HTTP 桥，它提供了另一种访问 JMX bean 的方法。要使用 Jolokia，请包含对 <code>org.jolokia:jolokia-core</code> 的依赖项。例如，使用 Maven，你将添加以下依赖项：</p>
<p translation-origin="off">Jolokia is a JMX-HTTP bridge that provides an alternative method of accessing JMX beans.
To use Jolokia, include a dependency to <code>org.jolokia:jolokia-core</code>.
For example, with Maven, you would add the following dependency:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.jolokia&lt;/groupId&gt;
    &lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">然后，你可以通过将 <code>jolokia</code> 或 <code>*</code> 添加到 <code>management.endpoints.web.exposure.include</code> 属性来公开 Jolokia 端点。然后，你可以在管理 HTTP 服务器上使用 <code>/actuator/jolokia</code> 访问它。</p>
<p translation-origin="off">You can then expose the Jolokia endpoint by adding <code>jolokia</code> or <code>*</code> to the <code>management.endpoints.web.exposure.include</code> property.
You can then access it by using <code>/actuator/jolokia</code> on your management HTTP server.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">Jolokia 端点将 Jolokia 的 servlet 公开为执行器端点。因此，它特定于 servlet 环境，例如 Spring MVC 和 Jersey。端点在 WebFlux 应用程序中不可用。</p>
<p translation-origin="off">The Jolokia endpoint exposes Jolokia’s servlet as an actuator endpoint.
As a result, it is specific to servlet environments, such as Spring MVC and Jersey.
The endpoint is not available in a WebFlux application.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="actuator.jmx.jolokia.customizing" translation-result="on"><a href="actuator.html#actuator.jmx.jolokia.customizing"></a>4.3.1. 自定义 Jolokia</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.jmx.jolokia.customizing"></a>4.3.1. Customizing Jolokia</h4>
<div class="paragraph">
<p translation-result="on">Jolokia 有许多设置，你通常可以通过设置 servlet 参数来配置这些设置。使用 Spring Boot，你可以用 <code>application.properties</code> 文件。为此，请在参数前面加上 <code>management.endpoint.jolokia.config.</code> ，如以下示例所示：</p>
<p translation-origin="off">Jolokia has a number of settings that you would traditionally configure by setting servlet parameters.
With Spring Boot, you can use your <code>application.properties</code> file.
To do so, prefix the parameter with <code>management.endpoint.jolokia.config.</code>, as the following example shows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.jolokia.config.debug=true</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoint:
    jolokia:
      config:
        debug: true</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.jmx.jolokia.disabling" translation-result="on"><a href="actuator.html#actuator.jmx.jolokia.disabling"></a>4.3.2. 禁用 Jolokia</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.jmx.jolokia.disabling"></a>4.3.2. Disabling Jolokia</h4>
<div class="paragraph">
<p translation-result="on">如果你使用 Jolokia 但不想让 Spring Boot 配置它，请将 <code>management.endpoint.jolokia.enabled</code> 属性设置为 <code>false</code> ，如下所示：</p>
<p translation-origin="off">If you use Jolokia but do not want Spring Boot to configure it, set the <code>management.endpoint.jolokia.enabled</code> property to <code>false</code>, as follows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.endpoint.jolokia.enabled=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  endpoint:
    jolokia:
      enabled: false</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.loggers" translation-result="on"><a href="actuator.html#actuator.loggers"></a>5. 记录器</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.loggers"></a>5. Loggers</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">Spring Boot Actuator 包括在运行时查看和配置应用程序日志级别的能力。你可以查看整个列表或单个记录器的配置，该配置由显式配置的日志记录级别以及日志记录框架赋予它的有效日志记录级别组成。这些级别可以是以下之一：</p>
<p translation-origin="off">Spring Boot Actuator includes the ability to view and configure the log levels of your application at runtime.
You can view either the entire list or an individual logger’s configuration, which is made up of both the explicitly configured logging level as well as the effective logging level given to it by the logging framework.
These levels can be one of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>TRACE</code></p>
</li>
<li>
<p><code>DEBUG</code></p>
</li>
<li>
<p><code>INFO</code></p>
</li>
<li>
<p><code>WARN</code></p>
</li>
<li>
<p><code>ERROR</code></p>
</li>
<li>
<p><code>FATAL</code></p>
</li>
<li>
<p><code>OFF</code></p>
</li>
<li>
<p><code>null</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p translation-result="on"><code>null</code> 表示没有显式配置。</p>
<p translation-origin="off"><code>null</code> indicates that there is no explicit configuration.</p>
</div>
<div class="sect2">
<h3 id="actuator.loggers.configure" translation-result="on"><a href="actuator.html#actuator.loggers.configure"></a>5.1. 配置记录器</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.loggers.configure"></a>5.1. Configure a Logger</h3>
<div class="paragraph">
<p translation-result="on">要配置给定的记录器，<code>POST</code> 部分实体发布到资源的 URI，如以下示例所示：</p>
<p translation-origin="off">To configure a given logger, <code>POST</code> a partial entity to the resource’s URI, as the following example shows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "configuredLevel": "DEBUG"
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">要“重置”记录器的特定级别（并改用默认配置），你可以将 <code>null</code> 作为已 <code>configuredLevel</code> 级别传递。</p>
<p translation-origin="off">To “reset” the specific level of the logger (and use the default configuration instead), you can pass a value of <code>null</code> as the <code>configuredLevel</code>.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.metrics" translation-result="on"><a href="actuator.html#actuator.metrics"></a>6. 度量</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics"></a>6. Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">Spring Boot Actuator 为 <a href="https://micrometer.io">Micrometer</a> 提供依赖管理和自动配置，这是一个支持<a href="https://micrometer.io/docs">众多监控系统</a>的应用程序度量外观，包括：</p>
<p translation-origin="off">Spring Boot Actuator provides dependency management and auto-configuration for <a href="https://micrometer.io">Micrometer</a>, an application metrics facade that supports <a href="https://micrometer.io/docs">numerous monitoring systems</a>, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.appoptics">应用光学</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.appoptics">AppOptics</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.atlas">阿特拉斯</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.atlas">Atlas</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.datadog">数据狗</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.datadog">Datadog</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.dynatrace">动态追踪</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.dynatrace">Dynatrace</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.elastic">松紧带</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.elastic">Elastic</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.ganglia">神经节</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.ganglia">Ganglia</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.graphite">石墨</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.graphite">Graphite</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.humio">胡米奥</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.humio">Humio</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.influx">涌入</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.influx">Influx</a></p>
</li>
<li>
<p><a href="actuator.html#actuator.metrics.export.jmx">JMX</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.kairos">凯罗斯数据库</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.kairos">KairosDB</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.newrelic">新遗物</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.newrelic">New Relic</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.prometheus">普罗米修斯</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.prometheus">Prometheus</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.signalfx">信号效果</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.signalfx">SignalFx</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.simple">简单（内存中）</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.simple">Simple (in-memory)</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.stackdriver">堆栈驱动程序</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.stackdriver">Stackdriver</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.statsd">统计数据</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.statsd">StatsD</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.metrics.export.wavefront">波前</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.metrics.export.wavefront">Wavefront</a></p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">要了解有关 Micrometer 功能的更多信息，请参阅其<a href="https://micrometer.io/docs">参考文档</a>，尤其是<a href="https://micrometer.io/docs/concepts">概念部分</a>。</p>
<p translation-origin="off">To learn more about Micrometer’s capabilities, see its <a href="https://micrometer.io/docs">reference documentation</a>, in particular the <a href="https://micrometer.io/docs/concepts">concepts section</a>.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="actuator.metrics.getting-started" translation-result="on"><a href="actuator.html#actuator.metrics.getting-started"></a>6.1. 入门</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.getting-started"></a>6.1. Getting started</h3>
<div class="paragraph">
<p translation-result="on">Spring Boot 自动配置一个复合 <code>MeterRegistry</code> 并为它在类路径上找到的每个受支持的实现添加一个注册表。在运行时类路径中依赖 <code>micrometer-registry-{system}</code> 就足以让 Spring Boot 配置注册表。</p>
<p translation-origin="off">Spring Boot auto-configures a composite <code>MeterRegistry</code> and adds a registry to the composite for each of the supported implementations that it finds on the classpath.
Having a dependency on <code>micrometer-registry-{system}</code> in your runtime classpath is enough for Spring Boot to configure the registry.</p>
</div>
<div class="paragraph">
<p translation-result="on">大多数注册中心都有共同的特征。例如，即使 Micrometer 注册表实现在类路径上，你也可以禁用特定注册表。以下示例禁用 Datadog：</p>
<p translation-origin="off">Most registries share common features.
For instance, you can disable a particular registry even if the Micrometer registry implementation is on the classpath.
The following example disables Datadog:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.datadog.enabled=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      datadog:
        enabled: false</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">除非特定于注册表的属性另有说明，否则你还可以禁用所有注册表，如以下示例所示：</p>
<p translation-origin="off">You can also disable all registries unless stated otherwise by the registry-specific property, as the following example shows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.defaults.enabled=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      defaults:
        enabled: false</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">Spring Boot 还将任何自动配置的注册表添加到 <code>Metrics</code> 类上的全局静态复合注册表中，除非你明确告诉它不要：</p>
<p translation-origin="off">Spring Boot also adds any auto-configured registries to the global static composite registry on the <code>Metrics</code> class, unless you explicitly tell it not to:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.use-global-registry=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    use-global-registry: false</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你可以注册任意数量的 <code>MeterRegistryCustomizer</code> bean 以进一步配置注册表，例如在向注册表注册任何仪表之前应用公共标记：</p>
<p translation-origin="off">You can register any number of <code>MeterRegistryCustomizer</code> beans to further configure the registry, such as applying common tags, before any meters are registered with the registry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import io.micrometer.core.instrument.MeterRegistry;

import org.springframework.boot.actuate.autoconfigure.metrics.MeterRegistryCustomizer;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MyMeterRegistryConfiguration {

    @Bean
    public MeterRegistryCustomizer&lt;MeterRegistry&gt; metricsCommonTags() {
        return (registry) -&gt; registry.config().commonTags("region", "us-east-1");
    }

}
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你可以通过更具体地了解泛型类型来将自定义应用于特定的注册表实现：</p>
<p translation-origin="off">You can apply customizations to particular registry implementations by being more specific about the generic type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import io.micrometer.core.instrument.Meter;
import io.micrometer.core.instrument.config.NamingConvention;
import io.micrometer.graphite.GraphiteMeterRegistry;

import org.springframework.boot.actuate.autoconfigure.metrics.MeterRegistryCustomizer;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MyMeterRegistryConfiguration {

    @Bean
    public MeterRegistryCustomizer&lt;GraphiteMeterRegistry&gt; graphiteMetricsNamingConvention() {
        return (registry) -&gt; registry.config().namingConvention(this::name);
    }

    private String name(String name, Meter.Type type, String baseUnit) {
        return ...
    }

}
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">Spring Boot 还<a href="actuator.html#actuator.metrics.supported">配置了你可以通过配置或专用注释标记控制的内置检测</a>。</p>
<p translation-origin="off">Spring Boot also <a href="actuator.html#actuator.metrics.supported">configures built-in instrumentation</a> that you can control through configuration or dedicated annotation markers.</p>
</div>
</div>
<div class="sect2">
<h3 id="actuator.metrics.export" translation-result="on"><a href="actuator.html#actuator.metrics.export"></a>6.2. 支持的监控系统</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export"></a>6.2. Supported Monitoring Systems</h3>
<div class="paragraph">
<p translation-result="on">本节简要介绍了每个受支持的监控系统。</p>
<p translation-origin="off">This section briefly describes each of the supported monitoring systems.</p>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.appoptics" translation-result="on"><a href="actuator.html#actuator.metrics.export.appoptics"></a>6.2.1. 应用光学</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.appoptics"></a>6.2.1. AppOptics</h4>
<div class="paragraph">
<p translation-result="on">默认情况下，AppOptics 注册表会定期将度量推送到 <code>api.appoptics.com/v1/measurements</code> 。要将度量导出到 SaaS <a href="https://micrometer.io/docs/registry/appOptics">AppOptics</a> ，必须提供你的 API 令牌：</p>
<p translation-origin="off">By default, the AppOptics registry periodically pushes metrics to <code><a href="https://api.appoptics.com/v1/measurements" class="bare">api.appoptics.com/v1/measurements</a></code>.
To export metrics to SaaS <a href="https://micrometer.io/docs/registry/appOptics">AppOptics</a>, your API token must be provided:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.appoptics.api-token=YOUR_TOKEN</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      appoptics:
        api-token: "YOUR_TOKEN"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.atlas" translation-result="on"><a href="actuator.html#actuator.metrics.export.atlas"></a>6.2.2. 阿特拉斯</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.atlas"></a>6.2.2. Atlas</h4>
<div class="paragraph">
<p translation-result="on">默认情况下，度量会导出到在本地计算机上运行的 <a href="https://micrometer.io/docs/registry/atlas">Atlas</a> 。你可以提供 <a href="https://github.com/Netflix/atlas">Atlas 服务器</a>的位置：</p>
<p translation-origin="off">By default, metrics are exported to <a href="https://micrometer.io/docs/registry/atlas">Atlas</a> running on your local machine.
You can provide the location of the <a href="https://github.com/Netflix/atlas">Atlas server</a>:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.atlas.uri=https://atlas.example.com:7101/api/v1/publish</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      atlas:
        uri: "https://atlas.example.com:7101/api/v1/publish"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.datadog" translation-result="on"><a href="actuator.html#actuator.metrics.export.datadog"></a>6.2.3. 数据狗</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.datadog"></a>6.2.3. Datadog</h4>
<div class="paragraph">
<p translation-result="on">Datadog 注册表会定期将度量推送到 <a href="https://www.datadoghq.com">datadoghq</a> 。要将度量导出到 <a href="https://micrometer.io/docs/registry/datadog">Datadog</a> ，你必须提供你的 API 密钥：</p>
<p translation-origin="off">A Datadog registry periodically pushes metrics to <a href="https://www.datadoghq.com">datadoghq</a>.
To export metrics to <a href="https://micrometer.io/docs/registry/datadog">Datadog</a>, you must provide your API key:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.datadog.api-key=YOUR_KEY</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      datadog:
        api-key: "YOUR_KEY"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你还可以更改将度量发送到 Datadog 的时间间隔：</p>
<p translation-origin="off">You can also change the interval at which metrics are sent to Datadog:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.datadog.step=30s</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      datadog:
        step: "30s"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.dynatrace" translation-result="on"><a href="actuator.html#actuator.metrics.export.dynatrace"></a>6.2.4. 动态追踪</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.dynatrace"></a>6.2.4. Dynatrace</h4>
<div class="paragraph">
<p translation-result="on">Dynatrace 提供了两个度量摄取 API，这两个 API 都是为 <a href="https://micrometer.io/docs/registry/dynatrace">Micrometer</a> 实现的。<code>v1</code> 命名空间中的配置属性仅在导出到 <a href="https://www.dynatrace.com/support/help/dynatrace-api/environment-api/metric-v1/">Timeseries v1 API</a> 时适用。<code>v2</code> 命名空间中的配置属性仅在导出到 <a href="https://www.dynatrace.com/support/help/dynatrace-api/environment-api/metric-v2/post-ingest-metrics/">Metrics v2 API</a> 时适用。请注意，此集成一次只能导出到 API 的 <code>v1</code> 或 <code>v2</code> 版本。如果在 <code>v1</code> 命名空间中设置了 <code>device-id</code> （v1 需要但未在 v2 中使用），则度量将导出到 <code>v1</code> 端点。否则，假定为 <code>v2</code> 。</p>
<p translation-origin="off">Dynatrace offers two metrics ingest APIs, both of which are implemented for <a href="https://micrometer.io/docs/registry/dynatrace">Micrometer</a>.
Configuration properties in the <code>v1</code> namespace apply only when exporting to the <a href="https://www.dynatrace.com/support/help/dynatrace-api/environment-api/metric-v1/">Timeseries v1 API</a>.
Configuration properties in the <code>v2</code> namespace apply only when exporting to the <a href="https://www.dynatrace.com/support/help/dynatrace-api/environment-api/metric-v2/post-ingest-metrics/">Metrics v2 API</a>.
Note that this integration can export only to either the <code>v1</code> or <code>v2</code> version of the API at a time.
If the <code>device-id</code> (required for v1 but not used in v2) is set in the <code>v1</code> namespace, metrics are exported to the <code>v1</code> endpoint.
Otherwise, <code>v2</code> is assumed.</p>
</div>
<div class="sect4">
<h5 id="actuator.metrics.export.dynatrace.v2-api" translation-result="on"><a href="actuator.html#actuator.metrics.export.dynatrace.v2-api"></a>v2 API</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.dynatrace.v2-api"></a>v2 API</h5>
<div class="paragraph">
<p translation-result="on">你可以通过两种方式使用 v2 API。</p>
<p translation-origin="off">You can use the v2 API in two ways.</p>
</div>
<div class="paragraph">
<p translation-result="on">如果主机上正在运行本地 OneAgent，则度量会自动导出到<a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/metrics/metric-ingestion/ingestion-methods/local-api/">本地 OneAgent 摄取端点</a>。摄取端点将度量转发到 Dynatrace 后端。这是默认行为，除了对 <code>io.micrometer:micrometer-registry-dynatrace</code> 的依赖之外，不需要特殊设置。</p>
<p translation-origin="off">If a local OneAgent is running on the host, metrics are automatically exported to the <a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/metrics/metric-ingestion/ingestion-methods/local-api/">local OneAgent ingest endpoint</a>.
The ingest endpoint forwards the metrics to the Dynatrace backend.
This is the default behavior and requires no special setup beyond a dependency on <code>io.micrometer:micrometer-registry-dynatrace</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">如果没有本地 OneAgent 正在运行，则需要 <a href="https://www.dynatrace.com/support/help/dynatrace-api/environment-api/metric-v2/post-ingest-metrics/">Metrics v2 API</a> 的端点和 API 令牌。<a href="https://www.dynatrace.com/support/help/dynatrace-api/basics/dynatrace-api-authentication/">API 令牌</a>必须具有“摄取度量”( <code>metrics.ingest</code> ) 权限集。我们建议将令牌的范围限制为这一权限。你必须确保端点 URI 包含路径（例如 <code>/api/v2/metrics/ingest</code> ）：</p>
<p translation-origin="off">If no local OneAgent is running, the endpoint of the <a href="https://www.dynatrace.com/support/help/dynatrace-api/environment-api/metric-v2/post-ingest-metrics/">Metrics v2 API</a> and an API token are required.
The <a href="https://www.dynatrace.com/support/help/dynatrace-api/basics/dynatrace-api-authentication/">API token</a> must have the “Ingest metrics” (<code>metrics.ingest</code>) permission set.
We recommend limiting the scope of the token to this one permission.
You must ensure that the endpoint URI contains the path (for example, <code>/api/v2/metrics/ingest</code>):</p>
</div>
<div class="paragraph">
<p translation-result="on">Metrics API v2 摄取端点的 URL 根据你的部署选项而有所不同：</p>
<p translation-origin="off">The URL of the Metrics API v2 ingest endpoint is different according to your deployment option:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on">SaaS： <code>https://{your-environment-id}.live.dynatrace.com/api/v2/metrics/ingest</code></p>
<p translation-origin="off">SaaS: <code>https://{your-environment-id}.live.dynatrace.com/api/v2/metrics/ingest</code></p>
</li>
<li>
<p translation-result="on">托管部署： <code>https://{your-domain}/e/{your-environment-id}/api/v2/metrics/ingest</code></p>
<p translation-origin="off">Managed deployments: <code>https://{your-domain}/e/{your-environment-id}/api/v2/metrics/ingest</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p translation-result="on">下面的示例使用 <code>example</code> 环境 ID 配置度量导出：</p>
<p translation-origin="off">The example below configures metrics export using the <code>example</code> environment id:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.dynatrace.uri=https://example.live.dynatrace.com/api/v2/metrics/ingest
management.metrics.export.dynatrace.api-token=YOUR_TOKEN</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      dynatrace:
        uri: "https://example.live.dynatrace.com/api/v2/metrics/ingest"
        api-token: "YOUR_TOKEN"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">使用 Dynatrace v2 API 时，可以用以下可选功能：</p>
<p translation-origin="off">When using the Dynatrace v2 API, the following optional features are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on">度量键前缀：设置一个前缀，添加到所有导出的度量键。</p>
<p translation-origin="off">Metric key prefix: Sets a prefix that is prepended to all exported metric keys.</p>
</li>
<li>
<p translation-result="on">使用 Dynatrace 元数据丰富：如果 OneAgent 或 Dynatrace 操作员正在运行，请使用其他元数据（例如，关于主机、进程或 pod）来丰富度量。</p>
<p translation-origin="off">Enrich with Dynatrace metadata: If a OneAgent or Dynatrace operator is running, enrich metrics with additional metadata (for example, about the host, process, or pod).</p>
</li>
<li>
<p translation-result="on">默认维度：指定添加到所有导出度量的键值对。如果使用 Micrometer 指定具有相同键的标签，它们会覆盖默认尺寸。</p>
<p translation-origin="off">Default dimensions: Specify key-value pairs that are added to all exported metrics.
If tags with the same key are specified with Micrometer, they overwrite the default dimensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p translation-result="on">可以不指定 URI 和 API 令牌，如下例所示。在这种情况下，使用本地 OneAgent 端点：</p>
<p translation-origin="off">It is possible to not specify a URI and API token, as shown in the following example.
In this scenario, the local OneAgent endpoint is used:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.dynatrace.v2.metric-key-prefix=your.key.prefix
management.metrics.export.dynatrace.v2.enrich-with-dynatrace-metadata=true
management.metrics.export.dynatrace.v2.default-dimensions.key1=value1
management.metrics.export.dynatrace.v2.default-dimensions.key2=value2</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      dynatrace:
        # Specify uri and api-token here if not using the local OneAgent endpoint.
        v2:
          metric-key-prefix: "your.key.prefix"
          enrich-with-dynatrace-metadata: true
          default-dimensions:
            key1: "value1"
            key2: "value2"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="actuator.metrics.export.dynatrace.v1-api" translation-result="on"><a href="actuator.html#actuator.metrics.export.dynatrace.v1-api"></a>v1 API（旧版）</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.dynatrace.v1-api"></a>v1 API (Legacy)</h5>
<div class="paragraph">
<p translation-result="on">Dynatrace v1 API 度量注册表使用 <a href="https://www.dynatrace.com/support/help/dynatrace-api/environment-api/metric-v1/">Timeseries v1 API</a> 定期将度量推送到配置的 URI。为了与现有设置向后兼容，当设置了 <code>device-id</code> （v1 需要，但在 v2 中未使用）时，度量将导出到 Timeseries v1 端点。要将度量导出到 <a href="https://micrometer.io/docs/registry/dynatrace">Dynatrace</a> ，必须提供你的 API 令牌、设备 ID 和 URI：</p>
<p translation-origin="off">The Dynatrace v1 API metrics registry pushes metrics to the configured URI periodically by using the <a href="https://www.dynatrace.com/support/help/dynatrace-api/environment-api/metric-v1/">Timeseries v1 API</a>.
For backwards-compatibility with existing setups, when <code>device-id</code> is set (required for v1, but not used in v2), metrics are exported to the Timeseries v1 endpoint.
To export metrics to <a href="https://micrometer.io/docs/registry/dynatrace">Dynatrace</a>, your API token, device ID, and URI must be provided:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.dynatrace.uri=https://{your-environment-id}.live.dynatrace.com
management.metrics.export.dynatrace.api-token=YOUR_TOKEN
management.metrics.export.dynatrace.v1.device-id=YOUR_DEVICE_ID</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      dynatrace:
        uri: "https://{your-environment-id}.live.dynatrace.com"
        api-token: "YOUR_TOKEN"
        v1:
          device-id: "YOUR_DEVICE_ID"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">对于 v1 API，你必须指定不带路径的基本环境 URI，因为 v1 端点路径是自动添加的。</p>
<p translation-origin="off">For the v1 API, you must specify the base environment URI without a path, as the v1 endpoint path is added automatically.</p>
</div>
</div>
<div class="sect4">
<h5 id="actuator.metrics.export.dynatrace.version-independent-settings" translation-result="on"><a href="actuator.html#actuator.metrics.export.dynatrace.version-independent-settings"></a>与版本无关的设置</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.dynatrace.version-independent-settings"></a>Version-independent Settings</h5>
<div class="paragraph">
<p translation-result="on">除了 API 端点和令牌之外，你还可以更改将度量发送到 Dynatrace 的时间间隔。默认导出间隔为 <code>60s</code> 。以下示例将导出间隔设置为 30 秒：</p>
<p translation-origin="off">In addition to the API endpoint and token, you can also change the interval at which metrics are sent to Dynatrace.
The default export interval is <code>60s</code>.
The following example sets the export interval to 30 seconds:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.dynatrace.step=30s</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      dynatrace:
        step: "30s"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你可以在 <a href="https://micrometer.io/docs/registry/dynatrace">Micrometer 文档</a>中找到有关如何为 Micrometer 设置 Dynatrace 导出器的更多信息。</p>
<p translation-origin="off">You can find more information on how to set up the Dynatrace exporter for Micrometer in <a href="https://micrometer.io/docs/registry/dynatrace">the Micrometer documentation</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.elastic" translation-result="on"><a href="actuator.html#actuator.metrics.export.elastic"></a>6.2.5. 松紧带</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.elastic"></a>6.2.5. Elastic</h4>
<div class="paragraph">
<p translation-result="on">默认情况下，度量会导出到本地机器上运行的 <a href="https://micrometer.io/docs/registry/elastic">Elastic</a> 。你可以用以下属性提供要使用的 Elastic 服务器的位置：</p>
<p translation-origin="off">By default, metrics are exported to <a href="https://micrometer.io/docs/registry/elastic">Elastic</a> running on your local machine.
You can provide the location of the Elastic server to use by using the following property:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.elastic.host=https://elastic.example.com:8086</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      elastic:
        host: "https://elastic.example.com:8086"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.ganglia" translation-result="on"><a href="actuator.html#actuator.metrics.export.ganglia"></a>6.2.6. 神经节</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.ganglia"></a>6.2.6. Ganglia</h4>
<div class="paragraph">
<p translation-result="on">默认情况下，度量会导出到本地机器上运行的 <a href="https://micrometer.io/docs/registry/ganglia">Ganglia</a> 。你可以提供 <a href="http://ganglia.sourceforge.net">Ganglia 服务器</a>主机和端口，如以下示例所示：</p>
<p translation-origin="off">By default, metrics are exported to <a href="https://micrometer.io/docs/registry/ganglia">Ganglia</a> running on your local machine.
You can provide the <a href="http://ganglia.sourceforge.net">Ganglia server</a> host and port, as the following example shows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.ganglia.host=ganglia.example.com
management.metrics.export.ganglia.port=9649</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      ganglia:
        host: "ganglia.example.com"
        port: 9649</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.graphite" translation-result="on"><a href="actuator.html#actuator.metrics.export.graphite"></a>6.2.7. 石墨</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.graphite"></a>6.2.7. Graphite</h4>
<div class="paragraph">
<p translation-result="on">默认情况下，度量会导出到本地计算机上运行的 <a href="https://micrometer.io/docs/registry/graphite">Graphite</a> 。你可以提供 <a href="https://graphiteapp.org">Graphite 服务器</a>主机和端口，如以下示例所示：</p>
<p translation-origin="off">By default, metrics are exported to <a href="https://micrometer.io/docs/registry/graphite">Graphite</a> running on your local machine.
You can provide the <a href="https://graphiteapp.org">Graphite server</a> host and port, as the following example shows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.graphite.host=graphite.example.com
management.metrics.export.graphite.port=9004</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
     export:
       graphite:
         host: "graphite.example.com"
         port: 9004</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">Micrometer 提供了一个默认的 <code>HierarchicalNameMapper</code> ，它控制维度计量器 ID 如何<a href="https://micrometer.io/docs/registry/graphite#_hierarchical_name_mapping">映射到平面分层名称</a>。</p>
<p translation-origin="off">Micrometer provides a default <code>HierarchicalNameMapper</code> that governs how a dimensional meter ID is <a href="https://micrometer.io/docs/registry/graphite#_hierarchical_name_mapping">mapped to flat hierarchical names</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<div class="paragraph">
<p translation-result="on">要控制此行为，请定义你的 <code>GraphiteMeterRegistry</code> 并提供你自己的 <code>HierarchicalNameMapper</code> 。除非你定义自己的，否则会提供自动配置的 <code>GraphiteConfig</code> 和 <code>Clock</code> bean：</p>
<p translation-origin="off">To take control over this behavior, define your <code>GraphiteMeterRegistry</code> and supply your own <code>HierarchicalNameMapper</code>.
An auto-configured <code>GraphiteConfig</code> and <code>Clock</code> beans are provided unless you define your own:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import io.micrometer.core.instrument.Clock;
import io.micrometer.core.instrument.Meter;
import io.micrometer.core.instrument.config.NamingConvention;
import io.micrometer.core.instrument.util.HierarchicalNameMapper;
import io.micrometer.graphite.GraphiteConfig;
import io.micrometer.graphite.GraphiteMeterRegistry;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MyGraphiteConfiguration {

    @Bean
    public GraphiteMeterRegistry graphiteMeterRegistry(GraphiteConfig config, Clock clock) {
        return new GraphiteMeterRegistry(config, clock, this::toHierarchicalName);
    }

    private String toHierarchicalName(Meter.Id id, NamingConvention convention) {
        return ...
    }

}
</span></code></pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.humio" translation-result="on"><a href="actuator.html#actuator.metrics.export.humio"></a>6.2.8. 胡米奥</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.humio"></a>6.2.8. Humio</h4>
<div class="paragraph">
<p translation-result="on">默认情况下，Humio 注册表会定期将度量推送到 <a href="https://cloud.humio.com">cloud.humio.com</a> 。要将度量导出到 SaaS <a href="https://micrometer.io/docs/registry/humio">Humio</a> ，你必须提供你的 API 令牌：</p>
<p translation-origin="off">By default, the Humio registry periodically pushes metrics to <a href="https://cloud.humio.com" class="bare">cloud.humio.com</a>.
To export metrics to SaaS <a href="https://micrometer.io/docs/registry/humio">Humio</a>, you must provide your API token:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.humio.api-token=YOUR_TOKEN</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      humio:
        api-token: "YOUR_TOKEN"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你还应该配置一个或多个标签来识别度量推送到的数据源：</p>
<p translation-origin="off">You should also configure one or more tags to identify the data source to which metrics are pushed:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.humio.tags.alpha=a
management.metrics.export.humio.tags.bravo=b</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      humio:
        tags:
          alpha: "a"
          bravo: "b"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.influx" translation-result="on"><a href="actuator.html#actuator.metrics.export.influx"></a>6.2.9. 涌入</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.influx"></a>6.2.9. Influx</h4>
<div class="paragraph">
<p translation-result="on">默认情况下，度量会导出到使用默认配置在本地计算机上运行的 <a href="https://micrometer.io/docs/registry/influx">Influx</a> v1 实例。要将度量导出到 InfluxDB v2，请配置 <code>org</code> 、 <code>bucket</code> 和 authentication <code>token</code> 以编写度量。你可以用以下命令提供要使用的 <a href="https://www.influxdata.com">Influx 服务器</a>的位置：</p>
<p translation-origin="off">By default, metrics are exported to an <a href="https://micrometer.io/docs/registry/influx">Influx</a> v1 instance running on your local machine with the default configuration.
To export metrics to InfluxDB v2, configure the <code>org</code>, <code>bucket</code>, and authentication <code>token</code> for writing metrics.
You can provide the location of the <a href="https://www.influxdata.com">Influx server</a> to use by using:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.influx.uri=https://influx.example.com:8086</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      influx:
        uri: "https://influx.example.com:8086"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.jmx" translation-result="on"><a href="actuator.html#actuator.metrics.export.jmx"></a>6.2.10.JMX</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.jmx"></a>6.2.10. JMX</h4>
<div class="paragraph">
<p translation-result="on">Micrometer 提供到 <a href="https://micrometer.io/docs/registry/jmx">JMX</a> 的分层映射，主要是作为一种在本地查看度量的廉价且可移植的方式。默认情况下，度量会导出到 <code>metrics</code> JMX 域。你可以用以下方式提供要使用的域：</p>
<p translation-origin="off">Micrometer provides a hierarchical mapping to <a href="https://micrometer.io/docs/registry/jmx">JMX</a>, primarily as a cheap and portable way to view metrics locally.
By default, metrics are exported to the <code>metrics</code> JMX domain.
You can provide the domain to use by using:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.jmx.domain=com.example.app.metrics</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      jmx:
        domain: "com.example.app.metrics"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">Micrometer 提供了一个默认的 <code>HierarchicalNameMapper</code> ，它控制维度计量器 ID 如何<a href="https://micrometer.io/docs/registry/jmx#_hierarchical_name_mapping">映射到平面分层名称</a>。</p>
<p translation-origin="off">Micrometer provides a default <code>HierarchicalNameMapper</code> that governs how a dimensional meter ID is <a href="https://micrometer.io/docs/registry/jmx#_hierarchical_name_mapping">mapped to flat hierarchical names</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<div class="paragraph">
<p translation-result="on">要控制此行为，请定义你的 <code>JmxMeterRegistry</code> 并提供你自己的 <code>HierarchicalNameMapper</code> 。除非你定义自己的，否则会提供自动配置的 <code>JmxConfig</code> 和 <code>Clock</code> bean：</p>
<p translation-origin="off">To take control over this behavior, define your <code>JmxMeterRegistry</code> and supply your own <code>HierarchicalNameMapper</code>.
An auto-configured <code>JmxConfig</code> and <code>Clock</code> beans are provided unless you define your own:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import io.micrometer.core.instrument.Clock;
import io.micrometer.core.instrument.Meter;
import io.micrometer.core.instrument.config.NamingConvention;
import io.micrometer.core.instrument.util.HierarchicalNameMapper;
import io.micrometer.jmx.JmxConfig;
import io.micrometer.jmx.JmxMeterRegistry;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MyJmxConfiguration {

    @Bean
    public JmxMeterRegistry jmxMeterRegistry(JmxConfig config, Clock clock) {
        return new JmxMeterRegistry(config, clock, this::toHierarchicalName);
    }

    private String toHierarchicalName(Meter.Id id, NamingConvention convention) {
        return ...
    }

}
</span></code></pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.kairos" translation-result="on"><a href="actuator.html#actuator.metrics.export.kairos"></a>6.2.11. 凯罗斯数据库</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.kairos"></a>6.2.11. KairosDB</h4>
<div class="paragraph">
<p translation-result="on">默认情况下，度量会导出到本地计算机上运行的 <a href="https://micrometer.io/docs/registry/kairos">KairosDB</a> 。你可以用以下方法提供 <a href="https://kairosdb.github.io/">KairosDB 服务器</a>的位置以使用：</p>
<p translation-origin="off">By default, metrics are exported to <a href="https://micrometer.io/docs/registry/kairos">KairosDB</a> running on your local machine.
You can provide the location of the <a href="https://kairosdb.github.io/">KairosDB server</a> to use by using:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.kairos.uri=https://kairosdb.example.com:8080/api/v1/datapoints</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      kairos:
        uri: "https://kairosdb.example.com:8080/api/v1/datapoints"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.newrelic" translation-result="on"><a href="actuator.html#actuator.metrics.export.newrelic"></a>6.2.12. 新遗物</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.newrelic"></a>6.2.12. New Relic</h4>
<div class="paragraph">
<p translation-result="on">New Relic 注册表会定期将度量推送到 <a href="https://micrometer.io/docs/registry/new-relic">New Relic</a> 。要将度量导出到 <a href="https://newrelic.com">New Relic</a> ，你必须提供你的 API 密钥和帐户 ID：</p>
<p translation-origin="off">A New Relic registry periodically pushes metrics to <a href="https://micrometer.io/docs/registry/new-relic">New Relic</a>.
To export metrics to <a href="https://newrelic.com">New Relic</a>, you must provide your API key and account ID:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.newrelic.api-key=YOUR_KEY
management.metrics.export.newrelic.account-id=YOUR_ACCOUNT_ID</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      newrelic:
        api-key: "YOUR_KEY"
        account-id: "YOUR_ACCOUNT_ID"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你还可以更改将度量发送到 New Relic 的时间间隔：</p>
<p translation-origin="off">You can also change the interval at which metrics are sent to New Relic:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.newrelic.step=30s</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      newrelic:
        step: "30s"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，度量是通过 REST 调用发布的，但如果你在类路径中有 Java 代理 API，你也可以用它：</p>
<p translation-origin="off">By default, metrics are published through REST calls, but you can also use the Java Agent API if you have it on the classpath:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.newrelic.client-provider-type=insights-agent</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      newrelic:
        client-provider-type: "insights-agent"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">最后，你可以通过定义自己的 <code>NewRelicClientProvider</code> bean 来完全控制。</p>
<p translation-origin="off">Finally, you can take full control by defining your own <code>NewRelicClientProvider</code> bean.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.prometheus" translation-result="on"><a href="actuator.html#actuator.metrics.export.prometheus"></a>6.2.13. 普罗米修斯</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.prometheus"></a>6.2.13. Prometheus</h4>
<div class="paragraph">
<p translation-result="on"><a href="https://micrometer.io/docs/registry/prometheus">Prometheus</a> 希望抓取或轮询单个应用程序实例的度量。Spring Boot 在 <code>/actuator/prometheus</code> 提供了一个执行器端点，以呈现具有适当格式的 <a href="https://prometheus.io">Prometheus 抓取</a>。</p>
<p translation-origin="off"><a href="https://micrometer.io/docs/registry/prometheus">Prometheus</a> expects to scrape or poll individual application instances for metrics.
Spring Boot provides an actuator endpoint at <code>/actuator/prometheus</code> to present a <a href="https://prometheus.io">Prometheus scrape</a> with the appropriate format.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">默认情况下，端点不可用，必须公开。有关更多详细信息，请参阅<a href="actuator.html#actuator.endpoints.exposing">公开端点</a>。</p>
<p translation-origin="off">By default, the endpoint is not available and must be exposed. See <a href="actuator.html#actuator.endpoints.exposing">exposing endpoints</a> for more details.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">以下示例 <code>scrape_config</code> 添加到 <code>prometheus.yml</code> ：</p>
<p translation-origin="off">The following example <code>scrape_config</code> adds to <code>prometheus.yml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">scrape_configs:
  - job_name: "spring"
    metrics_path: "/actuator/prometheus"
    static_configs:
      - targets: ["HOST:PORT"]</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">对于可能存在时间不够长而无法被抓取的临时或批处理作业，你可以用 <a href="https://github.com/prometheus/pushgateway">Prometheus Pushgateway</a> 支持将度量公开给 Prometheus。要启用 Prometheus Pushgateway 支持，请将以下依赖项添加到你的项目中：</p>
<p translation-origin="off">For ephemeral or batch jobs that may not exist long enough to be scraped, you can use <a href="https://github.com/prometheus/pushgateway">Prometheus Pushgateway</a> support to expose the metrics to Prometheus.
To enable Prometheus Pushgateway support, add the following dependency to your project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.prometheus&lt;/groupId&gt;
    &lt;artifactId&gt;simpleclient_pushgateway&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">当类路径上存在 Prometheus Pushgateway 依赖项并且 <code>management.metrics.export.prometheus.pushgateway.enabled</code> 属性设置为 <code>true</code> 时，会自动配置 <code>PrometheusPushGatewayManager</code> bean。这管理将度量推送到 Prometheus Pushgateway。</p>
<p translation-origin="off">When the Prometheus Pushgateway dependency is present on the classpath and the <code>management.metrics.export.prometheus.pushgateway.enabled</code> property is set to <code>true</code>, a <code>PrometheusPushGatewayManager</code> bean is auto-configured.
This manages the pushing of metrics to a Prometheus Pushgateway.</p>
</div>
<div class="paragraph">
<p translation-result="on">你可以用 <code>management.metrics.export.prometheus.pushgateway</code> 下的属性来调整 <code>PrometheusPushGatewayManager</code> 。对于高级配置，你还可以提供自己的 <code>PrometheusPushGatewayManager</code> bean。</p>
<p translation-origin="off">You can tune the <code>PrometheusPushGatewayManager</code> by using properties under <code>management.metrics.export.prometheus.pushgateway</code>.
For advanced configuration, you can also provide your own <code>PrometheusPushGatewayManager</code> bean.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.signalfx" translation-result="on"><a href="actuator.html#actuator.metrics.export.signalfx"></a>6.2.14. 信号效果</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.signalfx"></a>6.2.14. SignalFx</h4>
<div class="paragraph">
<p translation-result="on">SignalFx 注册表会定期将度量推送到 <a href="https://micrometer.io/docs/registry/signalFx">SignalFx</a> 。要将度量导出到 <a href="https://www.signalfx.com">SignalFx</a> ，你必须提供访问令牌：</p>
<p translation-origin="off">SignalFx registry periodically pushes metrics to <a href="https://micrometer.io/docs/registry/signalFx">SignalFx</a>.
To export metrics to <a href="https://www.signalfx.com">SignalFx</a>, you must provide your access token:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.signalfx.access-token=YOUR_ACCESS_TOKEN</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      signalfx:
        access-token: "YOUR_ACCESS_TOKEN"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你还可以更改将度量发送到 SignalFx 的时间间隔：</p>
<p translation-origin="off">You can also change the interval at which metrics are sent to SignalFx:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.signalfx.step=30s</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      signalfx:
        step: "30s"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.simple" translation-result="on"><a href="actuator.html#actuator.metrics.export.simple"></a>6.2.15. 简单的</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.simple"></a>6.2.15. Simple</h4>
<div class="paragraph">
<p translation-result="on">Micrometer 附带一个简单的内存后端，如果没有配置其他注册表，它会自动用作备用。这使你可以查看在 <a href="actuator.html#actuator.metrics.endpoint">metrics 端点</a>中收集了哪些度量。</p>
<p translation-origin="off">Micrometer ships with a simple, in-memory backend that is automatically used as a fallback if no other registry is configured.
This lets you see what metrics are collected in the <a href="actuator.html#actuator.metrics.endpoint">metrics endpoint</a>.</p>
</div>
<div class="paragraph">
<p translation-result="on">只要你使用任何其他可用的后端，内存中的后端就会自行禁用。你也可以显式禁用它：</p>
<p translation-origin="off">The in-memory backend disables itself as soon as you use any other available backend.
You can also disable it explicitly:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.simple.enabled=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      simple:
        enabled: false</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.stackdriver" translation-result="on"><a href="actuator.html#actuator.metrics.export.stackdriver"></a>6.2.16. 堆栈驱动程序</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.stackdriver"></a>6.2.16. Stackdriver</h4>
<div class="paragraph">
<p translation-result="on">Stackdriver 注册表会定期将度量推送到 <a href="https://cloud.google.com/stackdriver/">Stackdriver</a> 。要将度量导出到 SaaS <a href="https://micrometer.io/docs/registry/stackdriver">Stackdriver</a> ，你必须提供你的 Google Cloud 项目 ID：</p>
<p translation-origin="off">The Stackdriver registry periodically pushes metrics to <a href="https://cloud.google.com/stackdriver/">Stackdriver</a>.
To export metrics to SaaS <a href="https://micrometer.io/docs/registry/stackdriver">Stackdriver</a>, you must provide your Google Cloud project ID:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.stackdriver.project-id=my-project</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      stackdriver:
        project-id: "my-project"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你还可以更改将度量发送到 Stackdriver 的时间间隔：</p>
<p translation-origin="off">You can also change the interval at which metrics are sent to Stackdriver:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.stackdriver.step=30s</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      stackdriver:
        step: "30s"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.statsd" translation-result="on"><a href="actuator.html#actuator.metrics.export.statsd"></a>6.2.17. 统计数据</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.statsd"></a>6.2.17. StatsD</h4>
<div class="paragraph">
<p translation-result="on">StatsD 注册表通过 UDP 急切地将度量推送到 StatsD 代理。默认情况下，度量会导出到本地计算机上运行的 <a href="https://micrometer.io/docs/registry/statsD">StatsD</a> 代理。你可以通过以下方式提供要使用的 StatsD 代理主机、端口和协议：</p>
<p translation-origin="off">The StatsD registry eagerly pushes metrics over UDP to a StatsD agent.
By default, metrics are exported to a <a href="https://micrometer.io/docs/registry/statsD">StatsD</a> agent running on your local machine.
You can provide the StatsD agent host, port, and protocol to use by using:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.statsd.host=statsd.example.com
management.metrics.export.statsd.port=9125
management.metrics.export.statsd.protocol=udp</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      statsd:
        host: "statsd.example.com"
        port: 9125
        protocol: "udp"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">你还可以更改要使用的 StatsD 线路协议（默认为 Datadog）：</p>
<p translation-origin="off">You can also change the StatsD line protocol to use (it defaults to Datadog):</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.statsd.flavor=etsy</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      statsd:
        flavor: "etsy"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.export.wavefront" translation-result="on"><a href="actuator.html#actuator.metrics.export.wavefront"></a>6.2.18. 波前</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.export.wavefront"></a>6.2.18. Wavefront</h4>
<div class="paragraph">
<p translation-result="on">Wavefront 注册表会定期将度量推送到 <a href="https://micrometer.io/docs/registry/wavefront">Wavefront</a> 。如果你将度量直接导出到 <a href="https://www.wavefront.com/">Wavefront</a> ，则必须提供你的 API 令牌：</p>
<p translation-origin="off">The Wavefront registry periodically pushes metrics to <a href="https://micrometer.io/docs/registry/wavefront">Wavefront</a>.
If you are exporting metrics to <a href="https://www.wavefront.com/">Wavefront</a> directly, you must provide your API token:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.wavefront.api-token=YOUR_API_TOKEN</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      wavefront:
        api-token: "YOUR_API_TOKEN"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">或者，你可以在你的环境中使用 Wavefront sidecar 或内部代理将度量数据转发到 Wavefront API 主机：</p>
<p translation-origin="off">Alternatively, you can use a Wavefront sidecar or an internal proxy in your environment to forward metrics data to the Wavefront API host:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.wavefront.uri=proxy://localhost:2878</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      wavefront:
        uri: "proxy://localhost:2878"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">如果你将度量发布到 Wavefront 代理（如 <a href="https://docs.wavefront.com/proxies_installing.html">Wavefront 文档中所述</a>），则主机必须采用 <code>proxy://HOST:PORT</code> 格式。</p>
<p translation-origin="off">If you publish metrics to a Wavefront proxy (as described in <a href="https://docs.wavefront.com/proxies_installing.html">the Wavefront documentation</a>), the host must be in the <code>proxy://HOST:PORT</code> format.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">你还可以更改将度量发送到 Wavefront 的时间间隔：</p>
<p translation-origin="off">You can also change the interval at which metrics are sent to Wavefront:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.export.wavefront.step=30s</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    export:
      wavefront:
        step: "30s"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.metrics.supported" translation-result="on"><a href="actuator.html#actuator.metrics.supported"></a>6.3. 支持的度量和仪表</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported"></a>6.3. Supported Metrics and Meters</h3>
<div class="paragraph">
<p translation-result="on">Spring Boot 为多种技术提供自动仪表注册。在大多数情况下，默认值提供了可以发布到任何受支持的监控系统的合理度量。</p>
<p translation-origin="off">Spring Boot provides automatic meter registration for a wide variety of technologies.
In most situations, the defaults provide sensible metrics that can be published to any of the supported monitoring systems.</p>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.jvm" translation-result="on"><a href="actuator.html#actuator.metrics.supported.jvm"></a>6.3.1. JVM 度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.jvm"></a>6.3.1. JVM Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置通过使用核心 Micrometer 类启用 JVM Metrics。JVM 度量在 <code>jvm.</code> 仪表名称。</p>
<p translation-origin="off">Auto-configuration enables JVM Metrics by using core Micrometer classes.
JVM metrics are published under the <code>jvm.</code> meter name.</p>
</div>
<div class="paragraph">
<p translation-result="on">提供了以下 JVM 度量：</p>
<p translation-origin="off">The following JVM metrics are provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on">各种内存和缓冲池细节</p>
<p translation-origin="off">Various memory and buffer pool details</p>
</li>
<li>
<p translation-result="on">垃圾回收相关统计</p>
<p translation-origin="off">Statistics related to garbage collection</p>
</li>
<li>
<p translation-result="on">线程利用率</p>
<p translation-origin="off">Thread utilization</p>
</li>
<li>
<p translation-result="on">加载和卸载的类数</p>
<p translation-origin="off">The number of classes loaded and unloaded</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.system" translation-result="on"><a href="actuator.html#actuator.metrics.supported.system"></a>6.3.2. 系统度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.system"></a>6.3.2. System Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置通过使用核心 Micrometer 类启用系统度量。系统度量在 <code>system.</code> ，<code>process.</code> , 和 <code>disk.</code> 仪表名称。</p>
<p translation-origin="off">Auto-configuration enables system metrics by using core Micrometer classes.
System metrics are published under the <code>system.</code>, <code>process.</code>, and <code>disk.</code> meter names.</p>
</div>
<div class="paragraph">
<p translation-result="on">提供了以下系统度量：</p>
<p translation-origin="off">The following system metrics are provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on">CPU 度量</p>
<p translation-origin="off">CPU metrics</p>
</li>
<li>
<p translation-result="on">文件描述符度量</p>
<p translation-origin="off">File descriptor metrics</p>
</li>
<li>
<p translation-result="on">正常运行时间度量（应用程序运行的时间量和绝对开始时间的固定量规）</p>
<p translation-origin="off">Uptime metrics (both the amount of time the application has been running and a fixed gauge of the absolute start time)</p>
</li>
<li>
<p translation-result="on">可用磁盘空间</p>
<p translation-origin="off">Disk space available</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.application-startup" translation-result="on"><a href="actuator.html#actuator.metrics.supported.application-startup"></a>6.3.3. 应用程序启动度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.application-startup"></a>6.3.3. Application Startup Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置公开应用程序启动时间度量：</p>
<p translation-origin="off">Auto-configuration exposes application startup time metrics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on"><code>application.started.time</code> ：启动应用程序所用的时间。</p>
<p translation-origin="off"><code>application.started.time</code>: time taken to start the application.</p>
</li>
<li>
<p translation-result="on"><code>application.ready.time</code> ：应用程序准备好为请求提供服务所需的时间。</p>
<p translation-origin="off"><code>application.ready.time</code>: time taken for the application to be ready to service requests.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p translation-result="on">度量由应用程序类的完全限定名称标记。</p>
<p translation-origin="off">Metrics are tagged by the fully qualified name of the application class.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.logger" translation-result="on"><a href="actuator.html#actuator.metrics.supported.logger"></a>6.3.4. 记录器度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.logger"></a>6.3.4. Logger Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置为 Logback 和 Log4J2 启用事件度量。详细信息发布在 <code>log4j2.events.</code> 或 <code>logback.events.</code> 仪表名称。</p>
<p translation-origin="off">Auto-configuration enables the event metrics for both Logback and Log4J2.
The details are published under the <code>log4j2.events.</code> or <code>logback.events.</code> meter names.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.tasks" translation-result="on"><a href="actuator.html#actuator.metrics.supported.tasks"></a>6.3.5. 任务执行和调度度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.tasks"></a>6.3.5. Task Execution and Scheduling Metrics</h4>
<div class="paragraph">
<p translation-result="on">只要底层 <code>ThreadPoolExecutor</code> 可用，自动配置就可以检测所有可用的 <code>ThreadPoolTaskExecutor</code> 和 <code>ThreadPoolTaskScheduler</code> bean。度量由执行者的名称标记，该名称派生自 bean 名称。</p>
<p translation-origin="off">Auto-configuration enables the instrumentation of all available <code>ThreadPoolTaskExecutor</code> and <code>ThreadPoolTaskScheduler</code> beans, as long as the underling <code>ThreadPoolExecutor</code> is available.
Metrics are tagged by the name of the executor, which is derived from the bean name.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.spring-mvc" translation-result="on"><a href="actuator.html#actuator.metrics.supported.spring-mvc"></a>6.3.6. Spring MVC 度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.spring-mvc"></a>6.3.6. Spring MVC Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置启用对 Spring MVC 控制器和功能处理程序处理的所有请求的检测。默认情况下，生成的度量名称为 <code>http.server.requests</code> 。你可以通过设置 <code>management.metrics.web.server.request.metric-name</code> 属性来自定义名称。</p>
<p translation-origin="off">Auto-configuration enables the instrumentation of all requests handled by Spring MVC controllers and functional handlers.
By default, metrics are generated with the name, <code>http.server.requests</code>.
You can customized the name by setting the <code>management.metrics.web.server.request.metric-name</code> property.</p>
</div>
<div class="paragraph">
<p translation-result="on"><code>@Controller</code> 类和 <code>@RequestMapping</code> 方法支持 <code>@Timed</code> 注释（有关详细信息，请参阅<a href="actuator.html#actuator.metrics.supported.timed-annotation">@Timed 注释支持</a>）。如果你不想记录所有 Spring MVC 请求的度量，可以将 <code>management.metrics.web.server.request.autotime.enabled</code> 设置为 <code>false</code> 并专门使用 <code>@Timed</code> 注释。</p>
<p translation-origin="off"><code>@Timed</code> annotations are supported on <code>@Controller</code> classes and <code>@RequestMapping</code> methods (see <a href="actuator.html#actuator.metrics.supported.timed-annotation">@Timed Annotation Support</a> for details).
If you do not want to record metrics for all Spring MVC requests, you can set <code>management.metrics.web.server.request.autotime.enabled</code> to <code>false</code> and exclusively use <code>@Timed</code> annotations instead.</p>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，与 Spring MVC 相关的度量标记有以下信息：</p>
<p translation-origin="off">By default, Spring MVC related metrics are tagged with the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">标签</p>
  <p translation-origin="off">Tag</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exception</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">处理请求时引发的任何异常的简单类名。</p><p class="tableblock" translation-origin="off">The simple class name of any exception that was thrown while handling the request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>method</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">请求的方法（例如 <code>GET</code> 或 <code>POST</code> ）</p><p class="tableblock" translation-origin="off">The request’s method (for example, <code>GET</code> or <code>POST</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>outcome</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">请求的结果，基于响应的状态代码。1xx 是 <code>INFORMATIONAL</code> ，2xx 是 <code>SUCCESS</code> ，3xx 是 <code>REDIRECTION</code> ，4xx 是 <code>CLIENT_ERROR</code> ，5xx 是 <code>SERVER_ERROR</code> </p><p class="tableblock" translation-origin="off">The request’s outcome, based on the status code of the response.
1xx is <code>INFORMATIONAL</code>, 2xx is <code>SUCCESS</code>, 3xx is <code>REDIRECTION</code>, 4xx is <code>CLIENT_ERROR</code>, and 5xx is <code>SERVER_ERROR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">响应的 HTTP 状态代码（例如 <code>200</code> 或 <code>500</code> ）</p><p class="tableblock" translation-origin="off">The response’s HTTP status code (for example, <code>200</code> or <code>500</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">变量替换之前的请求 URI 模板，如果可能的话（例如，<code>/api/person/{id}</code> ）</p><p class="tableblock" translation-origin="off">The request’s URI template prior to variable substitution, if possible (for example, <code>/api/person/{id}</code>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">要添加到默认标签，请提供一个或多个实现 <code>@Bean</code> 的 <code>WebMvcTagsContributor</code> 。要替换默认标签，请提供一个实现 <code>@Bean</code> 的 <code>WebMvcTagsProvider</code> 。</p>
<p translation-origin="off">To add to the default tags, provide one or more <code>@Bean</code>s that implement <code>WebMvcTagsContributor</code>.
To replace the default tags, provide a <code>@Bean</code> that implements <code>WebMvcTagsProvider</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">在某些情况下，Web 控制器中处理的异常不会记录为请求度量标签。应用程序可以通过<a href="web.html#web.servlet.spring-mvc.error-handling">将处理的异常设置为请求属性</a>来选择加入并记录异常。</p>
<p translation-origin="off">In some cases, exceptions handled in web controllers are not recorded as request metrics tags.
Applications can opt in and record exceptions by <a href="web.html#web.servlet.spring-mvc.error-handling">setting handled exceptions as request attributes</a>.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.spring-webflux" translation-result="on"><a href="actuator.html#actuator.metrics.supported.spring-webflux"></a>6.3.7. Spring WebFlux 度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.spring-webflux"></a>6.3.7. Spring WebFlux Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置支持对 Spring WebFlux 控制器和功能处理程序处理的所有请求进行检测。默认情况下，生成的度量名称为 <code>http.server.requests</code> 。你可以通过设置 <code>management.metrics.web.server.request.metric-name</code> 属性来自定义名称。</p>
<p translation-origin="off">Auto-configuration enables the instrumentation of all requests handled by Spring WebFlux controllers and functional handlers.
By default, metrics are generated with the name, <code>http.server.requests</code>.
You can customize the name by setting the <code>management.metrics.web.server.request.metric-name</code> property.</p>
</div>
<div class="paragraph">
<p translation-result="on"><code>@Controller</code> 类和 <code>@RequestMapping</code> 方法支持 <code>@Timed</code> 注释（有关详细信息，请参阅<a href="actuator.html#actuator.metrics.supported.timed-annotation">@Timed 注释支持</a>）。如果你不想记录所有 Spring WebFlux 请求的度量，可以将 <code>management.metrics.web.server.request.autotime.enabled</code> 设置为 <code>false</code> 并专门使用 <code>@Timed</code> 注释。</p>
<p translation-origin="off"><code>@Timed</code> annotations are supported on <code>@Controller</code> classes and <code>@RequestMapping</code> methods (see <a href="actuator.html#actuator.metrics.supported.timed-annotation">@Timed Annotation Support</a> for details).
If you do not want to record metrics for all Spring WebFlux requests, you can set <code>management.metrics.web.server.request.autotime.enabled</code> to <code>false</code> and exclusively use <code>@Timed</code> annotations instead.</p>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，WebFlux 相关度量标记有以下信息：</p>
<p translation-origin="off">By default, WebFlux related metrics are tagged with the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">标签</p>
  <p translation-origin="off">Tag</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exception</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">处理请求时引发的任何异常的简单类名。</p><p class="tableblock" translation-origin="off">The simple class name of any exception that was thrown while handling the request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>method</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">请求的方法（例如 <code>GET</code> 或 <code>POST</code> ）</p><p class="tableblock" translation-origin="off">The request’s method (for example, <code>GET</code> or <code>POST</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>outcome</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">请求的结果，基于响应的状态代码。1xx 是 <code>INFORMATIONAL</code> ，2xx 是 <code>SUCCESS</code> ，3xx 是 <code>REDIRECTION</code> ，4xx 是 <code>CLIENT_ERROR</code> ，5xx 是 <code>SERVER_ERROR</code> </p><p class="tableblock" translation-origin="off">The request’s outcome, based on the status code of the response.
1xx is <code>INFORMATIONAL</code>, 2xx is <code>SUCCESS</code>, 3xx is <code>REDIRECTION</code>, 4xx is <code>CLIENT_ERROR</code>, and 5xx is <code>SERVER_ERROR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">响应的 HTTP 状态代码（例如 <code>200</code> 或 <code>500</code> ）</p><p class="tableblock" translation-origin="off">The response’s HTTP status code (for example, <code>200</code> or <code>500</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">变量替换之前的请求 URI 模板，如果可能的话（例如，<code>/api/person/{id}</code> ）</p><p class="tableblock" translation-origin="off">The request’s URI template prior to variable substitution, if possible (for example, <code>/api/person/{id}</code>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">要添加到默认标签，请提供一个或多个实现 <code>WebFluxTagsContributor</code> 的 bean。要替换默认标签，请提供一个实现 <code>WebFluxTagsProvider</code> 的 bean。</p>
<p translation-origin="off">To add to the default tags, provide one or more beans that implement <code>WebFluxTagsContributor</code>.
To replace the default tags, provide a bean that implements <code>WebFluxTagsProvider</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">在某些情况下，控制器和处理程序函数中处理的异常不会记录为请求度量标签。应用程序可以通过<a href="web.html#web.reactive.webflux.error-handling">将处理的异常设置为请求属性</a>来选择加入并记录异常。</p>
<p translation-origin="off">In some cases, exceptions handled in controllers and handler functions are not recorded as request metrics tags.
Applications can opt in and record exceptions by <a href="web.html#web.reactive.webflux.error-handling">setting handled exceptions as request attributes</a>.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.jersey" translation-result="on"><a href="actuator.html#actuator.metrics.supported.jersey"></a>6.3.8. 泽西服务器度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.jersey"></a>6.3.8. Jersey Server Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置支持检测由 Jersey JAX-RS 实现处理的所有请求。默认情况下，生成的度量名称为 <code>http.server.requests</code> 。你可以通过设置 <code>management.metrics.web.server.request.metric-name</code> 属性来自定义名称。</p>
<p translation-origin="off">Auto-configuration enables the instrumentation of all requests handled by the Jersey JAX-RS implementation.
By default, metrics are generated with the name, <code>http.server.requests</code>.
You can customize the name by setting the <code>management.metrics.web.server.request.metric-name</code> property.</p>
</div>
<div class="paragraph">
<p translation-result="on">请求处理类和方法支持 <code>@Timed</code> 注释（有关详细信息，请参阅<a href="actuator.html#actuator.metrics.supported.timed-annotation">@Timed 注释支持</a>）。如果你不想记录所有 Jersey 请求的度量，可以将 <code>management.metrics.web.server.request.autotime.enabled</code> 设置为 <code>false</code> 并专门使用 <code>@Timed</code> 注释。</p>
<p translation-origin="off"><code>@Timed</code> annotations are supported on request-handling classes and methods (see <a href="actuator.html#actuator.metrics.supported.timed-annotation">@Timed Annotation Support</a> for details).
If you do not want to record metrics for all Jersey requests, you can set <code>management.metrics.web.server.request.autotime.enabled</code> to <code>false</code> and exclusively use <code>@Timed</code> annotations instead.</p>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，Jersey 服务器度量标记有以下信息：</p>
<p translation-origin="off">By default, Jersey server metrics are tagged with the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">标签</p>
  <p translation-origin="off">Tag</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exception</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">处理请求时引发的任何异常的简单类名。</p><p class="tableblock" translation-origin="off">The simple class name of any exception that was thrown while handling the request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>method</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">请求的方法（例如 <code>GET</code> 或 <code>POST</code> ）</p><p class="tableblock" translation-origin="off">The request’s method (for example, <code>GET</code> or <code>POST</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>outcome</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">请求的结果，基于响应的状态代码。1xx 是 <code>INFORMATIONAL</code> ，2xx 是 <code>SUCCESS</code> ，3xx 是 <code>REDIRECTION</code> ，4xx 是 <code>CLIENT_ERROR</code> ，5xx 是 <code>SERVER_ERROR</code> </p><p class="tableblock" translation-origin="off">The request’s outcome, based on the status code of the response.
1xx is <code>INFORMATIONAL</code>, 2xx is <code>SUCCESS</code>, 3xx is <code>REDIRECTION</code>, 4xx is <code>CLIENT_ERROR</code>, and 5xx is <code>SERVER_ERROR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">响应的 HTTP 状态代码（例如 <code>200</code> 或 <code>500</code> ）</p><p class="tableblock" translation-origin="off">The response’s HTTP status code (for example, <code>200</code> or <code>500</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">变量替换之前的请求 URI 模板，如果可能的话（例如，<code>/api/person/{id}</code> ）</p><p class="tableblock" translation-origin="off">The request’s URI template prior to variable substitution, if possible (for example, <code>/api/person/{id}</code>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">要自定义标签，请提供一个实现 <code>@Bean</code> 的 <code>JerseyTagsProvider</code> 。</p>
<p translation-origin="off">To customize the tags, provide a <code>@Bean</code> that implements <code>JerseyTagsProvider</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.http-clients" translation-result="on"><a href="actuator.html#actuator.metrics.supported.http-clients"></a>6.3.9. HTTP 客户端度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.http-clients"></a>6.3.9. HTTP Client Metrics</h4>
<div class="paragraph">
<p translation-result="on">Spring Boot Actuator 管理 <code>RestTemplate</code> 和 <code>WebClient</code> 的检测。为此，你必须注入自动配置的构建器并使用它来创建实例：</p>
<p translation-origin="off">Spring Boot Actuator manages the instrumentation of both <code>RestTemplate</code> and <code>WebClient</code>.
For that, you have to inject the auto-configured builder and use it to create instances:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on">用于 <code>RestTemplateBuilder</code> 的 <code>RestTemplate</code> </p>
<p translation-origin="off"><code>RestTemplateBuilder</code> for <code>RestTemplate</code></p>
</li>
<li>
<p translation-result="on">用于 <code>WebClient.Builder</code> 的 <code>WebClient</code> </p>
<p translation-origin="off"><code>WebClient.Builder</code> for <code>WebClient</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p translation-result="on">你还可以手动应用负责此检测的定制器，即 <code>MetricsRestTemplateCustomizer</code> 和 <code>MetricsWebClientCustomizer</code> 。</p>
<p translation-origin="off">You can also manually apply the customizers responsible for this instrumentation, namely <code>MetricsRestTemplateCustomizer</code> and <code>MetricsWebClientCustomizer</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，生成的度量名称为 <code>http.client.requests</code> 。你可以通过设置 <code>management.metrics.web.client.request.metric-name</code> 属性来自定义名称。</p>
<p translation-origin="off">By default, metrics are generated with the name, <code>http.client.requests</code>.
You can customize the name by setting the <code>management.metrics.web.client.request.metric-name</code> property.</p>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，由检测客户端生成的度量带有以下信息标记：</p>
<p translation-origin="off">By default, metrics generated by an instrumented client are tagged with the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">标签</p>
  <p translation-origin="off">Tag</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clientName</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">URI 的主机部分</p><p class="tableblock" translation-origin="off">The host portion of the URI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>method</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">请求的方法（例如 <code>GET</code> 或 <code>POST</code> ）</p><p class="tableblock" translation-origin="off">The request’s method (for example, <code>GET</code> or <code>POST</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>outcome</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">请求的结果，基于响应的状态代码。1xx 是 <code>INFORMATIONAL</code> ，2xx 是 <code>SUCCESS</code> ，3xx 是 <code>REDIRECTION</code> ，4xx 是 <code>CLIENT_ERROR</code> ，5xx 是 <code>SERVER_ERROR</code> 。否则，它是 <code>UNKNOWN</code> 。</p><p class="tableblock" translation-origin="off">The request’s outcome, based on the status code of the response.
1xx is <code>INFORMATIONAL</code>, 2xx is <code>SUCCESS</code>, 3xx is <code>REDIRECTION</code>, 4xx is <code>CLIENT_ERROR</code>, and 5xx is <code>SERVER_ERROR</code>. Otherwise, it is <code>UNKNOWN</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">响应的 HTTP 状态代码（例如，<code>200</code> 或 <code>500</code> ）或 <code>IO_ERROR</code> （如果出现 I/O 问题）。否则，它是 <code>CLIENT_ERROR</code> 。</p><p class="tableblock" translation-origin="off">The response’s HTTP status code if available (for example, <code>200</code> or <code>500</code>) or <code>IO_ERROR</code> in case of I/O issues. Otherwise, it is <code>CLIENT_ERROR</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">变量替换之前的请求 URI 模板，如果可能的话（例如，<code>/api/person/{id}</code> ）</p><p class="tableblock" translation-origin="off">The request’s URI template prior to variable substitution, if possible (for example, <code>/api/person/{id}</code>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">要自定义标签，根据你选择的客户端，你可以提供一个实现 <code>@Bean</code> 或 <code>WebClientExchangeTagsProvider</code> 的 <code>RestTemplateExchangeTagsProvider</code> 。<code>RestTemplateExchangeTags</code> 和 <code>WebClientExchangeTags</code> 中有方便的静态函数。</p>
<p translation-origin="off">To customize the tags, and depending on your choice of client, you can provide a <code>@Bean</code> that implements <code>RestTemplateExchangeTagsProvider</code> or <code>WebClientExchangeTagsProvider</code>.
There are convenience static functions in <code>RestTemplateExchangeTags</code> and <code>WebClientExchangeTags</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.tomcat" translation-result="on"><a href="actuator.html#actuator.metrics.supported.tomcat"></a>6.3.10. Tomcat 度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.tomcat"></a>6.3.10. Tomcat Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置仅在启用 <code>MBeanRegistry</code> 时启用 Tomcat 的检测。默认情况下，<code>MBeanRegistry</code> 是禁用的，但你可以通过将 <code>server.tomcat.mbeanregistry.enabled</code> 设置为 <code>true</code> 来启用它。</p>
<p translation-origin="off">Auto-configuration enables the instrumentation of Tomcat only when an <code>MBeanRegistry</code> is enabled.
By default, the <code>MBeanRegistry</code> is disabled, but you can enable it by setting <code>server.tomcat.mbeanregistry.enabled</code> to <code>true</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">Tomcat 度量发布在 Tomcat 下 <code>tomcat.</code> 仪表名称。</p>
<p translation-origin="off">Tomcat metrics are published under the <code>tomcat.</code> meter name.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.cache" translation-result="on"><a href="actuator.html#actuator.metrics.supported.cache"></a>6.3.11. 缓存度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.cache"></a>6.3.11. Cache Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置可以在启动时检测所有可用的 <code>Cache</code> 实例，度量以 <code>cache</code> 为前缀。缓存检测针对一组基本度量进行了标准化。此外，还提供了特定于缓存的度量。</p>
<p translation-origin="off">Auto-configuration enables the instrumentation of all available <code>Cache</code> instances on startup, with metrics prefixed with <code>cache</code>.
Cache instrumentation is standardized for a basic set of metrics.
Additional, cache-specific metrics are also available.</p>
</div>
<div class="paragraph">
<p translation-result="on">支持以下缓存库：</p>
<p translation-origin="off">The following cache libraries are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on">咖啡因</p>
<p translation-origin="off">Caffeine</p>
</li>
<li>
<p translation-result="on">缓存 2</p>
<p translation-origin="off">EhCache 2</p>
</li>
<li>
<p translation-result="on">榛树</p>
<p translation-origin="off">Hazelcast</p>
</li>
<li>
<p translation-result="on">任何兼容的 JCache (JSR-107) 实现</p>
<p translation-origin="off">Any compliant JCache (JSR-107) implementation</p>
</li>
<li>
<p translation-result="on">雷迪斯</p>
<p translation-origin="off">Redis</p>
</li>
</ul>
</div>
<div class="paragraph">
<p translation-result="on">度量由缓存的名称和 <code>CacheManager</code> 的名称标记，该名称派生自 bean 名称。</p>
<p translation-origin="off">Metrics are tagged by the name of the cache and by the name of the <code>CacheManager</code>, which is derived from the bean name.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">只有在启动时配置的缓存才会绑定到注册表。对于未在缓存配置中定义的缓存，例如动态创建的缓存或在启动阶段后以编程方式创建的缓存，需要显式注册。可以用 <code>CacheMetricsRegistrar</code> bean 来简化该过程。</p>
<p translation-origin="off">Only caches that are configured on startup are bound to the registry.
For caches not defined in the cache’s configuration, such as caches created on the fly or programmatically after the startup phase, an explicit registration is required.
A <code>CacheMetricsRegistrar</code> bean is made available to make that process easier.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.jdbc" translation-result="on"><a href="actuator.html#actuator.metrics.supported.jdbc"></a>6.3.12. 数据源度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.jdbc"></a>6.3.12. DataSource Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置可以用以 <code>jdbc.connections</code> 为前缀的度量来检测所有可用的 <code>DataSource</code> 对象。数据源检测会生成表示池中当前活动、空闲、允许的最大连接数和允许的最小连接数的仪表。</p>
<p translation-origin="off">Auto-configuration enables the instrumentation of all available <code>DataSource</code> objects with metrics prefixed with <code>jdbc.connections</code>.
Data source instrumentation results in gauges that represent the currently active, idle, maximum allowed, and minimum allowed connections in the pool.</p>
</div>
<div class="paragraph">
<p translation-result="on">度量也由基于 bean 名称计算的 <code>DataSource</code> 的名称标记。</p>
<p translation-origin="off">Metrics are also tagged by the name of the <code>DataSource</code> computed based on the bean name.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<p translation-result="on">默认情况下，Spring Boot 为所有支持的数据源提供元数据。如果不支持你喜欢的数据源，你可以添加其他 <code>DataSourcePoolMetadataProvider</code> bean。有关示例，请参阅 <code>DataSourcePoolMetadataProvidersConfiguration</code> 。</p>
<p translation-origin="off">By default, Spring Boot provides metadata for all supported data sources.
You can add additional <code>DataSourcePoolMetadataProvider</code> beans if your favorite data source is not supported.
See <code>DataSourcePoolMetadataProvidersConfiguration</code> for examples.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">此外，Hikari 特定的度量以 <code>hikaricp</code> 前缀公开。每个度量都由池的名称标记（你可以用 <code>spring.datasource.name</code> 控制它）。</p>
<p translation-origin="off">Also, Hikari-specific metrics are exposed with a <code>hikaricp</code> prefix.
Each metric is tagged by the name of the pool (you can control it with <code>spring.datasource.name</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.hibernate" translation-result="on"><a href="actuator.html#actuator.metrics.supported.hibernate"></a>6.3.13. 休眠度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.hibernate"></a>6.3.13. Hibernate Metrics</h4>
<div class="paragraph">
<p translation-result="on">如果 <code>org.hibernate:hibernate-micrometer</code> 在类路径上，则所有启用了统计信息的可用 Hibernate <code>EntityManagerFactory</code> 实例都使用名为 <code>hibernate</code> 的度量标准进行检测。</p>
<p translation-origin="off">If <code>org.hibernate:hibernate-micrometer</code> is on the classpath, all available Hibernate <code>EntityManagerFactory</code> instances that have statistics enabled are instrumented with a metric named <code>hibernate</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">度量也由 <code>EntityManagerFactory</code> 的名称标记，该名称派生自 bean 名称。</p>
<p translation-origin="off">Metrics are also tagged by the name of the <code>EntityManagerFactory</code>, which is derived from the bean name.</p>
</div>
<div class="paragraph">
<p translation-result="on">要启用统计信息，标准 JPA 属性 <code>hibernate.generate_statistics</code> 必须设置为 <code>true</code> 。你可以在自动配置的 <code>EntityManagerFactory</code> 上启用它：</p>
<p translation-origin="off">To enable statistics, the standard JPA property <code>hibernate.generate_statistics</code> must be set to <code>true</code>.
You can enable that on the auto-configured <code>EntityManagerFactory</code>:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">spring.jpa.properties[hibernate.generate_statistics]=true</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">spring:
  jpa:
    properties:
      "[hibernate.generate_statistics]": true</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.spring-data-repository" translation-result="on"><a href="actuator.html#actuator.metrics.supported.spring-data-repository"></a>6.3.14. Spring 数据存储库度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.spring-data-repository"></a>6.3.14. Spring Data Repository Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置启用所有 Spring Data <code>Repository</code> 方法调用的检测。默认情况下，生成的度量名称为 <code>spring.data.repository.invocations</code> 。你可以通过设置 <code>management.metrics.data.repository.metric-name</code> 属性来自定义名称。</p>
<p translation-origin="off">Auto-configuration enables the instrumentation of all Spring Data <code>Repository</code> method invocations.
By default, metrics are generated with the name, <code>spring.data.repository.invocations</code>.
You can customize the name by setting the <code>management.metrics.data.repository.metric-name</code> property.</p>
</div>
<div class="paragraph">
<p translation-result="on"><code>Repository</code> 类和方法支持 <code>@Timed</code> 注释（有关详细信息，请参阅<a href="actuator.html#actuator.metrics.supported.timed-annotation">@Timed 注释支持</a>）。如果你不想记录所有 <code>Repository</code> 调用的度量，可以将 <code>management.metrics.data.repository.autotime.enabled</code> 设置为 <code>false</code> 并专门使用 <code>@Timed</code> 注释。</p>
<p translation-origin="off"><code>@Timed</code> annotations are supported on <code>Repository</code> classes and methods (see <a href="actuator.html#actuator.metrics.supported.timed-annotation">@Timed Annotation Support</a> for details).
If you do not want to record metrics for all <code>Repository</code> invocations, you can set <code>management.metrics.data.repository.autotime.enabled</code> to <code>false</code> and exclusively use <code>@Timed</code> annotations instead.</p>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，与存储库调用相关的度量标记有以下信息：</p>
<p translation-origin="off">By default, repository invocation related metrics are tagged with the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">标签</p>
  <p translation-origin="off">Tag</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>repository</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">源 <code>Repository</code> 的简单类名。</p><p class="tableblock" translation-origin="off">The simple class name of the source <code>Repository</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>method</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">调用的 <code>Repository</code> 方法的名称。</p><p class="tableblock" translation-origin="off">The name of the <code>Repository</code> method that was invoked.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>state</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">结果状态（ <code>SUCCESS</code> 、 <code>ERROR</code> 、 <code>CANCELED</code> 或 <code>RUNNING</code> ）。</p><p class="tableblock" translation-origin="off">The result state (<code>SUCCESS</code>, <code>ERROR</code>, <code>CANCELED</code>, or <code>RUNNING</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exception</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">从调用中引发的任何异常的简单类名。</p><p class="tableblock" translation-origin="off">The simple class name of any exception that was thrown from the invocation.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">要替换默认标签，请提供一个实现 <code>RepositoryTagsProvider</code> 的 <code>@Bean</code> 。</p>
<p translation-origin="off">To replace the default tags, provide a <code>@Bean</code> that implements <code>RepositoryTagsProvider</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.rabbitmq" translation-result="on"><a href="actuator.html#actuator.metrics.supported.rabbitmq"></a>6.3.15. RabbitMQ 度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.rabbitmq"></a>6.3.15. RabbitMQ Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置启用所有可用 RabbitMQ 连接工厂的检测，并使用名为 <code>rabbitmq</code> 的度量。</p>
<p translation-origin="off">Auto-configuration enables the instrumentation of all available RabbitMQ connection factories with a metric named <code>rabbitmq</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.spring-integration" translation-result="on"><a href="actuator.html#actuator.metrics.supported.spring-integration"></a>6.3.16. Spring 集成度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.spring-integration"></a>6.3.16. Spring Integration Metrics</h4>
<div class="paragraph">
<p translation-result="on">只要 <code>MeterRegistry</code> bean 可用，Spring Integration 就会自动提供 <a href="https://docs.spring.io/spring-integration/docs/5.5.8/reference/html/system-management.html#micrometer-integration">Micrometer 支持</a>。度量在 <code>spring.integration.</code> 仪表名称。</p>
<p translation-origin="off">Spring Integration automatically provides <a href="https://docs.spring.io/spring-integration/docs/5.5.8/reference/html/system-management.html#micrometer-integration">Micrometer support</a> whenever a <code>MeterRegistry</code> bean is available.
Metrics are published under the <code>spring.integration.</code> meter name.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.kafka" translation-result="on"><a href="actuator.html#actuator.metrics.supported.kafka"></a>6.3.17. 卡夫卡度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.kafka"></a>6.3.17. Kafka Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置分别为自动配置的消费者工厂和生产者工厂注册了 <code>MicrometerConsumerListener</code> 和 <code>MicrometerProducerListener</code> 。它还为 <code>StreamsBuilderFactoryBean</code> <code>KafkaStreamsMicrometerListener</code> 有关更多详细信息，请参阅 Spring Kafka 文档的 <a href="https://docs.spring.io/spring-kafka/docs/2.8.2/reference/html/#micrometer-native">Micrometer Native Metrics</a> 部分。</p>
<p translation-origin="off">Auto-configuration registers a <code>MicrometerConsumerListener</code> and <code>MicrometerProducerListener</code> for the auto-configured consumer factory and producer factory, respectively.
It also registers a <code>KafkaStreamsMicrometerListener</code> for <code>StreamsBuilderFactoryBean</code>.
For more detail, see the <a href="https://docs.spring.io/spring-kafka/docs/2.8.2/reference/html/#micrometer-native">Micrometer Native Metrics</a> section of the Spring Kafka documentation.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.mongodb" translation-result="on"><a href="actuator.html#actuator.metrics.supported.mongodb"></a>6.3.18. MongoDB 度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.mongodb"></a>6.3.18. MongoDB Metrics</h4>
<div class="paragraph">
<p translation-result="on">本节简要介绍 MongoDB 的可用度量。</p>
<p translation-origin="off">This section briefly describes the available metrics for MongoDB.</p>
</div>
<div class="sect4">
<h5 id="actuator.metrics.supported.mongodb.command" translation-result="on"><a href="actuator.html#actuator.metrics.supported.mongodb.command"></a>MongoDB 命令度量</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.mongodb.command"></a>MongoDB Command Metrics</h5>
<div class="paragraph">
<p translation-result="on">自动配置向自动配置的 <code>MongoClient</code> <code>MongoMetricsCommandListener</code> </p>
<p translation-origin="off">Auto-configuration registers a <code>MongoMetricsCommandListener</code> with the auto-configured <code>MongoClient</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">为发布到底层 MongoDB 驱动程序的每个命令创建一个名为 <code>mongodb.driver.commands</code> 的计时器度量。默认情况下，每个度量都标记有以下信息：</p>
<p translation-origin="off">A timer metric named <code>mongodb.driver.commands</code> is created for each command issued to the underlying MongoDB driver.
Each metric is tagged with the following information by default:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">标签</p>
  <p translation-origin="off">Tag</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>command</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">发出的命令的名称。</p><p class="tableblock" translation-origin="off">The name of the command issued.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cluster.id</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">命令发送到的集群的标识符。</p><p class="tableblock" translation-origin="off">The identifier of the cluster to which the command was sent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.address</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">命令发送到的服务器的地址。</p><p class="tableblock" translation-origin="off">The address of the server to which the command was sent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">命令的结果（ <code>SUCCESS</code> 或 <code>FAILED</code> ）。</p><p class="tableblock" translation-origin="off">The outcome of the command (<code>SUCCESS</code> or <code>FAILED</code>).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">要替换默认的度量标签，请定义一个 <code>MongoCommandTagsProvider</code> bean，如以下示例所示：</p>
<p translation-origin="off">To replace the default metric tags, define a <code>MongoCommandTagsProvider</code> bean, as the following example shows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import io.micrometer.core.instrument.binder.mongodb.MongoCommandTagsProvider;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MyCommandTagsProviderConfiguration {

    @Bean
    public MongoCommandTagsProvider customCommandTagsProvider() {
        return new CustomCommandTagsProvider();
    }

}
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">要禁用自动配置的命令度量，请设置以下属性：</p>
<p translation-origin="off">To disable the auto-configured command metrics, set the following property:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.mongo.command.enabled=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    mongo:
      command:
        enabled: false</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="actuator.metrics.supported.mongodb.connection-pool" translation-result="on"><a href="actuator.html#actuator.metrics.supported.mongodb.connection-pool"></a>MongoDB 连接池度量</h5>
<h5 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.mongodb.connection-pool"></a>MongoDB Connection Pool Metrics</h5>
<div class="paragraph">
<p translation-result="on">自动配置向自动配置的 <code>MongoClient</code> <code>MongoMetricsConnectionPoolListener</code> </p>
<p translation-origin="off">Auto-configuration registers a <code>MongoMetricsConnectionPoolListener</code> with the auto-configured <code>MongoClient</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">为连接池创建了以下计量度量：</p>
<p translation-origin="off">The following gauge metrics are created for the connection pool:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on"><code>mongodb.driver.pool.size</code> 报告连接池的当前大小，包括空闲和正在使用的成员。</p>
<p translation-origin="off"><code>mongodb.driver.pool.size</code> reports the current size of the connection pool, including idle and and in-use members.</p>
</li>
<li>
<p translation-result="on"><code>mongodb.driver.pool.checkedout</code> 报告当前正在使用的连接数。</p>
<p translation-origin="off"><code>mongodb.driver.pool.checkedout</code> reports the count of connections that are currently in use.</p>
</li>
<li>
<p translation-result="on"><code>mongodb.driver.pool.waitqueuesize</code> 报告来自池的连接的等待队列的当前大小。</p>
<p translation-origin="off"><code>mongodb.driver.pool.waitqueuesize</code> reports the current size of the wait queue for a connection from the pool.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，每个度量都标记有以下信息：</p>
<p translation-origin="off">Each metric is tagged with the following information by default:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">标签</p>
  <p translation-origin="off">Tag</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cluster.id</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">连接池对应的集群的标识。</p><p class="tableblock" translation-origin="off">The identifier of the cluster to which the connection pool corresponds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server.address</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">连接池对应的服务器地址。</p><p class="tableblock" translation-origin="off">The address of the server to which the connection pool corresponds.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">要替换默认的度量标签，请定义一个 <code>MongoConnectionPoolTagsProvider</code> bean：</p>
<p translation-origin="off">To replace the default metric tags, define a <code>MongoConnectionPoolTagsProvider</code> bean:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import io.micrometer.core.instrument.binder.mongodb.MongoConnectionPoolTagsProvider;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MyConnectionPoolTagsProviderConfiguration {

    @Bean
    public MongoConnectionPoolTagsProvider customConnectionPoolTagsProvider() {
        return new CustomConnectionPoolTagsProvider();
    }

}
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">要禁用自动配置的连接池度量，请设置以下属性：</p>
<p translation-origin="off">To disable the auto-configured connection pool metrics, set the following property:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.mongo.connectionpool.enabled=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    mongo:
      connectionpool:
        enabled: false</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.jetty" translation-result="on"><a href="actuator.html#actuator.metrics.supported.jetty"></a>6.3.19. Jetty 度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.jetty"></a>6.3.19. Jetty Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置使用 Micrometer 的 <code>JettyServerThreadPoolMetrics</code> 为 Jetty 的 <code>ThreadPool</code> 绑定度量。Jetty 的 <code>Connector</code> 实例的度量是通过使用 Micrometer 的 <code>JettyConnectionMetrics</code> 绑定的，当 <code>server.ssl.enabled</code> 设置为 <code>true</code> 时，Micrometer 的 <code>JettySslHandshakeMetrics</code> 。</p>
<p translation-origin="off">Auto-configuration binds metrics for Jetty’s <code>ThreadPool</code> by using Micrometer’s <code>JettyServerThreadPoolMetrics</code>.
Metrics for Jetty’s <code>Connector</code> instances are bound by using Micrometer’s <code>JettyConnectionMetrics</code> and, when <code>server.ssl.enabled</code> is set to <code>true</code>, Micrometer’s <code>JettySslHandshakeMetrics</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.timed-annotation" translation-result="on"><a href="actuator.html#actuator.metrics.supported.timed-annotation"></a>6.3.20.@Timed 注释支持</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.timed-annotation"></a>6.3.20. @Timed Annotation Support</h4>
<div class="paragraph">
<p translation-result="on">你可以将 <code>io.micrometer.core.annotation</code> 包中的 <code>@Timed</code> 注释与前面描述的几种支持的技术一起使用。如果支持，你可以在类级别或方法级别使用注释。</p>
<p translation-origin="off">You can use the <code>@Timed</code> annotation from the <code>io.micrometer.core.annotation</code> package with several of the supported technologies described earlier.
If supported, you can use the annotation at either the class level or the method level.</p>
</div>
<div class="paragraph">
<p translation-result="on">例如，以下代码显示了如何使用注解来检测 <code>@RestController</code> 中的所有请求映射：</p>
<p translation-origin="off">For example, the following code shows how you can use the annotation to instrument all request mappings in a <code>@RestController</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import java.util.List;

import io.micrometer.core.annotation.Timed;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

</span><span class="fold-block">@RestController
@Timed
public class MyController {

    @GetMapping("/api/addresses")
    public List&lt;Address&gt; listAddress() {
        return ...
    }

    @GetMapping("/api/people")
    public List&lt;Person&gt; listPeople() {
        return ...
    }

}
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">如果你只想检测单个映射，则可以在方法上使用注释而不是类：</p>
<p translation-origin="off">If you want only to instrument a single mapping, you can use the annotation on the method instead of the class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import java.util.List;

import io.micrometer.core.annotation.Timed;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

</span><span class="fold-block">@RestController
public class MyController {

    @GetMapping("/api/addresses")
    public List&lt;Address&gt; listAddress() {
        return ...
    }

    @GetMapping("/api/people")
    @Timed
    public List&lt;Person&gt; listPeople() {
        return ...
    }

}
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">如果要更改特定方法的计时详细信息，还可以组合类级别和方法级别的注释：</p>
<p translation-origin="off">You can also combine class-level and method-level annotations if you want to change the timing details for a specific method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import java.util.List;

import io.micrometer.core.annotation.Timed;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

</span><span class="fold-block">@RestController
@Timed
public class MyController {

    @GetMapping("/api/addresses")
    public List&lt;Address&gt; listAddress() {
        return ...
    }

    @GetMapping("/api/people")
    @Timed(extraTags = { "region", "us-east-1" })
    @Timed(value = "all.people", longTask = true)
    public List&lt;Person&gt; listPeople() {
        return ...
    }

}
</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">带有 <code>longTask = true</code> 的 <code>@Timed</code> 注释为该方法启用了一个长任务计时器。长任务计时器需要一个单独的度量名称，并且可以与短任务计时器叠加。</p>
<p translation-origin="off">A <code>@Timed</code> annotation with <code>longTask = true</code> enables a long task timer for the method.
Long task timers require a separate metric name and can be stacked with a short task timer.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.supported.redis" translation-result="on"><a href="actuator.html#actuator.metrics.supported.redis"></a>6.3.21. Redis 度量</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.supported.redis"></a>6.3.21. Redis Metrics</h4>
<div class="paragraph">
<p translation-result="on">自动配置为自动配置的 <code>LettuceConnectionFactory</code> 注册一个 <code>MicrometerCommandLatencyRecorder</code> 。有关更多详细信息，请参阅 Lettuce 文档的 <a href="https://lettuce.io/core/6.1.6.RELEASE/reference/index.html#command.latency.metrics.micrometer">Micrometer Metrics 部分</a>。</p>
<p translation-origin="off">Auto-configuration registers a <code>MicrometerCommandLatencyRecorder</code> for the auto-configured <code>LettuceConnectionFactory</code>.
For more detail, see the <a href="https://lettuce.io/core/6.1.6.RELEASE/reference/index.html#command.latency.metrics.micrometer">Micrometer Metrics section</a> of the Lettuce documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.metrics.registering-custom" translation-result="on"><a href="actuator.html#actuator.metrics.registering-custom"></a>6.4. 注册自定义度量</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.registering-custom"></a>6.4. Registering Custom Metrics</h3>
<div class="paragraph">
<p translation-result="on">要注册自定义度量，<code>MeterRegistry</code> 注入到你的组件中：</p>
<p translation-origin="off">To register custom metrics, inject <code>MeterRegistry</code> into your component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import io.micrometer.core.instrument.MeterRegistry;
import io.micrometer.core.instrument.Tags;

import org.springframework.stereotype.Component;

</span><span class="fold-block">@Component
public class MyBean {

    private final Dictionary dictionary;

    public MyBean(MeterRegistry registry) {
        this.dictionary = Dictionary.load();
        registry.gauge("dictionary.size", Tags.empty(), this.dictionary.getWords().size());
    }

}
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">如果你的度量依赖于其他 bean，我们建议你使用 <code>MeterBinder</code> 来注册它们：</p>
<p translation-origin="off">If your metrics depend on other beans, we recommend that you use a <code>MeterBinder</code> to register them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import io.micrometer.core.instrument.Gauge;
import io.micrometer.core.instrument.binder.MeterBinder;

import org.springframework.context.annotation.Bean;

</span><span class="fold-block">public class MyMeterBinderConfiguration {

    @Bean
    public MeterBinder queueSize(Queue queue) {
        return (registry) -&gt; Gauge.builder("queueSize", queue::size).register(registry);
    }

}
</span></code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">使用 <code>MeterBinder</code> 可确保设置正确的依赖关系，并确保在检索度量值时 bean 可用。如果你发现你反复检测跨组件或应用程序的一组度量，<code>MeterBinder</code> 实现也很有用。</p>
<p translation-origin="off">Using a <code>MeterBinder</code> ensures that the correct dependency relationships are set up and that the bean is available when the metric’s value is retrieved.
A <code>MeterBinder</code> implementation can also be useful if you find that you repeatedly instrument a suite of metrics across components or applications.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">默认情况下，来自所有 <code>MeterBinder</code> bean 的度量会自动绑定到 Spring 管理的 <code>MeterRegistry</code> 。</p>
<p translation-origin="off">By default, metrics from all <code>MeterBinder</code> beans are automatically bound to the Spring-managed <code>MeterRegistry</code>.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="actuator.metrics.customizing" translation-result="on"><a href="actuator.html#actuator.metrics.customizing"></a>6.5. 自定义单个度量</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.customizing"></a>6.5. Customizing Individual Metrics</h3>
<div class="paragraph">
<p translation-result="on">如果你需要对特定的 <code>Meter</code> 实例应用自定义，可以用 <code>io.micrometer.core.instrument.config.MeterFilter</code> 接口。</p>
<p translation-origin="off">If you need to apply customizations to specific <code>Meter</code> instances, you can use the <code>io.micrometer.core.instrument.config.MeterFilter</code> interface.</p>
</div>
<div class="paragraph">
<p translation-result="on">例如，如果要将所有以 <code>com.example</code> 开头的仪表 ID 的 <code>mytag.region</code> 标记重命名为 <code>mytag.area</code> ，则可以执行以下操作：</p>
<p translation-origin="off">For example, if you want to rename the <code>mytag.region</code> tag to <code>mytag.area</code> for all meter IDs beginning with <code>com.example</code>, you can do the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import io.micrometer.core.instrument.config.MeterFilter;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MyMetricsFilterConfiguration {

    @Bean
    public MeterFilter renameRegionTagMeterFilter() {
        return MeterFilter.renameTag("com.example", "mytag.region", "mytag.area");
    }

}
</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">默认情况下，所有 <code>MeterFilter</code> bean 都自动绑定到 Spring 管理的 <code>MeterRegistry</code> 。确保使用 Spring 管理的 <code>MeterRegistry</code> 而不是 <code>Metrics</code> 。这些使用非 Spring 管理的全局注册表。</p>
<p translation-origin="off">By default, all <code>MeterFilter</code> beans are automatically bound to the Spring-managed <code>MeterRegistry</code>.
Make sure to register your metrics by using the Spring-managed <code>MeterRegistry</code> and not any of the static methods on <code>Metrics</code>.
These use the global registry that is not Spring-managed.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="actuator.metrics.customizing.common-tags" translation-result="on"><a href="actuator.html#actuator.metrics.customizing.common-tags"></a>6.5.1. 常用标签</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.customizing.common-tags"></a>6.5.1. Common Tags</h4>
<div class="paragraph">
<p translation-result="on">常用标签通常用于对操作环境进行维度下钻，例如主机、实例、区域、堆栈等。Commons 标签适用于所有仪表并且可以配置，如以下示例所示：</p>
<p translation-origin="off">Common tags are generally used for dimensional drill-down on the operating environment, such as host, instance, region, stack, and others.
Commons tags are applied to all meters and can be configured, as the following example shows:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.tags.region=us-east-1
management.metrics.tags.stack=prod</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    tags:
      region: "us-east-1"
      stack: "prod"</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">前面的示例将 <code>region</code> 和 <code>stack</code> 标签分别添加到值为 <code>us-east-1</code> 和 <code>prod</code> 的所有仪表。</p>
<p translation-origin="off">The preceding example adds <code>region</code> and <code>stack</code> tags to all meters with a value of <code>us-east-1</code> and <code>prod</code>, respectively.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">如果你使用 Graphite，常用标签的顺序很重要。由于使用这种方法无法保证常用标签的顺序，建议 Graphite 用户定义自定义 <code>MeterFilter</code> 代替。</p>
<p translation-origin="off">The order of common tags is important if you use Graphite.
As the order of common tags cannot be guaranteed by using this approach, Graphite users are advised to define a custom <code>MeterFilter</code> instead.</p>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="actuator.metrics.customizing.per-meter-properties" translation-result="on"><a href="actuator.html#actuator.metrics.customizing.per-meter-properties"></a>6.5.2. 每米属性</h4>
<h4 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.customizing.per-meter-properties"></a>6.5.2. Per-meter Properties</h4>
<div class="paragraph">
<p translation-result="on">除了 <code>MeterFilter</code> bean 之外，你还可以用属性在每米的基础上应用一组有限的自定义。每米自定义适用于以给定名称开头的任何仪表 ID。以下示例禁用任何 ID 以 <code>example.remote</code> 开头的仪表</p>
<p translation-origin="off">In addition to <code>MeterFilter</code> beans, you can apply a limited set of customization on a per-meter basis by using properties.
Per-meter customizations apply to any meter IDs that start with the given name.
The following example disables any meters that have an ID starting with <code>example.remote</code></p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.metrics.enable.example.remote=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  metrics:
    enable:
      example:
        remote: false</code></pre>
</div>
</div>
<div class="paragraph">
<p translation-result="on">以下属性允许按米自定义：</p>
<p translation-origin="off">The following properties allow per-meter customization:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Per-meter customizations</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">财产</p>
  <p translation-origin="off">Property</p>
</th>
<th class="tableblock halign-left valign-top">
  <p translation-result="on">描述</p>
  <p translation-origin="off">Description</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.metrics.enable</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是否阻止仪表发出任何度量。</p><p class="tableblock" translation-origin="off">Whether to prevent meters from emitting any metrics.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.metrics.distribution.percentiles-histogram</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">是否发布适合计算可聚合（跨维度）百分位近似值的直方图。</p><p class="tableblock" translation-origin="off">Whether to publish a histogram suitable for computing aggregable (across dimension) percentile approximations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.metrics.distribution.minimum-expected-value</code>, <code>management.metrics.distribution.maximum-expected-value</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">通过限制期望值的范围发布更少的直方图桶。</p><p class="tableblock" translation-origin="off">Publish fewer histogram buckets by clamping the range of expected values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.metrics.distribution.percentiles</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">发布在你的应用程序中计算的百分位数</p><p class="tableblock" translation-origin="off">Publish percentile values computed in your application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.metrics.distribution.expiry</code>, <code>management.metrics.distribution.buffer-length</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">通过在可配置的到期后旋转的环形缓冲区中累积最近的样本，赋予它们更大的权重，并具有可配置的缓冲区长度。</p><p class="tableblock" translation-origin="off">Give greater weight to recent samples by accumulating them in ring buffers which rotate after a configurable expiry, with a
configurable buffer length.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.metrics.distribution.slo</code></p></td>
<td class="tableblock halign-left valign-top"><p translation-result="on">发布包含由你的服务级别目标定义的存储桶的累积直方图。</p><p class="tableblock" translation-origin="off">Publish a cumulative histogram with buckets defined by your service-level objectives.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p translation-result="on">有关 <code>percentiles-histogram</code> 、 <code>percentiles</code> 和 <code>slo</code> 背后概念的更多详细信息，请参阅 Micrometer 文档的<a href="https://micrometer.io/docs/concepts#_histograms_and_percentiles">“Histograms and percentiles”部分</a>。</p>
<p translation-origin="off">For more details on the concepts behind <code>percentiles-histogram</code>, <code>percentiles</code>, and <code>slo</code>, see the <a href="https://micrometer.io/docs/concepts#_histograms_and_percentiles">“Histograms and percentiles” section</a> of the Micrometer documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.metrics.endpoint" translation-result="on"><a href="actuator.html#actuator.metrics.endpoint"></a>6.6. 度量端点</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.metrics.endpoint"></a>6.6. Metrics Endpoint</h3>
<div class="paragraph">
<p translation-result="on">Spring Boot 提供了一个 <code>metrics</code> 端点，你可以用它诊断性地检查应用程序收集的度量。端点默认不可用，必须公开。有关更多详细信息，请参阅<a href="actuator.html#actuator.endpoints.exposing">公开端点</a>。</p>
<p translation-origin="off">Spring Boot provides a <code>metrics</code> endpoint that you can use diagnostically to examine the metrics collected by an application.
The endpoint is not available by default and must be exposed. See <a href="actuator.html#actuator.endpoints.exposing">exposing endpoints</a> for more details.</p>
</div>
<div class="paragraph">
<p translation-result="on">导航到 <code>/actuator/metrics</code> 会显示可用计量器名称的列表。你可以通过提供特定计量器的名称作为选择器（例如 <code>/actuator/metrics/jvm.memory.max</code> ）来深入查看有关特定计量器的信息。</p>
<p translation-origin="off">Navigating to <code>/actuator/metrics</code> displays a list of available meter names.
You can drill down to view information about a particular meter by providing its name as a selector — for example, <code>/actuator/metrics/jvm.memory.max</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<div class="paragraph">
<p translation-result="on">你在此处使用的名称应该与代码中使用的名称相匹配，而不是经过命名约定规范化后的名称，以针对它所运送到的监控系统。换句话说，如果 <code>jvm.memory.max</code> 由于其蛇形命名约定而在 Prometheus 中显示为 <code>jvm_memory_max</code> ，则在检查 <code>metrics</code> 端点中的仪表时，你仍应使用 <code>jvm.memory.max</code> 作为选择器。</p>
<p translation-origin="off">The name you use here should match the name used in the code, not the name after it has been naming-convention normalized for a monitoring system to which it is shipped.
In other words, if <code>jvm.memory.max</code> appears as <code>jvm_memory_max</code> in Prometheus because of its snake case naming convention, you should still use <code>jvm.memory.max</code> as the selector when inspecting the meter in the <code>metrics</code> endpoint.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p translation-result="on">你还可以将任意数量的 <code>tag=KEY:VALUE</code> 查询参数添加到 URL 的末尾，以对计量器进行维度下钻 - 例如，<code>/actuator/metrics/jvm.memory.max?tag=area:nonheap</code> 。</p>
<p translation-origin="off">You can also add any number of <code>tag=KEY:VALUE</code> query parameters to the end of the URL to dimensionally drill down on a meter — for example, <code>/actuator/metrics/jvm.memory.max?tag=area:nonheap</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="提示"></i>
</td>
<td class="content">
<div class="paragraph">
<p translation-result="on">报告的测量值是与仪表名称和已应用的任何标签匹配的所有仪表的统计信息的<em>总和</em>。在前面的示例中，返回的 <code>Value</code> 统计信息是堆的“代码缓存”、“压缩类空间”和“元空间”区域的最大内存占用量之和。如果你只想查看“元空间”的最大大小，可以添加一个额外的 <code>tag=id:Metaspace</code> — 即 <code>/actuator/metrics/jvm.memory.max?tag=area:nonheap&amp;tag=id:Metaspace</code> 。</p>
<p translation-origin="off">The reported measurements are the <em>sum</em> of the statistics of all meters that match the meter name and any tags that have been applied.
In the preceding example, the returned <code>Value</code> statistic is the sum of the maximum memory footprints of the “Code Cache”, “Compressed Class Space”, and “Metaspace” areas of the heap.
If you wanted to see only the maximum size for the “Metaspace”, you could add an additional <code>tag=id:Metaspace</code> — that is, <code>/actuator/metrics/jvm.memory.max?tag=area:nonheap&amp;tag=id:Metaspace</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.auditing" translation-result="on"><a href="actuator.html#actuator.auditing"></a>7. 审计</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.auditing"></a>7. Auditing</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">一旦 Spring Security 发挥作用，Spring Boot Actuator 就会有一个灵活的审计框架来发布事件（默认情况下，“身份验证成功”、“失败”和“访问被拒绝”异常）。此功能对于报告和实施基于身份验证失败的锁定策略非常有用。</p>
<p translation-origin="off">Once Spring Security is in play, Spring Boot Actuator has a flexible audit framework that publishes events (by default, “authentication success”, “failure” and “access denied” exceptions).
This feature can be very useful for reporting and for implementing a lock-out policy based on authentication failures.</p>
</div>
<div class="paragraph">
<p translation-result="on">你可以通过在应用程序的配置中提供 <code>AuditEventRepository</code> 类型的 bean 来启用审计。为方便起见，Spring Boot 提供了一个 <code>InMemoryAuditEventRepository</code> 。<code>InMemoryAuditEventRepository</code> 的功能有限，我们建议仅将其用于开发环境。对于生产环境，请考虑创建你自己的替代 <code>AuditEventRepository</code> 实现。</p>
<p translation-origin="off">You can enable auditing by providing a bean of type <code>AuditEventRepository</code> in your application’s configuration.
For convenience, Spring Boot offers an <code>InMemoryAuditEventRepository</code>.
<code>InMemoryAuditEventRepository</code> has limited capabilities, and we recommend using it only for development environments.
For production environments, consider creating your own alternative <code>AuditEventRepository</code> implementation.</p>
</div>
<div class="sect2">
<h3 id="actuator.auditing.custom" translation-result="on"><a href="actuator.html#actuator.auditing.custom"></a>7.1. 自定义审计</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.auditing.custom"></a>7.1. Custom Auditing</h3>
<div class="paragraph">
<p translation-result="on">要自定义已发布的安全事件，你可以提供自己的 <code>AbstractAuthenticationAuditListener</code> 和 <code>AbstractAuthorizationAuditListener</code> 实现。</p>
<p translation-origin="off">To customize published security events, you can provide your own implementations of <code>AbstractAuthenticationAuditListener</code> and <code>AbstractAuthorizationAuditListener</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">你还可以将审计服务用于你自己的业务活动。为此，可以将 <code>AuditEventRepository</code> bean 注入到你自己的组件中并直接使用它，或者使用 Spring <code>ApplicationEventPublisher</code> 发布 <code>AuditApplicationEvent</code> （通过实现 <code>ApplicationEventPublisherAware</code> ）。</p>
<p translation-origin="off">You can also use the audit services for your own business events.
To do so, either inject the <code>AuditEventRepository</code> bean into your own components and use that directly or publish an <code>AuditApplicationEvent</code> with the Spring <code>ApplicationEventPublisher</code> (by implementing <code>ApplicationEventPublisherAware</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.tracing" translation-result="on"><a href="actuator.html#actuator.tracing"></a>8. HTTP 跟踪</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.tracing"></a>8. HTTP Tracing</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">你可以通过在应用程序的配置中提供 <code>HttpTraceRepository</code> 类型的 bean 来启用 HTTP 跟踪。为方便起见，Spring Boot 提供了 <code>InMemoryHttpTraceRepository</code> ，它存储最近 100 次（默认）请求-响应交换的跟踪。与其他跟踪解决方案相比，<code>InMemoryHttpTraceRepository</code> 受到限制，我们建议仅将其用于开发环境。对于生产环境，我们建议使用生产就绪的跟踪或可观察性解决方案，例如 Zipkin 或 Spring Cloud Sleuth。或者，你可以创建自己的 <code>HttpTraceRepository</code> 。</p>
<p translation-origin="off">You can enable HTTP Tracing by providing a bean of type <code>HttpTraceRepository</code> in your application’s configuration.
For convenience, Spring Boot offers <code>InMemoryHttpTraceRepository</code>, which stores traces for the last 100 (the default) request-response exchanges.
<code>InMemoryHttpTraceRepository</code> is limited compared to other tracing solutions, and we recommend using it only for development environments.
For production environments, we recommend using a production-ready tracing or observability solution, such as Zipkin or Spring Cloud Sleuth.
Alternatively, you can create your own <code>HttpTraceRepository</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">你可以用 <code>httptrace</code> 端点获取有关存储在 <code>HttpTraceRepository</code> 中的请求-响应交换的信息。</p>
<p translation-origin="off">You can use the <code>httptrace</code> endpoint to obtain information about the request-response exchanges that are stored in the <code>HttpTraceRepository</code>.</p>
</div>
<div class="sect2">
<h3 id="actuator.tracing.custom" translation-result="on"><a href="actuator.html#actuator.tracing.custom"></a>8.1. 自定义 HTTP 跟踪</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.tracing.custom"></a>8.1. Custom HTTP tracing</h3>
<div class="paragraph">
<p translation-result="on">要自定义每个跟踪中包含的项目，请使用 <code>management.trace.http.include</code> 配置属性。对于高级自定义，请考虑注册你自己的 <code>HttpExchangeTracer</code> 实现。</p>
<p translation-origin="off">To customize the items that are included in each trace, use the <code>management.trace.http.include</code> configuration property.
For advanced customization, consider registering your own <code>HttpExchangeTracer</code> implementation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.process-monitoring" translation-result="on"><a href="actuator.html#actuator.process-monitoring"></a>9. 过程监控</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.process-monitoring"></a>9. Process Monitoring</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">在 <code>spring-boot</code> 模块中，你可以找到两个类来创建通常对进程监控有用的文件：</p>
<p translation-origin="off">In the <code>spring-boot</code> module, you can find two classes to create files that are often useful for process monitoring:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on"><code>ApplicationPidFileWriter</code> 创建一个包含应用程序 PID 的文件（默认情况下，在应用程序目录中，文件名为 <code>application.pid</code> ）。</p>
<p translation-origin="off"><code>ApplicationPidFileWriter</code> creates a file that contains the application PID (by default, in the application directory with a file name of <code>application.pid</code>).</p>
</li>
<li>
<p translation-result="on"><code>WebServerPortFileWriter</code> 创建一个文件（或多个文件），其中包含正在运行的 Web 服务器的端口（默认情况下，在应用程序目录中，文件名为 <code>application.port</code> ）。</p>
<p translation-origin="off"><code>WebServerPortFileWriter</code> creates a file (or files) that contain the ports of the running web server (by default, in the application directory with a file name of <code>application.port</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p translation-result="on">默认情况下，这些编写器未激活，但你可以启用它们：</p>
<p translation-origin="off">By default, these writers are not activated, but you can enable them:</p>
</div>
<div class="ulist">
<ul>
<li>
<p translation-result="on"><a href="actuator.html#actuator.process-monitoring.configuration">通过扩展配置</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.process-monitoring.configuration">By Extending Configuration</a></p>
</li>
<li>
<p translation-result="on"><a href="actuator.html#actuator.process-monitoring.programmatically">以编程方式启用过程监控</a></p>
<p translation-origin="off"><a href="actuator.html#actuator.process-monitoring.programmatically">Programmatically Enabling Process Monitoring</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="actuator.process-monitoring.configuration" translation-result="on"><a href="actuator.html#actuator.process-monitoring.configuration"></a>9.1. 扩展配置</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.process-monitoring.configuration"></a>9.1. Extending Configuration</h3>
<div class="paragraph">
<p translation-result="on">在 <code>META-INF/spring.factories</code> 文件中，你可以激活写入 PID 文件的侦听器（或多个侦听器）：</p>
<p translation-origin="off">In the <code>META-INF/spring.factories</code> file, you can activate the listener (or listeners) that writes a PID file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>org.springframework.context.ApplicationListener=\
org.springframework.boot.context.ApplicationPidFileWriter,\
org.springframework.boot.web.context.WebServerPortFileWriter</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.process-monitoring.programmatically" translation-result="on"><a href="actuator.html#actuator.process-monitoring.programmatically"></a>9.2. 以编程方式启用过程监控</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.process-monitoring.programmatically"></a>9.2. Programmatically Enabling Process Monitoring</h3>
<div class="paragraph">
<p translation-result="on">你还可以通过调用 <code>SpringApplication.addListeners(…​)</code> 方法并传递适当的 <code>Writer</code> 对象来激活侦听器。此方法还允许你自定义 <code>Writer</code> 构造函数中的文件名和路径。</p>
<p translation-origin="off">You can also activate a listener by invoking the <code>SpringApplication.addListeners(…​)</code> method and passing the appropriate <code>Writer</code> object.
This method also lets you customize the file name and path in the <code>Writer</code> constructor.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.cloud-foundry" translation-result="on"><a href="actuator.html#actuator.cloud-foundry"></a>10. Cloud Foundry 支持</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.cloud-foundry"></a>10. Cloud Foundry Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">Spring Boot 的执行器模块包括在你部署到兼容的 Cloud Foundry 实例时激活的额外支持。<code>/cloudfoundryapplication</code> 路径为所有 <code>@Endpoint</code> bean 提供了一个替代的安全路由。</p>
<p translation-origin="off">Spring Boot’s actuator module includes additional support that is activated when you deploy to a compatible Cloud Foundry instance.
The <code>/cloudfoundryapplication</code> path provides an alternative secured route to all <code>@Endpoint</code> beans.</p>
</div>
<div class="paragraph">
<p translation-result="on">扩展支持允许 Cloud Foundry 管理 UI（例如可用于查看已部署应用程序的 Web 应用程序）增加 Spring Boot 执行器信息。例如，应用程序状态页面可以包含完整的健康信息，而不是典型的“运行”或“停止”状态。</p>
<p translation-origin="off">The extended support lets Cloud Foundry management UIs (such as the web application that you can use to view deployed applications) be augmented with Spring Boot actuator information.
For example, an application status page can include full health information instead of the typical “running” or “stopped” status.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<p translation-result="on">普通用户无法直接访问 <code>/cloudfoundryapplication</code> 路径。要使用端点，你必须在请求中传递有效的 UAA 令牌。</p>
<p translation-origin="off">The <code>/cloudfoundryapplication</code> path is not directly accessible to regular users.
To use the endpoint, you must pass a valid UAA token with the request.</p>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="actuator.cloud-foundry.disable" translation-result="on"><a href="actuator.html#actuator.cloud-foundry.disable"></a>10.1. 禁用扩展的 Cloud Foundry 执行器支持</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.cloud-foundry.disable"></a>10.1. Disabling Extended Cloud Foundry Actuator Support</h3>
<div class="paragraph">
<p translation-result="on">如果要完全禁用 <code>/cloudfoundryapplication</code> 端点，可以将以下设置添加到 <code>application.properties</code> 文件：</p>
<p translation-origin="off">If you want to fully disable the <code>/cloudfoundryapplication</code> endpoints, you can add the following setting to your <code>application.properties</code> file:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.cloudfoundry.enabled=false</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  cloudfoundry:
    enabled: false</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.cloud-foundry.ssl" translation-result="on"><a href="actuator.html#actuator.cloud-foundry.ssl"></a>10.2. Cloud Foundry 自签名证书</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.cloud-foundry.ssl"></a>10.2. Cloud Foundry Self-signed Certificates</h3>
<div class="paragraph">
<p translation-result="on">默认情况下，<code>/cloudfoundryapplication</code> 端点的安全验证会对各种 Cloud Foundry 服务进行 SSL 调用。如果你的 Cloud Foundry UAA 或 Cloud Controller 服务使用自签名证书，你需要设置以下属性：</p>
<p translation-origin="off">By default, the security verification for <code>/cloudfoundryapplication</code> endpoints makes SSL calls to various Cloud Foundry services.
If your Cloud Foundry UAA or Cloud Controller services use self-signed certificates, you need to set the following property:</p>
</div>
<div class="listingblock primary">
<div class="title" translation-result="on">属性</div>
<div class="title" translation-origin="off">Properties</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">management.cloudfoundry.skip-ssl-validation=true</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">management:
  cloudfoundry:
    skip-ssl-validation: true</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="actuator.cloud-foundry.custom-context-path" translation-result="on"><a href="actuator.html#actuator.cloud-foundry.custom-context-path"></a>10.3. 自定义上下文路径</h3>
<h3 translation-origin="off"><a class="anchor" href="actuator.html#actuator.cloud-foundry.custom-context-path"></a>10.3. Custom Context Path</h3>
<div class="paragraph">
<p translation-result="on">如果服务器的上下文路径已配置为 <code>/</code> 以外的任何内容，则 Cloud Foundry 端点在应用程序的根目录中不可用。例如，如果 <code>server.servlet.context-path=/app</code> ，Cloud Foundry 端点在 <code>/app/cloudfoundryapplication/*</code> 可用。</p>
<p translation-origin="off">If the server’s context-path has been configured to anything other than <code>/</code>, the Cloud Foundry endpoints are not available at the root of the application.
For example, if <code>server.servlet.context-path=/app</code>, Cloud Foundry endpoints are available at <code>/app/cloudfoundryapplication/*</code>.</p>
</div>
<div class="paragraph">
<p translation-result="on">如果你希望 Cloud Foundry 端点始终在 <code>/cloudfoundryapplication/*</code> 可用，无论服务器的上下文路径如何，你都需要在应用程序中显式配置它。配置会有所不同，具体取决于所使用的 Web 服务器。对于 Tomcat，你可以添加以下配置：</p>
<p translation-origin="off">If you expect the Cloud Foundry endpoints to always be available at <code>/cloudfoundryapplication/*</code>, regardless of the server’s context-path, you need to explicitly configure that in your application.
The configuration differs, depending on the web server in use.
For Tomcat, you can add the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="fold-block hide-when-folded">import java.io.IOException;
import java.util.Collections;

import javax.servlet.GenericServlet;
import javax.servlet.Servlet;
import javax.servlet.ServletContainerInitializer;
import javax.servlet.ServletContext;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;

import org.apache.catalina.Host;
import org.apache.catalina.core.StandardContext;
import org.apache.catalina.startup.Tomcat;

import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;
import org.springframework.boot.web.servlet.ServletContextInitializer;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

</span><span class="fold-block">@Configuration(proxyBeanMethods = false)
public class MyCloudFoundryConfiguration {

    @Bean
    public TomcatServletWebServerFactory servletWebServerFactory() {
        return new TomcatServletWebServerFactory() {

            @Override
            protected void prepareContext(Host host, ServletContextInitializer[] initializers) {
                super.prepareContext(host, initializers);
                StandardContext child = new StandardContext();
                child.addLifecycleListener(new Tomcat.FixContextListener());
                child.setPath("/cloudfoundryapplication");
                ServletContainerInitializer initializer = getServletContextInitializer(getContextPath());
                child.addServletContainerInitializer(initializer, Collections.emptySet());
                child.setCrossContext(true);
                host.addChild(child);
            }

        };
    }

    private ServletContainerInitializer getServletContextInitializer(String contextPath) {
        return (classes, context) -&gt; {
            Servlet servlet = new GenericServlet() {

                @Override
                public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException {
                    ServletContext context = req.getServletContext().getContext(contextPath);
                    context.getRequestDispatcher("/cloudfoundryapplication").forward(req, res);
                }

            };
            context.addServlet("cloudfoundry", servlet).addMapping("/*");
        };
    }

}
</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="actuator.whats-next" translation-result="on"><a href="actuator.html#actuator.whats-next"></a>11. 接下来要看哪里</h2>
<h2 translation-origin="off"><a class="anchor" href="actuator.html#actuator.whats-next"></a>11. What to Read Next</h2>
<div class="sectionbody">
<div class="paragraph">
<p translation-result="on">你可能想阅读有关 <a href="https://graphiteapp.org">Graphite</a> 等绘图工具的信息。</p>
<p translation-origin="off">You might want to read about graphing tools such as <a href="https://graphiteapp.org">Graphite</a>.</p>
</div>
<div class="paragraph">
<p translation-result="on">否则，你可以继续阅读<a href="deployment.html#deployment">“部署选项”</a>或继续阅读有关 Spring Boot<a href="build-tool-plugins.html#build-tool-plugins">构建工具插件</a>的一些深入信息。</p>
<p translation-origin="off">Otherwise, you can continue on to read about <a href="deployment.html#deployment">“deployment options”</a> or jump ahead for some in-depth information about Spring Boot’s <a href="build-tool-plugins.html#build-tool-plugins">build tool plugins</a>.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
最后更新于 2022-01-20 14:11:26 UTC
</div>
</div>
</div>
</div>
</div>
<script data-cfasync="false" src="../../../../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>if (window.parent == window) {(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-2728886-23', 'auto', {'siteSpeedSampleRate': 100});ga('send', 'pageview');}</script><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js/v652eace1692a40cfa3763df669d7439c1639079717194" integrity="sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw==" data-cf-beacon="{&quot;rayId&quot;:&quot;6d1fdeb9682c7c65&quot;,&quot;token&quot;:&quot;bffcb8a918ae4755926f76178bfbd26b&quot;,&quot;version&quot;:&quot;2021.12.0&quot;,&quot;si&quot;:100}" crossorigin="anonymous"></script>




</body></html>

